3:I[5613,[],""]
5:I[1778,[],""]
6:I[5250,["250","static/chunks/250-d7e0a94ebe194dac.js","79","static/chunks/79-2d03397107aae3f1.js","308","static/chunks/app/blog/%5Bslug%5D/page-1141f182299ea450.js"],""]
4:["slug","using-typescript-react-and-webpack","d"]
0:["48CaX-z0PzqA-T-8DOlhH",[[["",{"children":["blog",{"children":[["slug","using-typescript-react-and-webpack","d"],{"children":["__PAGE__?{\"slug\":\"using-typescript-react-and-webpack\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","using-typescript-react-and-webpack","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/acb87bc93b585f76.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},[null,["$","html",null,{"lang":"en","children":["$","body",null,{"className":"layout_bodystyle__4ncsS","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"style":{"display":"flex","alignItems":"center","justifyContent":"center","height":"100vh"},"children":["$","div",null,{"style":{"width":"50%","height":"20%","backgroundColor":"#ffeded","borderRadius":12,"padding":12,"textAlign":"center"},"children":[["$","h1",null,{"children":"Not Found"}],["$","p",null,{"children":"Could not find requested resource"}],["$","$L6",null,{"href":"/","children":"Return Home"}]]}]}],"notFoundStyles":[],"styles":null}]}]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/4f3d065c9e2d01e0.css","precedence":"next","crossOrigin":""}]],"$L7"]]]]
8:I[1749,["250","static/chunks/250-d7e0a94ebe194dac.js","79","static/chunks/79-2d03397107aae3f1.js","308","static/chunks/app/blog/%5Bslug%5D/page-1141f182299ea450.js"],"Image"]
7:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Patrick Desjardins Blog - Using TypeScript, React and WebPack"}],["$","meta","3",{"name":"description","content":"Using TypeScript, React and WebPack"}],["$","meta","4",{"name":"next-size-adjust"}]]
1:null
2:["$","div",null,{"className":"__className_aaf875","children":["$","div",null,{"className":"layout_container__Tovb9","children":[["$","header",null,{"className":"layout_siteTitle__k5U8g","children":"Patrick Desjardins Blog"}],["$","nav",null,{"children":["$","ul",null,{"className":"layout_navLinks__mf70r","children":["$","li",null,{"className":"layout_navLinkItem__1L8fB","children":[["$","$L6",null,{"className":"layout_navLinkText__bt28R","href":"/","children":"Main Page"}],["$","$L6",null,{"className":"layout_navLinkText__bt28R","href":"/blog","children":"Blog"}],[["$","$L6","2024",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2024","children":2024}],["$","$L6","2023",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2023","children":2023}],["$","$L6","2022",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2022","children":2022}],["$","$L6","2021",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2021","children":2021}],["$","$L6","2020",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2020","children":2020}],["$","$L6","2019",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2019","children":2019}],["$","$L6","2018",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2018","children":2018}],["$","$L6","2017",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2017","children":2017}],["$","$L6","2016",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2016","children":2016}],["$","$L6","2015",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2015","children":2015}],["$","$L6","2014",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2014","children":2014}],["$","$L6","2013",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2013","children":2013}],["$","$L6","2012",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2012","children":2012}],["$","$L6","2011",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2011","children":2011}]]]}]}]}],["$","div",null,{"className":"layout_blogPictureContainer__XC7nK","children":["$","$L8",null,{"className":"layout_blogTopPicture__RJHNN","alt":"Patrick Desjardins picture from a conference","src":"/images/backgrounds/patrickdesjardins_conference_bw.jpeg","width":800,"height":260}]}],["$","main",null,{"className":"layout_main__mXTwS","children":[["$","h1",null,{"children":"Using TypeScript, React and WebPack"}],["$","div",null,{"className":"layout_blogPostContainer__WYELx","children":[["$","p",null,{"className":"layout_blogPostDate__LUvx5","children":["Posted on: ","2017-07-24"]}],[["$","p",null,{"children":["I created an open source project to bootstrap TypeScript and React few months ago. You can see the first article about ",["$","a",null,{"href":"./how-to-setup-typescript-and-react","children":"TypeScript/React/Gulp"}]," before this article. It wasn't bundling the code, and was using Gulp which is in mid-2017 not the preferred tool to package JavaScript code. At this moment, Webpack is the most popular tool allowing to do everything Gulp or Grunt was doing but avoiding to rely on the middle man of having Gulp's package (or Grunt's package) to invoke the actual library. Webpack is also very smart in term of exploring the code and figure out dependencies. This article will focus to migrate from Gulp to Webpack for a TypeScript and React project."]}],"\n",["$","p",null,{"children":"First of all, we need to change index.html. The file was using RequireJs and was not referring to any bundles. The change is dual. We need to remove RequireJs. We will use Webpack to handle to load dependencies between modules. We also need to refer to bundles."}],"\n",["$","p",null,{"children":"Before:"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"html","data-theme":"github-light","children":["$","code",null,{"data-language":"html","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#22863A"},"children":"html"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#22863A"},"children":"head"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"title"}],["$","span",null,{"style":{"color":"#24292E"},"children":">TS + React Boilerplate v1.01</"}],["$","span",null,{"style":{"color":"#22863A"},"children":"title"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#22863A"},"children":"head"}],["$","span",null,{"style":{"color":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#22863A"},"children":"body"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"div"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" id"}],["$","span",null,{"style":{"color":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"main\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"></"}],["$","span",null,{"style":{"color":"#22863A"},"children":"div"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#22863A"},"children":"body"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" src"}],["$","span",null,{"style":{"color":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"vendors/requirejs/require.js\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"></"}],["$","span",null,{"style":{"color":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" src"}],["$","span",null,{"style":{"color":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"vendors/jquery/jquery.js\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"></"}],["$","span",null,{"style":{"color":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> requirejs."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"config"}],["$","span",null,{"style":{"color":"#24292E"},"children":"({ "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"    //Every script without folder specified before name will be looked in output folder "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    baseUrl: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"'output/'"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    paths: { "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"      //Every script paths that start with \"vendors/\" will get loaded from the folder in string "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      vendors: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"'vendors'"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      jquery: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"'../vendors/jquery/jquery'"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      react: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"../vendors/react/dist/react\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"react-dom\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"../vendors/react-dom/dist/react-dom\""}],["$","span",null,{"style":{"color":"#24292E"},"children":" }"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    }); "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"    //Startup file requirejs(['file1']); "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  </"}],["$","span",null,{"style":{"color":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#22863A"},"children":"html"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}]]}]}]}],"\n",["$","p",null,{"children":"After:"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"html","data-theme":"github-light","children":["$","code",null,{"data-language":"html","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"html"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"head"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"title"}],["$","span",null,{"style":{"color":"#24292E"},"children":">TS + React Boilerplate v1.01</"}],["$","span",null,{"style":{"color":"#22863A"},"children":"title"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> </"}],["$","span",null,{"style":{"color":"#22863A"},"children":"head"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"body"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"div"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" id"}],["$","span",null,{"style":{"color":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"main\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"></"}],["$","span",null,{"style":{"color":"#22863A"},"children":"div"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  </"}],["$","span",null,{"style":{"color":"#22863A"},"children":"body"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" src"}],["$","span",null,{"style":{"color":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"vendorbundle.js\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"></"}],["$","span",null,{"style":{"color":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> <"}],["$","span",null,{"style":{"color":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" src"}],["$","span",null,{"style":{"color":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"appbundle.js\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"></"}],["$","span",null,{"style":{"color":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#22863A"},"children":"html"}],["$","span",null,{"style":{"color":"#24292E"},"children":"> "}]]}]]}]}]}],"\n",["$","p",null,{"children":"RequireJs' configuration and the startup file are gone. The complexity will move into Webpack's configuration file that we will see soon. So, at this point, you see that we won't be using AMD. This mean that we need to build our TypeScript to use something else. We will use CommonJS."}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"javascript","data-theme":"github-light","children":["$","code",null,{"data-language":"javascript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"{ "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"   \"compilerOptions\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"     \"sourceMap\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"true"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"     \"target\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"es6\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"     \"module\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"commonjs\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"     \"outDir\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"./deploy/output\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"     \"jsx\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"react\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"     \"noImplicitAny\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"true"}],["$","span",null,{"style":{"color":"#24292E"},"children":" "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    }, "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"    \"exclude\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": [ "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"node_modules\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"**/*.spec.ts\""}],["$","span",null,{"style":{"color":"#24292E"},"children":" ] "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"} "}]}]]}]}]}],"\n",["$","p",null,{"children":"since Webpack will read the EcmaScript syntax used in each file of each module, it will transpile in CommonJS format. The JavaScript produced is read by Webpack and this one will bring all the file into a single one (bundle). This remove the need to load asynchronously (like AMD) was doing."}],"\n",["$","p",null,{"children":["Changing to CommonJS made the code to require a change. If you want to load a relative to the file that want to import a module, it needs to start with ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-light","style":{"backgroundColor":"#fff","color":"#24292e"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"./"}]}]}]}]," instead of directly the name. For example, you won't be able to write :"]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { Component } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"component1\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#032F62"},"children":"\""}]]}]}]}]}],"\n",["$","p",null,{"children":"but"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":" import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { Component } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"./component1\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}]}]}]}],"\n",["$","p",null,{"children":"The next change was around JQuery. The file that was using JQuery didn't had any reference to JQuery, but now we explicitly mention the library."}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" *"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" as"}],["$","span",null,{"style":{"color":"#24292E"},"children":" $ "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"jquery\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"; "}]]}]}]}]}],"\n",["$","p",null,{"children":"Before going in Webpack configuration, we had with AMD a lazy loading file that was loading and using a specific file after 2 seconds. This is to simulate the \"load on-demand\" files that we may want not to load initially. The scenarios are multiple. This can be justify because the user is rarely using the feature, hence no need to load this one. This can also be that the user doesn't have the authorization to do this kind of action, thus no need to load code that won't be used."}],"\n",["$","p",null,{"children":"Here is the AMD solution we had before:"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":" import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" foo "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" require"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"folder1/fileToLazyLoad\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":" export"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" class"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" ClassB"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"   public"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" method1"}],["$","span",null,{"style":{"color":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" void"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"     console."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"log"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"ClassB->method1\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"     setTimeout"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(() "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"=>"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"       requirejs"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"folder1/fileToLazyLoad\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"], ("}],["$","span",null,{"style":{"color":"#E36209"},"children":"c"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" typeof"}],["$","span",null,{"style":{"color":"#24292E"},"children":" foo) "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"=>"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" co"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" new"}],["$","span",null,{"style":{"color":"#24292E"},"children":" c."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"ClassC"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"       co."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"method1"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); }); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      }, "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"2000"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}]}]]}]}]}],"\n",["$","p",null,{"children":"The first line is to tell TypeScript the type we want to lazy load. It was using \"require\" which we will still use. This time, we can use the relative path. So far, not much as change. However, we can see that we were using requirejs directly inside the timer. This time, we will use CommonJS and load the module. It's almost the same thing -- using a different library."}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" foo "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" require"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"./fileToLazyLoad\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"export"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" class"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" ClassB"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"public"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" method1"}],["$","span",null,{"style":{"color":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" void"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  console."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"log"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"ClassB->method1\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  setTimeout"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(() "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"=>"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    System."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"./fileToLazyLoad\""}],["$","span",null,{"style":{"color":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      ."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"then"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(("}],["$","span",null,{"style":{"color":"#E36209"},"children":"c"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" typeof"}],["$","span",null,{"style":{"color":"#24292E"},"children":" foo) "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"=>"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"        const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" co"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" new"}],["$","span",null,{"style":{"color":"#24292E"},"children":" c."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"ClassC"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"        co."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"method1"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"      }); "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    }, "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"2000"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"} "}]}]]}]}]}],"\n",["$","p",null,{"children":"We are at the point where bigger change will occurs. The change start with NPM module that we need to use. As we saw, we can remove RequireJS from the dependencies list. We also need to bring many libraries for Webpack, loader and utility library to clean and move files. Here is the complete list of dependencies:"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"\"devDependencies\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"@types/express\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^4.0.35\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"@types/jquery\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^2.0.46\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"@types/react\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^15.0.26\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"@types/react-dom\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^15.5.0\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"@types/systemjs\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^0.20.2\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"awesome-typescript-loader\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^3.1.3\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"copyfiles\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^1.2.0\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"del-cli\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^1.0.0\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"express\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^4.15.3\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"file-loader\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^0.11.2\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"html-webpack-plugin\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^2.28.0\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"source-map-loader\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^0.2.1\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"typescript\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^2.3.4\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"webpack\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^2.6.1\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"tslint\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^5.4.2\""}],["$","span",null,{"style":{"color":"#24292E"},"children":" "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}, "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"\"dependencies\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"jquery\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^3.2.1\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"react\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^15.5.4\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"react-dom\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"^15.5.4\""}],["$","span",null,{"style":{"color":"#24292E"},"children":" "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"} "}]}]]}]}]}],"\n",["$","p",null,{"children":["The next step is that we won't use Gulp to invoke action. If we want to delete previous generated deploy files, build TypeScript or run the server, we need to use the CLI of each of the tool we are using. We could use directly the TypeScript's CLI, named tcs, and use xcopy to move file, etc. The problem is that it is not easy to remember. NPM allows to have custom script which can be invoked with ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-light","style":{"backgroundColor":"#fff","color":"#24292e"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"npm use ABC"}]}]}]}]," where \"ABC\" is the name of your script. Here is the script we need to add to replace the Gulp tasks we had."]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"\"scripts\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"clean\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"del-cli deploy/**\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"package\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"./node_modules/.bin/webpack --config webpack.config.js --display-error-details\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"copy\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"copyfiles -u 1 ./app/index.html ./deploy\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"build\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"del-cli deploy/**  SET NODE_ENV=development  webpack --config webpack.config.js --display-error-details  copyfiles -u 1 ./app/index.html ./deploy/\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"server\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"node bin/www.js\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}, "}]}]]}]}]}],"\n",["$","p",null,{"children":"The \"clean\" script use the \"del-cli\" to delete the deployment folder. This could be use a native Windows or Linux command, but using this tool allows to be cross platform. The \"package\" allows to run webpack with a specific configuration file and for debugging purpose to display verbose detail. The principle is the same for all others script. The \"build\" one is using the clean + package + copy. So, in practice, you should use only build and server."}],"\n",["$","p",null,{"children":"The final step is to configure Webpack. This is done in the file webpack.config.js. You can rename it the way you want, you just need to specify it in the webpack command after --config. Webpack can use many NPM package to accomplish its job. For sure, you need at least the \"webpack\" package."}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"var"}],["$","span",null,{"style":{"color":"#24292E"},"children":" path "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" require"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"'path'"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"var"}],["$","span",null,{"style":{"color":"#24292E"},"children":" webpack "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" require"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"'webpack'"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}]}]}]}],"\n",["$","p",null,{"children":["Webpack needs to have an entry point. In the example we are working on, the main file is the one that was used in the index.html with ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-light","style":{"backgroundColor":"#fff","color":"#24292e"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"requirejs(['file1']);"}]}]}]}],". This time, we do not have any indication in the HTML file. However, Webpack needs one, or many, entry point and will navigate through all the dependencies to make the main bundle."]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"module"}],["$","span",null,{"style":{"color":"#24292E"},"children":"."}],["$","span",null,{"style":{"color":"#005CC5"},"children":"exports"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#24292E"},"children":" { entry: { app: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"./app/scripts/file1.tsx\""}],["$","span",null,{"style":{"color":"#24292E"},"children":" }, "}]]}]}]}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Entry"}]," may be the entry point, ",["$","strong",null,{"children":"Output"}]," will be where the bundles goes. The filename uses the square bracket which will be replaced by the key provided by each entry point. In our example, we have \"app\" in the entry, and we will have a file produced with the name \"appbundle.js\" in the output. The directory is provided at the \"path\" property, which in that case is \"deploy\"."]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"output"}],["$","span",null,{"style":{"color":"#24292E"},"children":": { "}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"path"}],["$","span",null,{"style":{"color":"#24292E"},"children":": path."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"resolve"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(__dirname, "}],["$","span",null,{"style":{"color":"#032F62"},"children":"'deploy'"}],["$","span",null,{"style":{"color":"#24292E"},"children":"), "}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"filename"}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"'[name]bundle.js'"}],["$","span",null,{"style":{"color":"#24292E"},"children":" }, "}]]}]}]}]}],"\n",["$","p",null,{"children":"The next configuration is to tell which extension Webpack should care of. For us, it's TypeScript"}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"resolve"}],["$","span",null,{"style":{"color":"#24292E"},"children":": { "}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"extensions"}],["$","span",null,{"style":{"color":"#24292E"},"children":": ["}],["$","span",null,{"style":{"color":"#032F62"},"children":"'.ts'"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#032F62"},"children":"'.tsx'"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#032F62"},"children":"'.js'"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#032F62"},"children":"'.jsx'"}],["$","span",null,{"style":{"color":"#24292E"},"children":"] }, "}]]}]}]}]}],"\n",["$","p",null,{"children":"This property allows to have source map. This give the possibility to debug TypeScript in Chrome on the real individual file even if it's bundled."}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"devtool"}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"source-map\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}]}]}]}],"\n",["$","p",null,{"children":"Webpack work with rules. Every \"test\" evaluate a condition to execute a loader. We use two different ones. One to call the TypeScript loader that will transpile TS and TSX file. The second one is to generate source map. Even if we have the devtool to provide source map, we need a central place to handle third-party JS library too."}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"module"}],["$","span",null,{"style":{"color":"#24292E"},"children":": { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  rules"}],["$","span",null,{"style":{"color":"#24292E"},"children":": [ "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    { test:"}],["$","span",null,{"style":{"color":"#032F62"},"children":" /"}],["$","span",null,{"style":{"color":"#22863A","fontWeight":"bold"},"children":"\\\\"}],["$","span",null,{"style":{"color":"#005CC5"},"children":"."}],["$","span",null,{"style":{"color":"#032F62"},"children":"tsx"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"?$"}],["$","span",null,{"style":{"color":"#032F62"},"children":"/"}],["$","span",null,{"style":{"color":"#24292E"},"children":", loader: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"awesome-typescript-loader\""}],["$","span",null,{"style":{"color":"#24292E"},"children":" },"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    { enforce: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"pre\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", test:"}],["$","span",null,{"style":{"color":"#032F62"},"children":" /"}],["$","span",null,{"style":{"color":"#22863A","fontWeight":"bold"},"children":"\\\\"}],["$","span",null,{"style":{"color":"#005CC5"},"children":"."}],["$","span",null,{"style":{"color":"#032F62"},"children":"js"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"$$"}],["$","span",null,{"style":{"color":"#032F62"},"children":"/"}],["$","span",null,{"style":{"color":"#24292E"},"children":", loader: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"source-map-loader\""}],["$","span",null,{"style":{"color":"#24292E"},"children":" }, "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  ] "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}, "}]}]]}]}]}],"\n",["$","p",null,{"children":"The last piece is a plugin called CommonsChunkPlugin. It comes from Webpack and its role is to great additional bundle. In that case, we create a bundle name \"vendorbundle.js\". The minChunk can be a number of time we see the reference to join the bundle. For example, if we have a module that we use often and that we want them to be in a common bundle, we can say \"5\" and if more than 5 modules reference than instead of being in the \"app\" one, it would go in this one. For us, we want to have all vendors module, which mean they are from node_modules directory. To do so, the minChunks allows to pass a function. When it contains the node_modules in the path, it goes into that bundle instead of the main one (app)."}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"plugins"}],["$","span",null,{"style":{"color":"#24292E"},"children":": [ "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  new"}],["$","span",null,{"style":{"color":"#24292E"},"children":" webpack.optimize."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"CommonsChunkPlugin"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    { name: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"vendor\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    filename: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"vendorbundle.js\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"    minChunks"}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#E36209"},"children":"module"}],["$","span",null,{"style":{"color":"#24292E"},"children":") { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"      return"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" module"}],["$","span",null,{"style":{"color":"#24292E"},"children":".context  "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"module"}],["$","span",null,{"style":{"color":"#24292E"},"children":".context."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"indexOf"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"'node_modules'"}],["$","span",null,{"style":{"color":"#24292E"},"children":") "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"!=="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" -"}],["$","span",null,{"style":{"color":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#24292E"},"children":"; } "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    }) "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  ] }; "}]}]]}]}]}],"\n",["$","p",null,{"children":["You can find the exact code from ",["$","a",null,{"href":"https://github.com/MrDesjardins/TypeScriptReactBoilerplate/tree/8d4f43791e9a21cd89fbcce88e7267b72a9210f7","children":"this commit in GitHub"}],". In this article, we saw how to remove Gulp to use Webpack. Not only it removes dependencies to Gulp and Gulp's packages, it also bring a powerful tool to bundle smartly. The next step will be to bring an auto-reload when the code change to have TypeScript compile automatically to get JS deployed."]}]]]}]]}],["$","div",null,{"className":"layout_paginationBar__jnuuR","children":[["$","div",null,{"className":"layout_paginationTitle__PsOw5","children":"Chronological Blog Articles by Page"}],["$","div",null,{"className":"layout_paginationLinks__LdBaH","children":[["$","$L6","1",{"className":"","href":"/blog/page/1","children":1}],["$","$L6","2",{"className":"","href":"/blog/page/2","children":2}],["$","$L6","3",{"className":"","href":"/blog/page/3","children":3}],["$","$L6","4",{"className":"","href":"/blog/page/4","children":4}],["$","$L6","5",{"className":"","href":"/blog/page/5","children":5}],["$","$L6","6",{"className":"","href":"/blog/page/6","children":6}],["$","$L6","7",{"className":"","href":"/blog/page/7","children":7}],["$","$L6","8",{"className":"","href":"/blog/page/8","children":8}],["$","$L6","9",{"className":"","href":"/blog/page/9","children":9}],["$","$L6","10",{"className":"","href":"/blog/page/10","children":10}],["$","$L6","11",{"className":"","href":"/blog/page/11","children":11}],["$","$L6","12",{"className":"","href":"/blog/page/12","children":12}],["$","$L6","13",{"className":"","href":"/blog/page/13","children":13}],["$","$L6","14",{"className":"","href":"/blog/page/14","children":14}],["$","$L6","15",{"className":"","href":"/blog/page/15","children":15}],["$","$L6","16",{"className":"","href":"/blog/page/16","children":16}],["$","$L6","17",{"className":"","href":"/blog/page/17","children":17}],["$","$L6","18",{"className":"","href":"/blog/page/18","children":18}],["$","$L6","19",{"className":"","href":"/blog/page/19","children":19}],["$","$L6","20",{"className":"","href":"/blog/page/20","children":20}],["$","$L6","21",{"className":"","href":"/blog/page/21","children":21}],["$","$L6","22",{"className":"","href":"/blog/page/22","children":22}],["$","$L6","23",{"className":"","href":"/blog/page/23","children":23}],["$","$L6","24",{"className":"","href":"/blog/page/24","children":24}],["$","$L6","25",{"className":"","href":"/blog/page/25","children":25}],["$","$L6","26",{"className":"","href":"/blog/page/26","children":26}],["$","$L6","27",{"className":"","href":"/blog/page/27","children":27}],["$","$L6","28",{"className":"","href":"/blog/page/28","children":28}],["$","$L6","29",{"className":"","href":"/blog/page/29","children":29}],["$","$L6","30",{"className":"","href":"/blog/page/30","children":30}],["$","$L6","31",{"className":"","href":"/blog/page/31","children":31}],["$","$L6","32",{"className":"","href":"/blog/page/32","children":32}],["$","$L6","33",{"className":"","href":"/blog/page/33","children":33}],["$","$L6","34",{"className":"","href":"/blog/page/34","children":34}],["$","$L6","35",{"className":"","href":"/blog/page/35","children":35}],["$","$L6","36",{"className":"","href":"/blog/page/36","children":36}],["$","$L6","37",{"className":"","href":"/blog/page/37","children":37}],["$","$L6","38",{"className":"","href":"/blog/page/38","children":38}],["$","$L6","39",{"className":"","href":"/blog/page/39","children":39}],["$","$L6","40",{"className":"","href":"/blog/page/40","children":40}],["$","$L6","41",{"className":"","href":"/blog/page/41","children":41}],["$","$L6","42",{"className":"","href":"/blog/page/42","children":42}],["$","$L6","43",{"className":"","href":"/blog/page/43","children":43}],["$","$L6","44",{"className":"","href":"/blog/page/44","children":44}],["$","$L6","45",{"className":"","href":"/blog/page/45","children":45}],["$","$L6","46",{"className":"","href":"/blog/page/46","children":46}],["$","$L6","47",{"className":"","href":"/blog/page/47","children":47}],["$","$L6","48",{"className":"","href":"/blog/page/48","children":48}],["$","$L6","49",{"className":"","href":"/blog/page/49","children":49}],["$","$L6","50",{"className":"","href":"/blog/page/50","children":50}],["$","$L6","51",{"className":"","href":"/blog/page/51","children":51}],["$","$L6","52",{"className":"","href":"/blog/page/52","children":52}],["$","$L6","53",{"className":"","href":"/blog/page/53","children":53}],["$","$L6","54",{"className":"","href":"/blog/page/54","children":54}],["$","$L6","55",{"className":"","href":"/blog/page/55","children":55}],["$","$L6","56",{"className":"","href":"/blog/page/56","children":56}],["$","$L6","57",{"className":"","href":"/blog/page/57","children":57}],["$","$L6","58",{"className":"","href":"/blog/page/58","children":58}],["$","$L6","59",{"className":"","href":"/blog/page/59","children":59}],["$","$L6","60",{"className":"","href":"/blog/page/60","children":60}],["$","$L6","61",{"className":"","href":"/blog/page/61","children":61}],["$","$L6","62",{"className":"","href":"/blog/page/62","children":62}],["$","$L6","63",{"className":"","href":"/blog/page/63","children":63}],["$","$L6","64",{"className":"","href":"/blog/page/64","children":64}],["$","$L6","65",{"className":"","href":"/blog/page/65","children":65}],["$","$L6","66",{"className":"","href":"/blog/page/66","children":66}],["$","$L6","67",{"className":"","href":"/blog/page/67","children":67}],["$","$L6","68",{"className":"","href":"/blog/page/68","children":68}],["$","$L6","69",{"className":"","href":"/blog/page/69","children":69}],["$","$L6","70",{"className":"","href":"/blog/page/70","children":70}],["$","$L6","71",{"className":"","href":"/blog/page/71","children":71}],["$","$L6","72",{"className":"","href":"/blog/page/72","children":72}],["$","$L6","73",{"className":"","href":"/blog/page/73","children":73}],["$","$L6","74",{"className":"","href":"/blog/page/74","children":74}],["$","$L6","75",{"className":"","href":"/blog/page/75","children":75}],["$","$L6","76",{"className":"","href":"/blog/page/76","children":76}],["$","$L6","77",{"className":"","href":"/blog/page/77","children":77}]]}]]}]]}]}]

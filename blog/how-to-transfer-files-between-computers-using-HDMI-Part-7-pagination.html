<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/images/blog/hdmi_article7_pagination.png"/><link rel="preload" as="image" href="/images/blog/hdmi_article7_pagination2.png"/><link rel="preload" as="image" href="/images/blog/hdmi_article7_framenotfull.png"/><link rel="stylesheet" href="/_next/static/css/53d73aaa6ce0fadc.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/378d2a9747ade719.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/585ef9e6d39b193c.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-9af2c930232f0daf.js"/><script src="/_next/static/chunks/fd9d1056-2821b0f0cabcd8bd.js" async=""></script><script src="/_next/static/chunks/23-432f74a8b1479502.js" async=""></script><script src="/_next/static/chunks/main-app-0d54ed11e4491763.js" async=""></script><script src="/_next/static/chunks/231-d291986acc57095e.js" async=""></script><script src="/_next/static/chunks/173-1ff9408fc5d1e856.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-b7aa7f195c3b21e3.js" async=""></script><title>Patrick Desjardins Blog - How to Transfer Files Between Computers Using HDMI (Part 7: Pagination)</title><meta name="description" content="How to Transfer Files Between Computers Using HDMI (Part 7: Pagination)"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="layout_bodystyle__4ncsS"><div class="layout_bodystyle__9TFhb"><div class="BlogBody_BlogBody__600mT"><header class="BlogBody_siteTitle__f7uyb">Patrick Desjardins Blog</header><nav><ul class="BlogBody_navLinks__ZV12t"><li class="BlogBody_navLinkItem__Pml2e"><a class="BlogBody_navLinkText__ZtH2y" href="/">Main Page</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog">Blog</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2024">2024</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2023">2023</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2022">2022</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2021">2021</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2020">2020</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2019">2019</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2018">2018</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2017">2017</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2016">2016</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2015">2015</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2014">2014</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2013">2013</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2012">2012</a><a class="BlogBody_navLinkText__ZtH2y" href="/blog/for/2011">2011</a></li></ul></nav><div class="BlogBody_blogPictureContainer__IAbPL"><img alt="Patrick Desjardins picture from a conference" loading="lazy" width="800" height="260" decoding="async" data-nimg="1" class="BlogBody_blogTopPicture__L6lao" style="color:transparent" src="/images/backgrounds/patrickdesjardins_conference_bw.jpeg"/></div><main class="BlogBody_main__XrdKY"><h1 class="BlogBody_heading__bYRBe">How to Transfer Files Between Computers Using HDMI (Part 7: Pagination)</h1><div class="Page_blogPostContainer__AUIcf"><p class="Page_blogPostDate__wVWWB">Posted on: <!-- -->2023-07-08</p><p>Transferring data using the HDMI cable and the capture card continues to demonstrate how easily corruption can cause the file to be unusable.</p>
<p>Let&#x27;s review a few points that demonstrate that we have some inconsistancy around frames.</p>
<pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line">ffmpeg <span class="token parameter variable">-f</span> dshow <span class="token parameter variable">-list_options</span> <span class="token boolean">true</span> <span class="token parameter variable">-i</span> <span class="token assign-left variable">video</span><span class="token operator">=</span><span class="token string">&quot;USB Video&quot;</span>
</span></code></pre>
<p>Shows <code>vcodec=mjpeg</code>. The codec is a compressed one, and we have tackled the issue using a less space efficient way, using black and white with more than a single pixel to hold the information.</p>
<pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line">ffmpeg  <span class="token parameter variable">-r</span> <span class="token number">15</span> <span class="token parameter variable">-f</span> dshow <span class="token parameter variable">-s</span> 1920x1080 <span class="token parameter variable">-vcodec</span> mjpeg <span class="token parameter variable">-rtbufsize</span> 200M <span class="token parameter variable">-i</span> <span class="token assign-left variable">video</span><span class="token operator">=</span><span class="token string">&quot;USB Video&quot;</span> <span class="token parameter variable">-r</span> <span class="token number">15</span> out_fps15_size10px.mp4
</span></code></pre>
<p>The command above uses a lower speed of 15 frames per second (fps) to ensure we give some pace to the whole process. Encoding the file in 15 fps was also required, but it still needs to be fixed. During the command, additional information like the following gives a hint that the fps is inconsistent on reading.</p>
<pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line">Input <span class="token comment">#0, dshow, from &#x27;video=USB Video&#x27;:</span>
</span><span class="code-line">  Duration: N/A, start: <span class="token number">613320.254228</span>, bitrate: N/A
</span><span class="code-line">  Stream <span class="token comment">#0:0: Video: mjpeg (Baseline) (MJPG / 0x47504A4D), yuvj422p(pc, bt470bg/bt709/unknown), 1920x1080, 15 fps, 15 tbr, 10000k tbn</span>
</span><span class="code-line">Stream mapping:
</span><span class="code-line">  Stream <span class="token comment">#0:0 -&gt; #0:0 (mjpeg (native) -&gt; h264 (libx264))</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token punctuation">[</span>libx264 @ 000001cd3023be80<span class="token punctuation">]</span> using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2 AVX512
</span><span class="code-line"><span class="token punctuation">[</span>libx264 @ 000001cd3023be80<span class="token punctuation">]</span> profile High <span class="token number">4</span>:2:2, level <span class="token number">4.0</span>, <span class="token number">4</span>:2:2, <span class="token number">8</span>-bit
</span><span class="code-line"><span class="token punctuation">[</span>libx264 @ 000001cd3023be80<span class="token punctuation">]</span> <span class="token number">264</span> - core <span class="token number">164</span> r3106 eaa68fa - H.264/MPEG-4 AVC codec - Copyleft <span class="token number">2003</span>-2023 - http://www.videolan.org/x264.html - options: <span class="token assign-left variable">cabac</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ref</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">deblock</span><span class="token operator">=</span><span class="token number">1</span>:0:0 <span class="token assign-left variable">analyse</span><span class="token operator">=</span>0x3:0x113 <span class="token assign-left variable">me</span><span class="token operator">=</span>hex <span class="token assign-left variable">subme</span><span class="token operator">=</span><span class="token number">7</span> <span class="token assign-left variable">psy</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">psy_rd</span><span class="token operator">=</span><span class="token number">1.00</span>:0.00 <span class="token assign-left variable">mixed_ref</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">me_range</span><span class="token operator">=</span><span class="token number">16</span> <span class="token assign-left variable">chroma_me</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">trellis</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">8x8dct</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">cqm</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">deadzone</span><span class="token operator">=</span><span class="token number">21,11</span> <span class="token assign-left variable">fast_pskip</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">chroma_qp_offset</span><span class="token operator">=</span>-2 <span class="token assign-left variable">threads</span><span class="token operator">=</span><span class="token number">24</span> <span class="token assign-left variable">lookahead_threads</span><span class="token operator">=</span><span class="token number">4</span> <span class="token assign-left variable">sliced_threads</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">nr</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">decimate</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">interlaced</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">bluray_compat</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">constrained_intra</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">bframes</span><span class="token operator">=</span><span class="token number">3</span> <span class="token assign-left variable">b_pyramid</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">b_adapt</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">b_bias</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">direct</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">weightb</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">open_gop</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">weightp</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">keyint</span><span class="token operator">=</span><span class="token number">250</span> <span class="token assign-left variable">keyint_min</span><span class="token operator">=</span><span class="token number">15</span> <span class="token assign-left variable">scenecut</span><span class="token operator">=</span><span class="token number">40</span> <span class="token assign-left variable">intra_refresh</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">rc_lookahead</span><span class="token operator">=</span><span class="token number">40</span> <span class="token assign-left variable">rc</span><span class="token operator">=</span>crf <span class="token assign-left variable">mbtree</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">crf</span><span class="token operator">=</span><span class="token number">23.0</span> <span class="token assign-left variable">qcomp</span><span class="token operator">=</span><span class="token number">0.60</span> <span class="token assign-left variable">qpmin</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">qpmax</span><span class="token operator">=</span><span class="token number">69</span> <span class="token assign-left variable">qpstep</span><span class="token operator">=</span><span class="token number">4</span> <span class="token assign-left variable">ip_ratio</span><span class="token operator">=</span><span class="token number">1.40</span> <span class="token assign-left variable">aq</span><span class="token operator">=</span><span class="token number">1</span>:1.00
</span><span class="code-line">Output <span class="token comment">#0, mp4, to &#x27;out_fps15_size10px.mp4&#x27;:</span>
</span><span class="code-line">  Metadata:
</span><span class="code-line">    encoder         <span class="token builtin class-name">:</span> Lavf60.3.100
</span><span class="code-line">  Stream <span class="token comment">#0:0: Video: h264 (avc1 / 0x31637661), yuvj422p(pc, bt470bg/bt709/unknown, progressive), 1920x1080, q=2-31, 15 fps, 15360 tbn</span>
</span><span class="code-line">    Metadata:
</span><span class="code-line">      encoder         <span class="token builtin class-name">:</span> Lavc60.3.100 libx264
</span><span class="code-line">    Side data:
</span><span class="code-line">      cpb: bitrate max/min/avg: <span class="token number">0</span>/0/0 buffer size: <span class="token number">0</span> vbv_delay: N/A
</span><span class="code-line"><span class="token assign-left variable">frame</span><span class="token operator">=</span>  <span class="token number">674</span> <span class="token assign-left variable">fps</span><span class="token operator">=</span> <span class="token number">15</span> <span class="token assign-left variable">q</span><span class="token operator">=</span><span class="token number">27.0</span> <span class="token assign-left variable">size</span><span class="token operator">=</span>  221952kB <span class="token assign-left variable">time</span><span class="token operator">=</span>00:00:44.80 <span class="token assign-left variable">bitrate</span><span class="token operator">=</span><span class="token number">40585</span>.5kbits/s <span class="token assign-left variable">speed</span><span class="token operator">=</span><span class="token number">0</span>.978x
</span></code></pre>
<p>Zooming toward the encoding portion, we see that there is a mix of mjpeg and h264. At the moment, I only suspect there is more compression than anticipated but we should be cover.</p>
<pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line">Stream <span class="token comment">#0:0: Video: mjpeg (Baseline) (MJPG / 0x47504A4D), yuvj422p(pc, bt470bg/bt709/unknown), 1920x1080, 15 fps, 15 tbr, 10000k tbn</span>
</span><span class="code-line">Stream <span class="token comment">#0:0 -&gt; #0:0 (mjpeg (native) -&gt; h264 (libx264))</span>
</span><span class="code-line">Stream <span class="token comment">#0:0: Video: h264 (avc1 / 0x31637661), yuvj422p(pc, bt470bg/bt709/unknown, progressive), 1920x1080, q=2-31, 15 fps, 15360 tbn</span>
</span></code></pre>
<p>To this point, outside compression that might cause issue there might be another detail escaping us. One hint is the fps of the capture in ffmpg. An hypothesis might be that we are missing some frames. Even missing a single frame will cause the whole file not to be readable. We now rely on a single red frame to indicate the starting point. After the red frame, we assume the next frame is the first one with the instruction frame that gives the number of bytes for the actual content. However, what happens if the frame transfer after the red one fails to be transmitted or read? Also, there is no way to ensure we read all the frames.</p>
<h1>Adaptation: Pagination</h1>
<p>The next idea is to add a reserved 64 bits of space to every frame, similar to the instruction. Also, modifying the instruction to be the <strong>first</strong> 64 bits of the red frame. The reason is that once we figure out the structure to be the starting one (the red one) we do not need to rely on the next frame to be the instruction -- the red frame will always have the instruction. Thus, we can still know the total amount of bytes to recuperate, but now we can do it more reliably.</p>
<p><img src="/images/blog/hdmi_article7_pagination.png" alt=""/></p>
<p>The central concept remains that we generate one starting (red) frame and then the frames for the data. However, With the addition of the pagination, we can read (watch) the whole video several times and use a dictionary (hash map) to accumulate the missing frames on each pass. If we notice missing frames after capturing the footage twice, we could continue to loop the video for longer and see if we can collect all frames.</p>
<p><img src="/images/blog/hdmi_article7_pagination2.png" alt=""/></p>
<p>The illustration shows that the first time the system reads the video, it receives frame #2. It saves it into the map. Then, it captures frame #3. Because the map does not have frame #3, it adds it. Then the instruction is read, telling it needs x amount of bytes. Then, it continues to read and capture frame #1. The order does not matter. The program continues to read frames, but they are all already there, thus does not save anything until the capture is over. On completion, it knows that frame 1 is the first, and so on, until it cannot find the data. In that case, fetching frame #4 would return nothing, which signals to stop concatenating the frame&#x27;s byte. Finally, the stop is to look at the instruction to know the number of relevant bytes to build the original file.</p>
<p>This new solution should fix the current limitation of the algorithm.</p>
<h1>Testing Locally</h1>
<p>The modification worked perfectly locally. I added integration tests in Rust which is a matter of creating a folder called <code>tests</code> at the project&#x27;s root. To run only the integration test, we call <code>cargo test --test &quot;*&quot;</code>. Generating the video and reading it back using the Rust program works well. A small change visually in the video is that the frame does not use any character and thus is <code>null</code> for a frame that is not full of data. Similarly, the starting red frame now contains some white and black in the first 64 pixels (if the size is set to 1). It is the data, including the number of bytes to extract.</p>
<p><img src="/images/blog/hdmi_article7_framenotfull.png" alt=""/></p>
<h1>Testing with Remote Computer</h1>
<p>The ultimate test is to generate the video on a remote machine, play the video and extract using FFmpeg. The same steps as before are required with FFmpeg.</p>
<p>The first test was with a size of 2 using a zip file encoded at 30fps. With the new pagination mechanism, if FFmpeg cannot read at 30fps all frames (some are skipped), the whole sequence would be there within a few loops. I let the FFmpeg loops about 5 times and the result was a video of about 80 megs. However, the code that is reading the video was breaking after two frames.</p>
<pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line"><span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">video_to_frames</span><span class="token punctuation">(</span>extract_options<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">ExtractOptions</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token class-name">VideoFrame</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> video <span class="token operator">=</span> <span class="token class-name">VideoCapture</span><span class="token punctuation">::</span><span class="token function">from_file</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>extract_options<span class="token punctuation">.</span>video_file_path<span class="token punctuation">,</span> <span class="token constant">CAP_ANY</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">&quot;Could not open video path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> all_frames <span class="token operator">=</span> <span class="token class-name">Vec</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">loop</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">let</span> <span class="token keyword">mut</span> frame <span class="token operator">=</span> <span class="token class-name">Mat</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        video
</span><span class="code-line">            <span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> frame<span class="token punctuation">)</span>
</span><span class="code-line">            <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">&quot;Reading frame shouldn&#x27;t crash&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token keyword">if</span> frame<span class="token punctuation">.</span><span class="token function">cols</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
</span><span class="code-line highlight-line">            <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// &lt;------------------- Here</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token keyword">let</span> source <span class="token operator">=</span> <span class="token class-name">VideoFrame</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>frame<span class="token punctuation">,</span> extract_options<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">match</span> source <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token class-name">Ok</span><span class="token punctuation">(</span>frame<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">                all_frames<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>frame<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">            <span class="token punctuation">}</span>
</span><span class="code-line">            <span class="token class-name">Err</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">                <span class="token macro property">panic!</span><span class="token punctuation">(</span><span class="token string">&quot;Reading from VideoFrame: {:?}&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">            <span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    all_frames
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">```
</span><span class="code-line">
</span><span class="code-line"><span class="token class-name">After</span> trying several differen ways to open the video like using the ffmpeg wrapper <span class="token keyword">for</span> <span class="token class-name">Rust</span> <span class="token class-name">I</span> was unsuccessful<span class="token punctuation">.</span> <span class="token class-name">The</span> video produced can be open with software like <span class="token constant">VLC</span> but the <span class="token class-name">Open</span> <span class="token constant">CV</span> couldn<span class="token lifetime-annotation symbol">&#x27;t</span><span class="token punctuation">.</span> <span class="token class-name">The</span> <span class="token function">ffmpeg</span> <span class="token punctuation">(</span>using the ffmpeg_next<span class="token punctuation">)</span> was not compiling after <span class="token number">30</span> minutes of <span class="token keyword">try</span> so <span class="token class-name">I</span> gave up<span class="token punctuation">.</span>
</span><span class="code-line">
</span><span class="code-line"># <span class="token class-name">Codec</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token class-name">The</span> command to read the video stream from the video card uses the `<span class="token operator">-</span>vcodec mjpeg`<span class="token punctuation">.</span> <span class="token class-name">As</span> discussed <span class="token keyword">in</span> a previous post<span class="token punctuation">,</span> this is because the ffmpeg specify that this is what the device is providing<span class="token punctuation">.</span>
</span><span class="code-line">
</span><span class="code-line">```sh
</span><span class="code-line">ffmpeg <span class="token operator">-</span>f dshow <span class="token operator">-</span>list_options <span class="token boolean">true</span> <span class="token operator">-</span>i video<span class="token operator">=</span><span class="token string">&quot;USB Video&quot;</span>
</span><span class="code-line"><span class="token punctuation">[</span>dshow <span class="token operator">@</span> 0000022277b00100<span class="token punctuation">]</span>   vcodec<span class="token operator">=</span>mjpeg  min s<span class="token operator">=</span>1920x1080 fps<span class="token operator">=</span><span class="token number">10</span> max s<span class="token operator">=</span>1920x1080 fps<span class="token operator">=</span><span class="token number">60.0002</span>
</span><span class="code-line"><span class="token punctuation">[</span>dshow <span class="token operator">@</span> 0000022277b00100<span class="token punctuation">]</span>   vcodec<span class="token operator">=</span>mjpeg  min s<span class="token operator">=</span>1920x1080 fps<span class="token operator">=</span><span class="token number">10</span> max s<span class="token operator">=</span>1920x1080 fps<span class="token operator">=</span><span class="token number">60.0002</span> <span class="token punctuation">(</span>pc<span class="token punctuation">,</span> bt470bg<span class="token operator">/</span>bt709<span class="token operator">/</span>unknown<span class="token punctuation">,</span> center<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">[</span>dshow <span class="token operator">@</span> 0000022277b00100<span class="token punctuation">]</span>   pixel_format<span class="token operator">=</span>yuyv422  min s<span class="token operator">=</span>1920x1080 fps<span class="token operator">=</span><span class="token number">5</span> max s<span class="token operator">=</span>1920x1080 fps<span class="token operator">=</span><span class="token number">5</span>
</span><span class="code-line"><span class="token punctuation">[</span>dshow <span class="token operator">@</span> 0000022277b00100<span class="token punctuation">]</span>   pixel_format<span class="token operator">=</span>yuyv422  min s<span class="token operator">=</span>1920x1080 fps<span class="token operator">=</span><span class="token number">5</span> max s<span class="token operator">=</span>1920x1080 fps<span class="token operator">=</span><span class="token number">5</span> <span class="token punctuation">(</span>tv<span class="token punctuation">,</span> bt470bg<span class="token operator">/</span>bt709<span class="token operator">/</span>unknown<span class="token punctuation">,</span> topleft<span class="token punctuation">)</span>
</span><span class="code-line">```
</span><span class="code-line">
</span><span class="code-line"><span class="token class-name">However</span><span class="token punctuation">,</span> we could convert into a different format when saving to the file which could be open by <span class="token class-name">Open</span> <span class="token constant">CV</span><span class="token punctuation">.</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token class-name">While</span> the codev and pixel format were good values compared to the <span class="token class-name">Windows</span> ffmpeg commands below<span class="token punctuation">:</span>
</span><span class="code-line">
</span><span class="code-line">```sh
</span><span class="code-line">ffmpeg <span class="token operator">-</span>codecs <span class="token operator">&gt;</span> codec<span class="token punctuation">.</span>txt
</span><span class="code-line">ffmpeg <span class="token operator">-</span>pix_fmts <span class="token operator">&gt;</span> pix<span class="token punctuation">.</span>txt
</span><span class="code-line">```
</span><span class="code-line"><span class="token class-name">The</span> command to read the capture card kept giving me buffer size limit issue or setting issues<span class="token punctuation">.</span> <span class="token class-name">I</span> decided to avoid codec with raw data<span class="token punctuation">.</span> <span class="token class-name">It</span> does create a huge file but <span class="token class-name">I</span> was able to read the file using <span class="token macro property">VLC!</span>
</span><span class="code-line">
</span><span class="code-line">```sh
</span><span class="code-line">ffmpeg <span class="token operator">-</span>f dshow <span class="token operator">-</span>video_size 1920x1080 <span class="token operator">-</span>i video<span class="token operator">=</span><span class="token string">&quot;USB Video&quot;</span> <span class="token operator">-</span>rtbufsize 200M <span class="token operator">-</span>framerate <span class="token number">30</span> <span class="token operator">-</span>c<span class="token punctuation">:</span>v copy output<span class="token punctuation">.</span>mp4
</span><span class="code-line">```
</span><span class="code-line"><span class="token class-name">Using</span> the <span class="token class-name">Rust</span> code on the raw output <span class="token macro property">worked!</span> <span class="token class-name">The</span> raw <span class="token number">167</span> megs of under <span class="token number">12</span> seconds generated a perfect <span class="token number">2</span> meg image <span class="token keyword">in</span> <span class="token number">3</span> minutes <span class="token number">49</span> seconds<span class="token punctuation">.</span> <span class="token class-name">The</span> same <span class="token keyword">as</span> the source<span class="token punctuation">.</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token class-name">Let</span><span class="token lifetime-annotation symbol">&#x27;s</span> <span class="token keyword">use</span> a codec and see how we can optimize the overall transformation time<span class="token punctuation">.</span>
</span><span class="code-line">
</span><span class="code-line">```sh
</span><span class="code-line">ffmpeg <span class="token operator">-</span>f dshow <span class="token operator">-</span>video_size 1920x1080 <span class="token operator">-</span>i video<span class="token operator">=</span><span class="token string">&quot;USB Video&quot;</span> <span class="token operator">-</span>rtbufsize 200M <span class="token operator">-</span>framerate <span class="token number">30</span> <span class="token operator">-</span>c<span class="token punctuation">:</span>v copy input<span class="token punctuation">.</span>mp4
</span><span class="code-line">ffmpeg <span class="token operator">-</span>i input<span class="token punctuation">.</span>mp4 <span class="token operator">-</span>c<span class="token punctuation">:</span>v libx264 <span class="token operator">-</span>crf <span class="token number">23</span> <span class="token operator">-</span>preset medium <span class="token operator">-</span>c<span class="token punctuation">:</span>a aac <span class="token operator">-</span>b<span class="token punctuation">:</span>a 128k output<span class="token punctuation">.</span>mp4
</span><span class="code-line">```
</span><span class="code-line"><span class="token class-name">The</span> time was not <span class="token function">better</span> <span class="token punctuation">(</span><span class="token class-name">I</span> stopped the <span class="token class-name">Rust</span> script after <span class="token number">5</span> minutes<span class="token punctuation">,</span> it wasn<span class="token lifetime-annotation symbol">&#x27;t</span> even at <span class="token number">25</span><span class="token operator">%</span><span class="token punctuation">)</span> and actually added potential issue with the compression<span class="token punctuation">.</span> <span class="token class-name">Also</span><span class="token punctuation">,</span> <span class="token keyword">while</span> running the second command<span class="token punctuation">,</span> the console is flooded with the following error<span class="token punctuation">.</span> <span class="token class-name">Still</span><span class="token punctuation">,</span> the file can be read by <span class="token constant">VLC</span> and by the <span class="token class-name">Rust</span> program<span class="token punctuation">.</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token operator">&gt;</span> <span class="token punctuation">[</span>mjpeg <span class="token operator">@</span> 0000025116f78740<span class="token punctuation">]</span> <span class="token class-name">Found</span> <span class="token constant">EOI</span> before any <span class="token constant">SOF</span><span class="token punctuation">,</span> ignoring
</span><span class="code-line"><span class="token operator">&gt;</span> <span class="token punctuation">[</span>mjpeg <span class="token operator">@</span> 0000025116f78740<span class="token punctuation">]</span> <span class="token class-name">No</span> <span class="token constant">JPEG</span> data found <span class="token keyword">in</span> image
</span><span class="code-line"><span class="token operator">&gt;</span> <span class="token class-name">Error</span> <span class="token keyword">while</span> decoding stream #<span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token class-name">Invalid</span> data found when processing input
</span><span class="code-line">
</span><span class="code-line"># <span class="token class-name">No</span> <span class="token class-name">Compression</span><span class="token punctuation">,</span> <span class="token number">1</span> size pixel zip file
</span><span class="code-line">
</span><span class="code-line"><span class="token class-name">The</span> ultimate test was to <span class="token keyword">use</span> a zip file with the most black and white information density of each bit using <span class="token number">1</span> pixel<span class="token punctuation">.</span>
</span><span class="code-line">
</span><span class="code-line">```sh
</span><span class="code-line">ffmpeg <span class="token operator">-</span>f dshow <span class="token operator">-</span>video_size 1920x1080 <span class="token operator">-</span>i video<span class="token operator">=</span><span class="token string">&quot;USB Video&quot;</span> <span class="token operator">-</span>rtbufsize 200M <span class="token operator">-</span>framerate <span class="token number">30</span> <span class="token operator">-</span>c<span class="token punctuation">:</span>v copy input_zip<span class="token punctuation">.</span>mp4
</span><span class="code-line">cargo run <span class="token operator">-</span><span class="token operator">-</span>release <span class="token operator">-</span><span class="token operator">-</span> <span class="token operator">-</span>m extract <span class="token operator">-</span>i outputs<span class="token operator">/</span>input_zip<span class="token punctuation">.</span>mp4 <span class="token operator">-</span>o outputs<span class="token operator">/</span><span class="token class-name">PictureFiles</span><span class="token punctuation">.</span>zip <span class="token operator">-</span><span class="token operator">-</span>fps <span class="token number">30</span> <span class="token operator">-</span><span class="token operator">-</span>height <span class="token number">1080</span> <span class="token operator">-</span><span class="token operator">-</span>width <span class="token number">1920</span> <span class="token operator">-</span><span class="token operator">-</span>size <span class="token number">1</span> <span class="token operator">-</span>p <span class="token boolean">true</span> <span class="token operator">-</span>a bw
</span><span class="code-line">```
</span><span class="code-line"><span class="token class-name">I</span> <span class="token keyword">let</span> the recording watch the video twice<span class="token punctuation">.</span> <span class="token class-name">It</span> produced a file of <span class="token number">328</span> <span class="token function">megs</span> <span class="token punctuation">(</span><span class="token number">16</span> seconds<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">The</span> <span class="token class-name">Rust</span> script ran <span class="token keyword">for</span> <span class="token number">1</span> minute and <span class="token number">6</span> seconds an failed with missing frame<span class="token punctuation">:</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token operator">&gt;</span> <span class="token class-name">We</span> have not receive all frames<span class="token punctuation">.</span> <span class="token class-name">We</span> received <span class="token number">6</span> frames <span class="token keyword">for</span> a total of <span class="token number">1555152</span> bytes and we expected <span class="token number">54347552</span> bytes
</span><span class="code-line">
</span><span class="code-line"><span class="token class-name">I</span> captured again<span class="token punctuation">,</span> this time <span class="token keyword">let</span> about <span class="token number">12</span> iterations of the movie to be recorded<span class="token punctuation">.</span> <span class="token class-name">I</span> could see my personal laptop that was running the video being not smooth and the fan running <span class="token keyword">super</span> hard<span class="token punctuation">.</span> <span class="token class-name">I</span> suspect frames are skipping <span class="token keyword">as</span> visually <span class="token class-name">I</span> can see some freeze<span class="token punctuation">.</span> <span class="token class-name">The</span> generated file was about <span class="token number">850</span> megs<span class="token punctuation">.</span> <span class="token class-name">Unfortunately</span><span class="token punctuation">,</span> the same <span class="token number">6</span> frames were missing<span class="token punctuation">.</span>
</span></code></pre></div></main><div class="BlogBody_paginationBar__1gsMc"><div class="BlogBody_paginationTitle__H_eFX">Chronological Blog Articles by Page</div><div class="BlogBody_paginationLinks__nk8zd"><a class="" href="/blog/page/1">1</a><a class="" href="/blog/page/2">2</a><a class="" href="/blog/page/3">3</a><a class="" href="/blog/page/4">4</a><a class="" href="/blog/page/5">5</a><a class="" href="/blog/page/6">6</a><a class="" href="/blog/page/7">7</a><a class="" href="/blog/page/8">8</a><a class="" href="/blog/page/9">9</a><a class="" href="/blog/page/10">10</a><a class="" href="/blog/page/11">11</a><a class="" href="/blog/page/12">12</a><a class="" href="/blog/page/13">13</a><a class="" href="/blog/page/14">14</a><a class="" href="/blog/page/15">15</a><a class="" href="/blog/page/16">16</a><a class="" href="/blog/page/17">17</a><a class="" href="/blog/page/18">18</a><a class="" href="/blog/page/19">19</a><a class="" href="/blog/page/20">20</a><a class="" href="/blog/page/21">21</a><a class="" href="/blog/page/22">22</a><a class="" href="/blog/page/23">23</a><a class="" href="/blog/page/24">24</a><a class="" href="/blog/page/25">25</a><a class="" href="/blog/page/26">26</a><a class="" href="/blog/page/27">27</a><a class="" href="/blog/page/28">28</a><a class="" href="/blog/page/29">29</a><a class="" href="/blog/page/30">30</a><a class="" href="/blog/page/31">31</a><a class="" href="/blog/page/32">32</a><a class="" href="/blog/page/33">33</a><a class="" href="/blog/page/34">34</a><a class="" href="/blog/page/35">35</a><a class="" href="/blog/page/36">36</a><a class="" href="/blog/page/37">37</a><a class="" href="/blog/page/38">38</a><a class="" href="/blog/page/39">39</a><a class="" href="/blog/page/40">40</a><a class="" href="/blog/page/41">41</a><a class="" href="/blog/page/42">42</a><a class="" href="/blog/page/43">43</a><a class="" href="/blog/page/44">44</a><a class="" href="/blog/page/45">45</a><a class="" href="/blog/page/46">46</a><a class="" href="/blog/page/47">47</a><a class="" href="/blog/page/48">48</a><a class="" href="/blog/page/49">49</a><a class="" href="/blog/page/50">50</a><a class="" href="/blog/page/51">51</a><a class="" href="/blog/page/52">52</a><a class="" href="/blog/page/53">53</a><a class="" href="/blog/page/54">54</a><a class="" href="/blog/page/55">55</a><a class="" href="/blog/page/56">56</a><a class="" href="/blog/page/57">57</a><a class="" href="/blog/page/58">58</a><a class="" href="/blog/page/59">59</a><a class="" href="/blog/page/60">60</a><a class="" href="/blog/page/61">61</a><a class="" href="/blog/page/62">62</a><a class="" href="/blog/page/63">63</a><a class="" href="/blog/page/64">64</a><a class="" href="/blog/page/65">65</a><a class="" href="/blog/page/66">66</a><a class="" href="/blog/page/67">67</a><a class="" href="/blog/page/68">68</a><a class="" href="/blog/page/69">69</a><a class="" href="/blog/page/70">70</a><a class="" href="/blog/page/71">71</a><a class="" href="/blog/page/72">72</a><a class="" href="/blog/page/73">73</a><a class="" href="/blog/page/74">74</a><a class="" href="/blog/page/75">75</a><a class="" href="/blog/page/76">76</a><a class="" href="/blog/page/77">77</a><a class="" href="/blog/page/78">78</a></div></div></div></div><script src="/_next/static/chunks/webpack-9af2c930232f0daf.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/53d73aaa6ce0fadc.css\",\"style\"]\n2:HL[\"/_next/static/css/378d2a9747ade719.css\",\"style\"]\n3:HL[\"/_next/static/css/585ef9e6d39b193c.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[5751,[],\"\"]\n7:I[9275,[],\"\"]\n9:I[1343,[],\"\"]\na:I[231,[\"231\",\"static/chunks/231-d291986acc57095e.js\",\"173\",\"static/chunks/173-1ff9408fc5d1e856.js\",\"308\",\"static/chunks/app/blog/%5Bslug%5D/page-b7aa7f195c3b21e3.js\"],\"\"]\nc:I[6130,[],\"\"]\n8:[\"slug\",\"how-to-transfer-files-between-computers-using-HDMI-Part-7-pagination\",\"d\"]\nd:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/53d73aaa6ce0fadc.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"D5U6_LGqdWL6WfdSdf8eq\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blog/how-to-transfer-files-between-computers-using-HDMI-Part-7-pagination\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"how-to-transfer-files-between-computers-using-HDMI-Part-7-pagination\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"how-to-transfer-files-between-computers-using-HDMI-Part-7-pagination\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"how-to-transfer-files-between-computers-using-HDMI-Part-7-pagination\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L5\",\"$L6\"],null],null]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/585ef9e6d39b193c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[[\"$\",\"div\",null,{\"className\":\"layout_bodystyle__9TFhb\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]}],null],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"layout_bodystyle__4ncsS\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"style\":{\"display\":\"flex\",\"alignItems\":\"center\",\"justifyContent\":\"center\",\"height\":\"100vh\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"width\":\"50%\",\"height\":\"20%\",\"backgroundColor\":\"#ffeded\",\"borderRadius\":12,\"padding\":12,\"textAlign\":\"center\"},\"children\":[[\"$\",\"h1\",null,{\"children\":\"Not Found\"}],[\"$\",\"p\",null,{\"children\":\"Could not find requested resource\"}],[\"$\",\"$La\",null,{\"href\":\"/\",\"children\":\"Return Home\"}]]}]}],\"notFoundStyles\":[],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/378d2a9747ade719.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$Lb\"],\"globalErrorComponent\":\"$c\",\"missingSlots\":\"$Wd\"}]]\n"])</script><script>self.__next_f.push([1,"e:I[8173,[\"231\",\"static/chunks/231-d291986acc57095e.js\",\"173\",\"static/chunks/173-1ff9408fc5d1e856.js\",\"308\",\"static/chunks/app/blog/%5Bslug%5D/page-b7aa7f195c3b21e3.js\"],\"Image\"]\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"div\",null,{\"className\":\"BlogBody_BlogBody__600mT\",\"children\":[[\"$\",\"header\",null,{\"className\":\"BlogBody_siteTitle__f7uyb\",\"children\":\"Patrick Desjardins Blog\"}],[\"$\",\"nav\",null,{\"children\":[\"$\",\"ul\",null,{\"className\":\"BlogBody_navLinks__ZV12t\",\"children\":[\"$\",\"li\",null,{\"className\":\"BlogBody_navLinkItem__Pml2e\",\"children\":[[\"$\",\"$La\",null,{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/\",\"children\":\"Main Page\"}],[\"$\",\"$La\",null,{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog\",\"children\":\"Blog\"}],[[\"$\",\"$La\",\"2024\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2024\",\"children\":2024}],[\"$\",\"$La\",\"2023\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2023\",\"children\":2023}],[\"$\",\"$La\",\"2022\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2022\",\"children\":2022}],[\"$\",\"$La\",\"2021\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2021\",\"children\":2021}],[\"$\",\"$La\",\"2020\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2020\",\"children\":2020}],[\"$\",\"$La\",\"2019\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2019\",\"children\":2019}],[\"$\",\"$La\",\"2018\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2018\",\"children\":2018}],[\"$\",\"$La\",\"2017\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2017\",\"children\":2017}],[\"$\",\"$La\",\"2016\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2016\",\"children\":2016}],[\"$\",\"$La\",\"2015\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2015\",\"children\":2015}],[\"$\",\"$La\",\"2014\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2014\",\"children\":2014}],[\"$\",\"$La\",\"2013\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2013\",\"children\":2013}],[\"$\",\"$La\",\"2012\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2012\",\"children\":2012}],[\"$\",\"$La\",\"2011\",{\"className\":\"BlogBody_navLinkText__ZtH2y\",\"href\":\"/blog/for/2011\",\"children\":2011}]]]}]}]}],[\"$\",\"div\",null,{\"className\":\"BlogBody_blogPictureContainer__IAbPL\",\"children\":[\"$\",\"$Le\",null,{\"className\":\"BlogBody_blogTopPicture__L6lao\",\"alt\":\"Patrick Desjardins picture from a conference\",\"src\":\"/images/backgrounds/patrickdesjardins_conference_bw.jpeg\",\"width\":800,\"height\":260}]}],[\"$\",\"main\",null,{\"className\":\"BlogBody_main__XrdKY\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"BlogBody_heading__bYRBe\",\"children\":\"How to Transfer Files Between Computers Using HDMI (Part 7: Pagination)\"}],[\"$\",\"div\",null,{\"className\":\"Page_blogPostContainer__AUIcf\",\"children\":[[\"$\",\"p\",null,{\"className\":\"Page_blogPostDate__wVWWB\",\"children\":[\"Posted on: \",\"2023-07-08\"]}],[[\"$\",\"p\",null,{\"children\":\"Transferring data using the HDMI cable and the capture card continues to demonstrate how easily corruption can cause the file to be unusable.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Let's review a few points that demonstrate that we have some inconsistancy around frames.\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-sh\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-sh code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"ffmpeg \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-f\"}],\" dshow \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-list_options\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-i\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"video\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"USB Video\\\"\"}],\"\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Shows \",[\"$\",\"code\",null,{\"children\":\"vcodec=mjpeg\"}],\". The codec is a compressed one, and we have tackled the issue using a less space efficient way, using black and white with more than a single pixel to hold the information.\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-sh\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-sh code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"ffmpeg  \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-r\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"15\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-f\"}],\" dshow \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-s\"}],\" 1920x1080 \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-vcodec\"}],\" mjpeg \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-rtbufsize\"}],\" 200M \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-i\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"video\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"USB Video\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-r\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"15\"}],\" out_fps15_size10px.mp4\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The command above uses a lower speed of 15 frames per second (fps) to ensure we give some pace to the whole process. Encoding the file in 15 fps was also required, but it still needs to be fixed. During the command, additional information like the following gives a hint that the fps is inconsistent on reading.\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-sh\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-sh code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"Input \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#0, dshow, from 'video=USB Video':\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  Duration: N/A, start: \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"613320.254228\"}],\", bitrate: N/A\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  Stream \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#0:0: Video: mjpeg (Baseline) (MJPG / 0x47504A4D), yuvj422p(pc, bt470bg/bt709/unknown), 1920x1080, 15 fps, 15 tbr, 10000k tbn\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"Stream mapping:\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  Stream \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#0:0 -\u003e #0:0 (mjpeg (native) -\u003e h264 (libx264))\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"libx264 @ 000001cd3023be80\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2 AVX512\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"libx264 @ 000001cd3023be80\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" profile High \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],\":2:2, level \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4.0\"}],\", \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],\":2:2, \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"8\"}],\"-bit\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"libx264 @ 000001cd3023be80\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"264\"}],\" - core \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"164\"}],\" r3106 eaa68fa - H.264/MPEG-4 AVC codec - Copyleft \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2003\"}],\"-2023 - http://www.videolan.org/x264.html - options: \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"cabac\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"ref\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"deblock\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\":0:0 \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"analyse\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"0x3:0x113 \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"me\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"hex \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"subme\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"psy\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"psy_rd\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1.00\"}],\":0.00 \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"mixed_ref\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"me_range\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"16\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"chroma_me\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"trellis\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"8x8dct\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"cqm\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"deadzone\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"21,11\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"fast_pskip\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"chroma_qp_offset\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"-2 \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"threads\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"24\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"lookahead_threads\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"sliced_threads\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"nr\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"decimate\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"interlaced\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"bluray_compat\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"constrained_intra\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"bframes\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"b_pyramid\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"b_adapt\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"b_bias\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"direct\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"weightb\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"open_gop\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"weightp\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"keyint\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"250\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"keyint_min\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"15\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"scenecut\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"40\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"intra_refresh\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"rc_lookahead\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"40\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"rc\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"crf \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"mbtree\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"crf\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"23.0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"qcomp\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0.60\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"qpmin\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"qpmax\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"69\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"qpstep\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"ip_ratio\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1.40\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"aq\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\":1.00\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"Output \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#0, mp4, to 'out_fps15_size10px.mp4':\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"  Metadata:\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    encoder         \",[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\":\"}],\" Lavf60.3.100\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  Stream \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#0:0: Video: h264 (avc1 / 0x31637661), yuvj422p(pc, bt470bg/bt709/unknown, progressive), 1920x1080, q=2-31, 15 fps, 15360 tbn\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    Metadata:\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      encoder         \",[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\":\"}],\" Lavc60.3.100 libx264\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    Side data:\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      cpb: bitrate max/min/avg: \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\"/0/0 buffer size: \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" vbv_delay: N/A\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"frame\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"674\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"fps\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"15\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"q\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"27.0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"size\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"  221952kB \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"time\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"00:00:44.80 \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"bitrate\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"40585\"}],\".5kbits/s \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"speed\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\".978x\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Zooming toward the encoding portion, we see that there is a mix of mjpeg and h264. At the moment, I only suspect there is more compression than anticipated but we should be cover.\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-sh\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-sh code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"Stream \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#0:0: Video: mjpeg (Baseline) (MJPG / 0x47504A4D), yuvj422p(pc, bt470bg/bt709/unknown), 1920x1080, 15 fps, 15 tbr, 10000k tbn\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"Stream \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#0:0 -\u003e #0:0 (mjpeg (native) -\u003e h264 (libx264))\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"Stream \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#0:0: Video: h264 (avc1 / 0x31637661), yuvj422p(pc, bt470bg/bt709/unknown, progressive), 1920x1080, q=2-31, 15 fps, 15360 tbn\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"To this point, outside compression that might cause issue there might be another detail escaping us. One hint is the fps of the capture in ffmpg. An hypothesis might be that we are missing some frames. Even missing a single frame will cause the whole file not to be readable. We now rely on a single red frame to indicate the starting point. After the red frame, we assume the next frame is the first one with the instruction frame that gives the number of bytes for the actual content. However, what happens if the frame transfer after the red one fails to be transmitted or read? Also, there is no way to ensure we read all the frames.\"}],\"\\n\",[\"$\",\"h1\",null,{\"children\":\"Adaptation: Pagination\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The next idea is to add a reserved 64 bits of space to every frame, similar to the instruction. Also, modifying the instruction to be the \",[\"$\",\"strong\",null,{\"children\":\"first\"}],\" 64 bits of the red frame. The reason is that once we figure out the structure to be the starting one (the red one) we do not need to rely on the next frame to be the instruction -- the red frame will always have the instruction. Thus, we can still know the total amount of bytes to recuperate, but now we can do it more reliably.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/images/blog/hdmi_article7_pagination.png\",\"alt\":\"\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The central concept remains that we generate one starting (red) frame and then the frames for the data. However, With the addition of the pagination, we can read (watch) the whole video several times and use a dictionary (hash map) to accumulate the missing frames on each pass. If we notice missing frames after capturing the footage twice, we could continue to loop the video for longer and see if we can collect all frames.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/images/blog/hdmi_article7_pagination2.png\",\"alt\":\"\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The illustration shows that the first time the system reads the video, it receives frame #2. It saves it into the map. Then, it captures frame #3. Because the map does not have frame #3, it adds it. Then the instruction is read, telling it needs x amount of bytes. Then, it continues to read and capture frame #1. The order does not matter. The program continues to read frames, but they are all already there, thus does not save anything until the capture is over. On completion, it knows that frame 1 is the first, and so on, until it cannot find the data. In that case, fetching frame #4 would return nothing, which signals to stop concatenating the frame's byte. Finally, the stop is to look at the instruction to know the number of relevant bytes to build the original file.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This new solution should fix the current limitation of the algorithm.\"}],\"\\n\",[\"$\",\"h1\",null,{\"children\":\"Testing Locally\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The modification worked perfectly locally. I added integration tests in Rust which is a matter of creating a folder called \",[\"$\",\"code\",null,{\"children\":\"tests\"}],\" at the project's root. To run only the integration test, we call \",[\"$\",\"code\",null,{\"children\":\"cargo test --test \\\"*\\\"\"}],\". Generating the video and reading it back using the Rust program works well. A small change visually in the video is that the frame does not use any character and thus is \",[\"$\",\"code\",null,{\"children\":\"null\"}],\" for a frame that is not full of data. Similarly, the starting red frame now contains some white and black in the first 64 pixels (if the size is set to 1). It is the data, including the number of bytes to extract.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/images/blog/hdmi_article7_framenotfull.png\",\"alt\":\"\"}]}],\"\\n\",[\"$\",\"h1\",null,{\"children\":\"Testing with Remote Computer\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The ultimate test is to generate the video on a remote machine, play the video and extract using FFmpeg. The same steps as before are required with FFmpeg.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The first test was with a size of 2 using a zip file encoded at 30fps. With the new pagination mechanism, if FFmpeg cannot read at 30fps all frames (some are skipped), the whole sequence would be there within a few loops. I let the FFmpeg loops about 5 times and the result was a video of about 80 megs. However, the code that is reading the video was breaking after two frames.\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-rust\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-rust code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"pub\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"fn\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-definition function\",\"children\":\"video_to_frames\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"extract_options\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ExtractOptions\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"-\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Vec\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"VideoFrame\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"mut\"}],\" video \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"VideoCapture\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"::\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"from_file\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\"}],\"extract_options\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"video_file_path\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CAP_ANY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"expect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Could not open video path\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"mut\"}],\" all_frames \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Vec\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"::\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"new\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"loop\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"mut\"}],\" frame \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Mat\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"::\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"default\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"        video\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"read\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"mut\"}],\" frame\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"expect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Reading frame shouldn't crash\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" frame\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"cols\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line highlight-line\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"break\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// \u003c------------------- Here\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" source \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"VideoFrame\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"::\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"from\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"frame\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" extract_options\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"size\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"match\"}],\" source \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Ok\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"frame\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"                all_frames\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"push\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"frame\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Err\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"err\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"                \",[\"$\",\"span\",null,{\"className\":\"token macro property\",\"children\":\"panic!\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Reading from VideoFrame: {:?}\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" err\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    all_frames\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"After\"}],\" trying several differen ways to open the video like using the ffmpeg wrapper \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"for\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Rust\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"I\"}],\" was unsuccessful\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"The\"}],\" video produced can be open with software like \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VLC\"}],\" but the \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Open\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CV\"}],\" couldn\",[\"$\",\"span\",null,{\"className\":\"token lifetime-annotation symbol\",\"children\":\"'t\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"The\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"ffmpeg\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"using the ffmpeg_next\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" was not compiling after \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"30\"}],\" minutes of \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"try\"}],\" so \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"I\"}],\" gave up\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Codec\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"The\"}],\" command to read the video stream from the video card uses the `\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"vcodec mjpeg`\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"As\"}],\" discussed \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" a previous post\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" this is because the ffmpeg specify that this is what the device is providing\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```sh\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"ffmpeg \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"f dshow \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"list_options \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"i video\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"USB Video\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"dshow \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"@\"}],\" 0000022277b00100\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"   vcodec\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"mjpeg  min s\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"1920x1080 fps\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\" max s\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"1920x1080 fps\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60.0002\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"dshow \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"@\"}],\" 0000022277b00100\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"   vcodec\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"mjpeg  min s\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"1920x1080 fps\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\" max s\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"1920x1080 fps\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60.0002\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"pc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" bt470bg\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"bt709\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"unknown\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" center\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"dshow \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"@\"}],\" 0000022277b00100\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"   pixel_format\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"yuyv422  min s\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"1920x1080 fps\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"5\"}],\" max s\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"1920x1080 fps\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"5\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"dshow \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"@\"}],\" 0000022277b00100\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"   pixel_format\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"yuyv422  min s\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"1920x1080 fps\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"5\"}],\" max s\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"1920x1080 fps\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"5\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"tv\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" bt470bg\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"bt709\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"unknown\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" topleft\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"However\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" we could convert into a different format when saving to the file which could be open by \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Open\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CV\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"While\"}],\" the codev and pixel format were good values compared to the \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Windows\"}],\" ffmpeg commands below\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```sh\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"ffmpeg \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"codecs \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" codec\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"txt\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"ffmpeg \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"pix_fmts \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" pix\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"txt\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"The\"}],\" command to read the capture card kept giving me buffer size limit issue or setting issues\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"I\"}],\" decided to avoid codec with raw data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"It\"}],\" does create a huge file but \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"I\"}],\" was able to read the file using \",[\"$\",\"span\",null,{\"className\":\"token macro property\",\"children\":\"VLC!\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```sh\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"ffmpeg \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"f dshow \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"video_size 1920x1080 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"i video\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"USB Video\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"rtbufsize 200M \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"framerate \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"30\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"c\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"v copy output\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mp4\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Using\"}],\" the \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Rust\"}],\" code on the raw output \",[\"$\",\"span\",null,{\"className\":\"token macro property\",\"children\":\"worked!\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"The\"}],\" raw \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"167\"}],\" megs of under \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"12\"}],\" seconds generated a perfect \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\" meg image \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],\" minutes \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"49\"}],\" seconds\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"The\"}],\" same \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" the source\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Let\"}],[\"$\",\"span\",null,{\"className\":\"token lifetime-annotation symbol\",\"children\":\"'s\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"use\"}],\" a codec and see how we can optimize the overall transformation time\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```sh\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"ffmpeg \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"f dshow \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"video_size 1920x1080 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"i video\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"USB Video\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"rtbufsize 200M \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"framerate \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"30\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"c\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"v copy input\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mp4\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"ffmpeg \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"i input\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mp4 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"c\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"v libx264 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"crf \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"23\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"preset medium \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"c\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"a aac \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"b\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"a 128k output\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mp4\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"The\"}],\" time was not \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"better\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"I\"}],\" stopped the \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Rust\"}],\" script after \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"5\"}],\" minutes\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" it wasn\",[\"$\",\"span\",null,{\"className\":\"token lifetime-annotation symbol\",\"children\":\"'t\"}],\" even at \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"25\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"%\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" and actually added potential issue with the compression\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Also\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"while\"}],\" running the second command\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" the console is flooded with the following error\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Still\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" the file can be read by \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VLC\"}],\" and by the \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Rust\"}],\" program\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"mjpeg \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"@\"}],\" 0000025116f78740\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Found\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"EOI\"}],\" before any \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SOF\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" ignoring\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"mjpeg \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"@\"}],\" 0000025116f78740\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"No\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JPEG\"}],\" data found \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" image\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Error\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"while\"}],\" decoding stream #\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Invalid\"}],\" data found when processing input\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"No\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Compression\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" size pixel zip file\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"The\"}],\" ultimate test was to \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"use\"}],\" a zip file with the most black and white information density of each bit using \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" pixel\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```sh\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"ffmpeg \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"f dshow \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"video_size 1920x1080 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"i video\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"USB Video\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"rtbufsize 200M \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"framerate \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"30\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"c\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"v copy input_zip\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mp4\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"cargo run \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"release \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"m extract \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"i outputs\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"input_zip\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mp4 \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"o outputs\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"PictureFiles\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"zip \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"fps \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"30\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"height \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1080\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"width \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1920\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"size \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"p \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"a bw\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"```\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"I\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" the recording watch the video twice\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"It\"}],\" produced a file of \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"328\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"megs\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"16\"}],\" seconds\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"The\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Rust\"}],\" script ran \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"for\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" minute and \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"6\"}],\" seconds an failed with missing frame\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"We\"}],\" have not receive all frames\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"We\"}],\" received \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"6\"}],\" frames \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"for\"}],\" a total of \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1555152\"}],\" bytes and we expected \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"54347552\"}],\" bytes\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"I\"}],\" captured again\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" this time \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" about \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"12\"}],\" iterations of the movie to be recorded\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"I\"}],\" could see my personal laptop that was running the video being not smooth and the fan running \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"super\"}],\" hard\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"I\"}],\" suspect frames are skipping \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" visually \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"I\"}],\" can see some freeze\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"The\"}],\" generated file was about \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"850\"}],\" megs\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Unfortunately\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" the same \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"6\"}],\" frames were missing\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"\\n\"]}]]}]}]]]}]]}],[\"$\",\"div\",null,{\"className\":\"BlogBody_paginationBar__1gsMc\",\"children\":[[\"$\",\"div\",null,{\"className\":\"BlogBody_paginationTitle__H_eFX\",\"children\":\"Chronological Blog Articles by Page\"}],[\"$\",\"div\",null,{\"className\":\"BlogBody_paginationLinks__nk8zd\",\"children\":[[\"$\",\"$La\",\"1\",{\"className\":\"\",\"href\":\"/blog/page/1\",\"children\":1}],[\"$\",\"$La\",\"2\",{\"className\":\"\",\"href\":\"/blog/page/2\",\"children\":2}],[\"$\",\"$La\",\"3\",{\"className\":\"\",\"href\":\"/blog/page/3\",\"children\":3}],[\"$\",\"$La\",\"4\",{\"className\":\"\",\"href\":\"/blog/page/4\",\"children\":4}],[\"$\",\"$La\",\"5\",{\"className\":\"\",\"href\":\"/blog/page/5\",\"children\":5}],[\"$\",\"$La\",\"6\",{\"className\":\"\",\"href\":\"/blog/page/6\",\"children\":6}],[\"$\",\"$La\",\"7\",{\"className\":\"\",\"href\":\"/blog/page/7\",\"children\":7}],[\"$\",\"$La\",\"8\",{\"className\":\"\",\"href\":\"/blog/page/8\",\"children\":8}],[\"$\",\"$La\",\"9\",{\"className\":\"\",\"href\":\"/blog/page/9\",\"children\":9}],[\"$\",\"$La\",\"10\",{\"className\":\"\",\"href\":\"/blog/page/10\",\"children\":10}],[\"$\",\"$La\",\"11\",{\"className\":\"\",\"href\":\"/blog/page/11\",\"children\":11}],[\"$\",\"$La\",\"12\",{\"className\":\"\",\"href\":\"/blog/page/12\",\"children\":12}],[\"$\",\"$La\",\"13\",{\"className\":\"\",\"href\":\"/blog/page/13\",\"children\":13}],[\"$\",\"$La\",\"14\",{\"className\":\"\",\"href\":\"/blog/page/14\",\"children\":14}],[\"$\",\"$La\",\"15\",{\"className\":\"\",\"href\":\"/blog/page/15\",\"children\":15}],[\"$\",\"$La\",\"16\",{\"className\":\"\",\"href\":\"/blog/page/16\",\"children\":16}],[\"$\",\"$La\",\"17\",{\"className\":\"\",\"href\":\"/blog/page/17\",\"children\":17}],[\"$\",\"$La\",\"18\",{\"className\":\"\",\"href\":\"/blog/page/18\",\"children\":18}],[\"$\",\"$La\",\"19\",{\"className\":\"\",\"href\":\"/blog/page/19\",\"children\":19}],[\"$\",\"$La\",\"20\",{\"className\":\"\",\"href\":\"/blog/page/20\",\"children\":20}],[\"$\",\"$La\",\"21\",{\"className\":\"\",\"href\":\"/blog/page/21\",\"children\":21}],[\"$\",\"$La\",\"22\",{\"className\":\"\",\"href\":\"/blog/page/22\",\"children\":22}],[\"$\",\"$La\",\"23\",{\"className\":\"\",\"href\":\"/blog/page/23\",\"children\":23}],[\"$\",\"$La\",\"24\",{\"className\":\"\",\"href\":\"/blog/page/24\",\"children\":24}],[\"$\",\"$La\",\"25\",{\"className\":\"\",\"href\":\"/blog/page/25\",\"children\":25}],[\"$\",\"$La\",\"26\",{\"className\":\"\",\"href\":\"/blog/page/26\",\"children\":26}],[\"$\",\"$La\",\"27\",{\"className\":\"\",\"href\":\"/blog/page/27\",\"children\":27}],[\"$\",\"$La\",\"28\",{\"className\":\"\",\"href\":\"/blog/page/28\",\"children\":28}],[\"$\",\"$La\",\"29\",{\"className\":\"\",\"href\":\"/blog/page/29\",\"children\":29}],[\"$\",\"$La\",\"30\",{\"className\":\"\",\"href\":\"/blog/page/30\",\"children\":30}],[\"$\",\"$La\",\"31\",{\"className\":\"\",\"href\":\"/blog/page/31\",\"children\":31}],[\"$\",\"$La\",\"32\",{\"className\":\"\",\"href\":\"/blog/page/32\",\"children\":32}],[\"$\",\"$La\",\"33\",{\"className\":\"\",\"href\":\"/blog/page/33\",\"children\":33}],[\"$\",\"$La\",\"34\",{\"className\":\"\",\"href\":\"/blog/page/34\",\"children\":34}],[\"$\",\"$La\",\"35\",{\"className\":\"\",\"href\":\"/blog/page/35\",\"children\":35}],[\"$\",\"$La\",\"36\",{\"className\":\"\",\"href\":\"/blog/page/36\",\"children\":36}],[\"$\",\"$La\",\"37\",{\"className\":\"\",\"href\":\"/blog/page/37\",\"children\":37}],[\"$\",\"$La\",\"38\",{\"className\":\"\",\"href\":\"/blog/page/38\",\"children\":38}],[\"$\",\"$La\",\"39\",{\"className\":\"\",\"href\":\"/blog/page/39\",\"children\":39}],[\"$\",\"$La\",\"40\",{\"className\":\"\",\"href\":\"/blog/page/40\",\"children\":40}],[\"$\",\"$La\",\"41\",{\"className\":\"\",\"href\":\"/blog/page/41\",\"children\":41}],[\"$\",\"$La\",\"42\",{\"className\":\"\",\"href\":\"/blog/page/42\",\"children\":42}],[\"$\",\"$La\",\"43\",{\"className\":\"\",\"href\":\"/blog/page/43\",\"children\":43}],[\"$\",\"$La\",\"44\",{\"className\":\"\",\"href\":\"/blog/page/44\",\"children\":44}],[\"$\",\"$La\",\"45\",{\"className\":\"\",\"href\":\"/blog/page/45\",\"children\":45}],[\"$\",\"$La\",\"46\",{\"className\":\"\",\"href\":\"/blog/page/46\",\"children\":46}],[\"$\",\"$La\",\"47\",{\"className\":\"\",\"href\":\"/blog/page/47\",\"children\":47}],[\"$\",\"$La\",\"48\",{\"className\":\"\",\"href\":\"/blog/page/48\",\"children\":48}],[\"$\",\"$La\",\"49\",{\"className\":\"\",\"href\":\"/blog/page/49\",\"children\":49}],[\"$\",\"$La\",\"50\",{\"className\":\"\",\"href\":\"/blog/page/50\",\"children\":50}],[\"$\",\"$La\",\"51\",{\"className\":\"\",\"href\":\"/blog/page/51\",\"children\":51}],[\"$\",\"$La\",\"52\",{\"className\":\"\",\"href\":\"/blog/page/52\",\"children\":52}],[\"$\",\"$La\",\"53\",{\"className\":\"\",\"href\":\"/blog/page/53\",\"children\":53}],[\"$\",\"$La\",\"54\",{\"className\":\"\",\"href\":\"/blog/page/54\",\"children\":54}],[\"$\",\"$La\",\"55\",{\"className\":\"\",\"href\":\"/blog/page/55\",\"children\":55}],[\"$\",\"$La\",\"56\",{\"className\":\"\",\"href\":\"/blog/page/56\",\"children\":56}],[\"$\",\"$La\",\"57\",{\"className\":\"\",\"href\":\"/blog/page/57\",\"children\":57}],[\"$\",\"$La\",\"58\",{\"className\":\"\",\"href\":\"/blog/page/58\",\"children\":58}],[\"$\",\"$La\",\"59\",{\"className\":\"\",\"href\":\"/blog/page/59\",\"children\":59}],[\"$\",\"$La\",\"60\",{\"className\":\"\",\"href\":\"/blog/page/60\",\"children\":60}],[\"$\",\"$La\",\"61\",{\"className\":\"\",\"href\":\"/blog/page/61\",\"children\":61}],[\"$\",\"$La\",\"62\",{\"className\":\"\",\"href\":\"/blog/page/62\",\"children\":62}],[\"$\",\"$La\",\"63\",{\"className\":\"\",\"href\":\"/blog/page/63\",\"children\":63}],[\"$\",\"$La\",\"64\",{\"className\":\"\",\"href\":\"/blog/page/64\",\"children\":64}],[\"$\",\"$La\",\"65\",{\"className\":\"\",\"href\":\"/blog/page/65\",\"children\":65}],[\"$\",\"$La\",\"66\",{\"className\":\"\",\"href\":\"/blog/page/66\",\"children\":66}],[\"$\",\"$La\",\"67\",{\"className\":\"\",\"href\":\"/blog/page/67\",\"children\":67}],[\"$\",\"$La\",\"68\",{\"className\":\"\",\"href\":\"/blog/page/68\",\"children\":68}],[\"$\",\"$La\",\"69\",{\"className\":\"\",\"href\":\"/blog/page/69\",\"children\":69}],[\"$\",\"$La\",\"70\",{\"className\":\"\",\"href\":\"/blog/page/70\",\"children\":70}],[\"$\",\"$La\",\"71\",{\"className\":\"\",\"href\":\"/blog/page/71\",\"children\":71}],[\"$\",\"$La\",\"72\",{\"className\":\"\",\"href\":\"/blog/page/72\",\"children\":72}],[\"$\",\"$La\",\"73\",{\"className\":\"\",\"href\":\"/blog/page/73\",\"children\":73}],[\"$\",\"$La\",\"74\",{\"className\":\"\",\"href\":\"/blog/page/74\",\"children\":74}],[\"$\",\"$La\",\"75\",{\"className\":\"\",\"href\":\"/blog/page/75\",\"children\":75}],[\"$\",\"$La\",\"76\",{\"className\":\"\",\"href\":\"/blog/page/76\",\"children\":76}],[\"$\",\"$La\",\"77\",{\"className\":\"\",\"href\":\"/blog/page/77\",\"children\":77}],[\"$\",\"$La\",\"78\",{\"className\":\"\",\"href\":\"/blog/page/78\",\"children\":78}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Patrick Desjardins Blog - How to Transfer Files Between Computers Using HDMI (Part 7: Pagination)\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"How to Transfer Files Between Computers Using HDMI (Part 7: Pagination)\"}]]\n5:null\n"])</script></body></html>
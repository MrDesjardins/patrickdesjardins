3:I[6405,[],""]
5:I[5337,[],""]
6:I[156,["156","static/chunks/156-2b9f703633e98ef7.js","836","static/chunks/836-7e37630a3372363c.js","308","static/chunks/app/blog/%5Bslug%5D/page-2829e3c199d313ca.js"],""]
4:["slug","git-notification-macos-pull-request","d"]
0:["yfcre0SfbaSyk6X4-98NZ",[[["",{"children":["blog",{"children":[["slug","git-notification-macos-pull-request","d"],{"children":["__PAGE__?{\"slug\":\"git-notification-macos-pull-request\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","git-notification-macos-pull-request","d"],{"children":["__PAGE__",{},[["$L1","$L2",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/be8a59717d6d5849.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/97e0a79122e618e4.css","precedence":"next","crossOrigin":"$undefined"}]]],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/dabd5e64a469b0e1.css","precedence":"next","crossOrigin":"$undefined"}]],["$","div",null,{"className":"layout_blogbodystyle___Uc1w","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]}]],null],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/4cb872a2a77e328a.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"en","className":"layout_htmlstyle__PseMz","children":["$","body",null,{"className":"layout_bodystyle__4ncsS","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"style":{"display":"flex","alignItems":"center","justifyContent":"center","height":"100vh"},"children":["$","div",null,{"style":{"width":"50%","height":"20%","backgroundColor":"#ffeded","borderRadius":12,"padding":12,"textAlign":"center"},"children":[["$","h1",null,{"children":"Not Found"}],["$","p",null,{"children":"Could not find requested resource"}],["$","$L6",null,{"href":"/","children":"Return Home"}]]}]}],"notFoundStyles":[]}]}]}]],null],null],["$L7",null]]]]
8:I[836,["156","static/chunks/156-2b9f703633e98ef7.js","836","static/chunks/836-7e37630a3372363c.js","308","static/chunks/app/blog/%5Bslug%5D/page-2829e3c199d313ca.js"],"Image"]
2:["$","div",null,{"className":"BlogBody_BlogBody__600mT","children":[["$","header",null,{"className":"BlogBody_siteTitle__f7uyb","children":"Patrick Desjardins Blog"}],["$","nav",null,{"children":["$","ul",null,{"className":"BlogBody_navLinks__ZV12t","children":["$","li",null,{"className":"BlogBody_navLinkItem__Pml2e","children":[["$","$L6",null,{"className":"BlogBody_navLinkText__ZtH2y","href":"/","children":"Main Page"}],["$","$L6",null,{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog","children":"Blog"}],["$","$L6",null,{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/search","children":"Search"}],[["$","$L6","2026",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2026","children":2026}],["$","$L6","2025",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2025","children":2025}],["$","$L6","2024",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2024","children":2024}],["$","$L6","2023",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2023","children":2023}],["$","$L6","2022",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2022","children":2022}],["$","$L6","2021",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2021","children":2021}],["$","$L6","2020",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2020","children":2020}],["$","$L6","2019",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2019","children":2019}],["$","$L6","2018",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2018","children":2018}],["$","$L6","2017",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2017","children":2017}],["$","$L6","2016",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2016","children":2016}],["$","$L6","2015",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2015","children":2015}],["$","$L6","2014",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2014","children":2014}],["$","$L6","2013",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2013","children":2013}],["$","$L6","2012",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2012","children":2012}],["$","$L6","2011",{"className":"BlogBody_navLinkText__ZtH2y","href":"/blog/for/2011","children":2011}]]]}]}]}],["$","div",null,{"className":"BlogBody_blogPictureContainer__IAbPL","children":["$","$L8",null,{"className":"BlogBody_blogTopPicture__L6lao","alt":"Patrick Desjardins picture from a conference","src":"/images/backgrounds/patrickdesjardins_conference_bw.webp","width":800,"height":260}]}],["$","main",null,{"className":"BlogBody_main__XrdKY","children":[["$","h1",null,{"className":"BlogBody_heading__bYRBe","children":"How to create MacOS notification for Pull Request Code Review?"}],["$","div",null,{"className":"Page_blogPostContainer__AUIcf","children":[["$","p",null,{"className":"Page_blogPostDate__wVWWB","children":["Posted on: ","2024-09-06"]}],[["$","p",null,{"children":"Depending on your situation, you may be limited in receiving notifications when it is time for you to review a pull request. Depending on your seniority and role, you may quickly provide code feedback to keep the pull request flowing into the development branch. Thus, having a notification on your screen might be a useful tool. You may rely on Slack bot, but that might not be possible in some workplaces. However, your organization might still have the Git API available. This article will leverage Python, the native MacOS notification utility, and the Git API to get a notification when you need to write feedback or accept/reject a pull request."}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/images/blog/macosnotificationgitreview.png","alt":""}]}],"\n",["$","h1",null,{"children":"Configurations"}],"\n",["$","p",null,{"children":["The minimum configuration is the Git token that allows access to your private Git repository. You need to ",["$","a",null,{"href":"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens","children":"generate a token"}]," in the developer setting under your profile photo and setting. Once you have it, save it under a ",["$","code",null,{"children":".env"}]," file which will keep it outside your code repository.  Once you have it, save it in a ",["$","code",null,{"children":".env"}]," file, which will keep it outside your code repository. Also, once you share your Python script, you can have anyone use their own token without modifying the code."]}],"\n",["$","p",null,{"children":"Another configuration is the Git username you want to receive notifications for. I keep this configuration optional as I lead the team and want to be notified of all pull requests regardless of whether I am assigned to them."}],"\n",["$","p",null,{"children":"In addition to the environment variables, there are a few options that you can tweak with constants in your code, like the frequency of pulling the information from Git. The script we will create does not have a push notification from Git but instead pulls the active pull requests."}],"\n",["$","pre",null,{"className":"language-python","children":["$","code",null,{"className":"language-python code-highlight","children":[["$","span",null,{"className":"code-line","children":["load_dotenv",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["GIT_TOKEN ",["$","span",null,{"className":"token operator","children":"="}]," os",["$","span",null,{"className":"token punctuation","children":"."}],"getenv",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"GIT_TOKEN\""}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["GIT_USERNAME ",["$","span",null,{"className":"token operator","children":"="}]," os",["$","span",null,{"className":"token punctuation","children":"."}],"getenv",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"GIT_USERNAME\""}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["allPr ",["$","span",null,{"className":"token operator","children":"="}]," os",["$","span",null,{"className":"token punctuation","children":"."}],"getenv",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"GIT_ALL_PR_FROM_TEAM\""}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["GIT_ALL_PR_FROM_TEAM ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token boolean","children":"False"}]," ",["$","span",null,{"className":"token keyword","children":"if"}]," allPr ",["$","span",null,{"className":"token keyword","children":"is"}]," ",["$","span",null,{"className":"token boolean","children":"None"}]," ",["$","span",null,{"className":"token keyword","children":"else"}]," allPr\n"]}],["$","span",null,{"className":"code-line","children":["MINUTE_BETWEEN_CHECK ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"5"}],"\n"]}],["$","span",null,{"className":"code-line","children":["REQUEST_TIMEOUT ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"10"}],"\n"]}],["$","span",null,{"className":"code-line","children":["REPO_BASE_URL ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string","children":"\"<redacted>\""}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"if"}]," GIT_TOKEN ",["$","span",null,{"className":"token operator","children":"=="}]," ",["$","span",null,{"className":"token boolean","children":"None"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"print"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"GIT_TOKEN is not set\""}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    exit",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"if"}]," GIT_USERNAME ",["$","span",null,{"className":"token operator","children":"=="}]," ",["$","span",null,{"className":"token boolean","children":"None"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"print"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"GIT_USERNAME is not set\""}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    exit",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],"\n",["$","h1",null,{"children":"Connections"}],"\n",["$","p",null,{"children":"The code will perform many HTTP requests and in case of failure, we want the code to retry. I am using the HTTPAdapter library to provide this capability:"}],"\n",["$","pre",null,{"className":"language-python","children":["$","code",null,{"className":"language-python code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"from"}]," requests",["$","span",null,{"className":"token punctuation","children":"."}],"adapters ",["$","span",null,{"className":"token keyword","children":"import"}]," HTTPAdapter\n"]}],["$","span",null,{"className":"code-line","children":["retry_strategy ",["$","span",null,{"className":"token operator","children":"="}]," Retry",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line","children":["    total",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token number","children":"4"}],["$","span",null,{"className":"token punctuation","children":","}],"  ",["$","span",null,{"className":"token comment","children":"# Maximum number of retries"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    backoff_factor",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":","}],"  ",["$","span",null,{"className":"token comment","children":"# Exponential backoff factor (1,2,4,8 seconds)"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["adapter ",["$","span",null,{"className":"token operator","children":"="}]," HTTPAdapter",["$","span",null,{"className":"token punctuation","children":"("}],"max_retries",["$","span",null,{"className":"token operator","children":"="}],"retry_strategy",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":["The HTTP request will use ",["$","code",null,{"children":"adapter"}]," later when performing the request."]}],"\n",["$","h1",null,{"children":"HTTP Request"}],"\n",["$","p",null,{"children":"The heart of the system fetches information from Git. It requires more than a single HTTP request because some information is in the pull requests endpoint and others in the review endpoint. The first part of the function prepares the HTTP headers and session information to perform the request to get the pull request:"}],"\n",["$","pre",null,{"className":"language-python","children":["$","code",null,{"className":"language-python code-highlight","children":[["$","span",null,{"className":"code-line","children":["    url ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\""}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"REPO_BASE_URL",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"/pulls\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":["    headers ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token string","children":"\"Accept\""}],["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"application/vnd.github+json\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token string","children":"\"Authorization\""}],["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\"Bearer "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"GIT_TOKEN",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"\""}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token string","children":"\"X-GitHub-Api-Version\""}],["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"2022-11-28\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"try"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        session ",["$","span",null,{"className":"token operator","children":"="}]," requests",["$","span",null,{"className":"token punctuation","children":"."}],"Session",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        session",["$","span",null,{"className":"token punctuation","children":"."}],"mount",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'http://'"}],["$","span",null,{"className":"token punctuation","children":","}]," adapter",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        session",["$","span",null,{"className":"token punctuation","children":"."}],"mount",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'https://'"}],["$","span",null,{"className":"token punctuation","children":","}]," adapter",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        r ",["$","span",null,{"className":"token operator","children":"="}]," session",["$","span",null,{"className":"token punctuation","children":"."}],"get",["$","span",null,{"className":"token punctuation","children":"("}],"url",["$","span",null,{"className":"token punctuation","children":","}]," headers",["$","span",null,{"className":"token operator","children":"="}],"headers",["$","span",null,{"className":"token punctuation","children":","}]," timeout",["$","span",null,{"className":"token operator","children":"="}],"REQUEST_TIMEOUT",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        responseJson ",["$","span",null,{"className":"token operator","children":"="}]," r",["$","span",null,{"className":"token punctuation","children":"."}],"json",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"except"}]," requests",["$","span",null,{"className":"token punctuation","children":"."}],"RequestException ",["$","span",null,{"className":"token keyword","children":"as"}]," e",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"print"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\"RequestException Pull Request Error: "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"e",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"\""}]]}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        responseJson ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}]]}]}],"\n",["$","h1",null,{"children":"Analyzing the pull requests"}],"\n",["$","p",null,{"children":["The next step is looping the pull request and filtering what is relevant. For example, you can skip a particular pull request with specific keywords and use the ",["$","code",null,{"children":"GIT_USERNAME"}]," to filter to the pull request assigned to your name. The following code removes pull requests not only keywords but also any pull request with the ",["$","code",null,{"children":"draft"}]," attribute to ",["$","code",null,{"children":"true"}]," as the pull request is not yet ready for feedback. We also check to ensure the pull request creator is not you, the ",["$","code",null,{"children":"GIT_USERNAME"}],", as you should not review your pull request."]}],"\n",["$","pre",null,{"className":"language-python","children":["$","code",null,{"className":"language-python code-highlight","children":[["$","span",null,{"className":"code-line","children":["ignoreTitleStrings ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"(dnr)\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"\"do not review\""}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"for"}]," pr ",["$","span",null,{"className":"token keyword","children":"in"}]," responseJson",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\tskip ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token boolean","children":"False"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\tpullRequestTitle ",["$","span",null,{"className":"token operator","children":"="}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"title\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":"."}],"lower",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t",["$","span",null,{"className":"token keyword","children":"for"}]," s ",["$","span",null,{"className":"token keyword","children":"in"}]," ignoreTitleStrings",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token keyword","children":"if"}]," pullRequestTitle",["$","span",null,{"className":"token punctuation","children":"."}],"find",["$","span",null,{"className":"token punctuation","children":"("}],"s",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":">="}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t\tskip ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token boolean","children":"True"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t\t",["$","span",null,{"className":"token keyword","children":"continue"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t",["$","span",null,{"className":"token keyword","children":"if"}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"draft\""}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"=="}]," ",["$","span",null,{"className":"token boolean","children":"True"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\tskip ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token boolean","children":"True"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t",["$","span",null,{"className":"token keyword","children":"if"}]," skip",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token keyword","children":"continue"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\t\n"}],["$","span",null,{"className":"code-line","children":["\t",["$","span",null,{"className":"token keyword","children":"if"}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"user\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"login\""}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"!="}]," GIT_USERNAME",["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token comment","children":"# Check that you are not the creator"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token keyword","children":"if"}]," GIT_ALL_PR_FROM_TEAM ",["$","span",null,{"className":"token keyword","children":"or"}]," GIT_USERNAME ",["$","span",null,{"className":"token keyword","children":"in"}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"requested_reviewers\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token comment","children":"# Will handle if you want every member of your team or just the PR assigned to you"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t\t",["$","span",null,{"className":"token comment","children":"# TODO here "}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"return"}]," filtered_list\n"]}]]}]}],"\n",["$","p",null,{"children":"At this step, the logic about determining if you need to dive into the pull request is not yet there. The only thing we know is that this pull request is relevant for you. The next step is determining if you already have commented or approved the pull request."}],"\n",["$","pre",null,{"className":"language-python","children":["$","code",null,{"className":"language-python code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"from"}]," string ",["$","span",null,{"className":"token keyword","children":"import"}]," Template\n"]}],["$","span",null,{"className":"code-line","children":["urlTemplatePullRequest ",["$","span",null,{"className":"token operator","children":"="}]," Template",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t",["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\""}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"BASE_URL",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"/pulls/$number/reviews\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["url ",["$","span",null,{"className":"token operator","children":"="}]," urlTemplatePullRequest",["$","span",null,{"className":"token punctuation","children":"."}],"substitute",["$","span",null,{"className":"token punctuation","children":"("}],"number",["$","span",null,{"className":"token operator","children":"="}],"pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"number\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"try"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\tsession ",["$","span",null,{"className":"token operator","children":"="}]," requests",["$","span",null,{"className":"token punctuation","children":"."}],"Session",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\tsession",["$","span",null,{"className":"token punctuation","children":"."}],"mount",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'http://'"}],["$","span",null,{"className":"token punctuation","children":","}]," adapter",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\tsession",["$","span",null,{"className":"token punctuation","children":"."}],"mount",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'https://'"}],["$","span",null,{"className":"token punctuation","children":","}]," adapter",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\tr ",["$","span",null,{"className":"token operator","children":"="}]," session",["$","span",null,{"className":"token punctuation","children":"."}],"get",["$","span",null,{"className":"token punctuation","children":"("}],"url",["$","span",null,{"className":"token punctuation","children":","}]," headers",["$","span",null,{"className":"token operator","children":"="}],"headers",["$","span",null,{"className":"token punctuation","children":","}]," timeout",["$","span",null,{"className":"token operator","children":"="}],"REQUEST_TIMEOUT",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\tresponseJson2 ",["$","span",null,{"className":"token operator","children":"="}]," r",["$","span",null,{"className":"token punctuation","children":"."}],"json",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"except"}]," requests",["$","span",null,{"className":"token punctuation","children":"."}],"RequestException ",["$","span",null,{"className":"token keyword","children":"as"}]," e",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t",["$","span",null,{"className":"token keyword","children":"print"}],["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\""}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"current_time",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":": RequestException Review Error: "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"e",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"\""}]]}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\tresponseJson2 ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["hasApproved ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token boolean","children":"False"}],"\n"]}],["$","span",null,{"className":"code-line","children":["hasCommented ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token boolean","children":"False"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"for"}]," review ",["$","span",null,{"className":"token keyword","children":"in"}]," responseJson2",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t",["$","span",null,{"className":"token keyword","children":"if"}]," review",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"user\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"login\""}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"=="}]," GIT_USERNAME",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token keyword","children":"if"}]," review",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"state\""}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"=="}]," ",["$","span",null,{"className":"token string","children":"\"APPROVED\""}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t\thasApproved ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token boolean","children":"True"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token keyword","children":"if"}]," review",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"state\""}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"=="}]," ",["$","span",null,{"className":"token string","children":"\"COMMENTED\""}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t\thasCommented ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token boolean","children":"True"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["filtered_list",["$","span",null,{"className":"token punctuation","children":"."}],"append",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token string","children":"\"number\""}],["$","span",null,{"className":"token punctuation","children":":"}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"number\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token string","children":"\"title\""}],["$","span",null,{"className":"token punctuation","children":":"}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"title\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token string","children":"\"url\""}],["$","span",null,{"className":"token punctuation","children":":"}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"url\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token string","children":"\"hasApproved\""}],["$","span",null,{"className":"token punctuation","children":":"}]," hasApproved",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token string","children":"\"hasCommented\""}],["$","span",null,{"className":"token punctuation","children":":"}]," hasCommented",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t\t",["$","span",null,{"className":"token string","children":"\"needReview\""}],["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token keyword","children":"not"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"hasApproved ",["$","span",null,{"className":"token keyword","children":"or"}]," hasCommented",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["\t",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"The result is a list that contains the pull request number, title, full URL, and whether it needs your attention. We also specify what attention is needed between commenting on the pull request and approving it."}],"\n",["$","h1",null,{"children":"Creating the Message"}],"\n",["$","p",null,{"children":["The next function executes the fetching function and acts on the list of pull requests. The function counts the amount of review and creates a ",["$","code",null,{"children":"text"}]," variable. The function calls ",["$","code",null,{"children":"sendEvent"}]," that will create the popup. The text contains two rows. One is about the need to review, and the other is for approval."]}],"\n",["$","pre",null,{"className":"language-python","children":["$","code",null,{"className":"language-python code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"def"}]," ",["$","span",null,{"className":"token function","children":"create_message"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"try"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        prs ",["$","span",null,{"className":"token operator","children":"="}]," fetchGitHub",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"except"}]," Exception ",["$","span",null,{"className":"token keyword","children":"as"}]," e",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"print"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token builtin","children":"repr"}],["$","span",null,{"className":"token punctuation","children":"("}],"e",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"return"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    countNeedReview ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token builtin","children":"len"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token builtin","children":"list"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token builtin","children":"filter"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"lambda"}]," pr",["$","span",null,{"className":"token punctuation","children":":"}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"needReview\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," prs",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    lstApprovedRequired2 ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token builtin","children":"list"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token builtin","children":"filter"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"lambda"}]," pr",["$","span",null,{"className":"token punctuation","children":":"}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"hasApproved\""}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"=="}]," ",["$","span",null,{"className":"token boolean","children":"False"}],["$","span",null,{"className":"token punctuation","children":","}]," prs",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    countNeedApproval ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token builtin","children":"len"}],["$","span",null,{"className":"token punctuation","children":"("}],"lstApprovedRequired2",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    strApprovalIds ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string","children":"\"\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["    strCommentIds ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string","children":"\"\""}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"for"}]," pr ",["$","span",null,{"className":"token keyword","children":"in"}]," lstApprovedRequired2",["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"if"}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"needReview\""}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"=="}]," ",["$","span",null,{"className":"token boolean","children":"True"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            strCommentIds ",["$","span",null,{"className":"token operator","children":"+="}]," ",["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\"#"}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'number'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":", \""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"if"}]," pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"hasApproved\""}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"=="}]," ",["$","span",null,{"className":"token boolean","children":"False"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            strApprovalIds ",["$","span",null,{"className":"token operator","children":"+="}]," ",["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\"#"}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"pr",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'number'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":", \""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token builtin","children":"len"}],["$","span",null,{"className":"token punctuation","children":"("}],"strApprovalIds",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        strApprovalIds ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\"("}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"strApprovalIds",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":":"}],["$","span",null,{"className":"token format-spec","children":"-2]"}],["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":")\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token builtin","children":"len"}],["$","span",null,{"className":"token punctuation","children":"("}],"strCommentIds",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        strCommentIds ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\"("}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"strCommentIds",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":":"}],["$","span",null,{"className":"token format-spec","children":"-2]"}],["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":")\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    text ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string","children":"\"\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"countNeedReview ",["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        text ",["$","span",null,{"className":"token operator","children":"+="}]," ",["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\""}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"countNeedReview",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":" to review "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"strCommentIds",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"countNeedApproval ",["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token builtin","children":"len"}],["$","span",null,{"className":"token punctuation","children":"("}],"text",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            text ",["$","span",null,{"className":"token operator","children":"+="}]," ",["$","span",null,{"className":"token string","children":"\"\\n\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["        text ",["$","span",null,{"className":"token operator","children":"+="}]," ",["$","span",null,{"className":"token string-interpolation","children":[["$","span",null,{"className":"token string","children":"f\""}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"countNeedApproval",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":" to approve "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"strApprovalIds",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," countNeedReview ",["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token number","children":"0"}]," ",["$","span",null,{"className":"token keyword","children":"or"}]," countNeedApproval ",["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        sendEvent",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"Pull Request Review\""}],["$","span",null,{"className":"token punctuation","children":","}]," text",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],"\n",["$","h1",null,{"children":"Notification"}],"\n",["$","p",null,{"children":"The sendEvent is what uses the macOS native notification system:"}],"\n",["$","pre",null,{"className":"language-python","children":["$","code",null,{"className":"language-python code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"def"}]," ",["$","span",null,{"className":"token function","children":"sendEvent"}],["$","span",null,{"className":"token punctuation","children":"("}],"title",["$","span",null,{"className":"token punctuation","children":","}]," text",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    os",["$","span",null,{"className":"token punctuation","children":"."}],"system",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token triple-quoted-string string","children":"\"\"\"\n"}]]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token triple-quoted-string string","children":"              osascript -e 'display notification \"{}\" with title \"{}\"'\n"}]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token triple-quoted-string string","children":"              \"\"\""}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token builtin","children":"format"}],["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line","children":["            text",["$","span",null,{"className":"token punctuation","children":","}]," title\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"The notification function could use any other mechanism if this one is unsuitable for your needs."}],"\n",["$","h1",null,{"children":"Scheduling the pulls"}],"\n",["$","p",null,{"children":["The last part is executing the code every few minutes. You can import ",["$","code",null,{"children":"schedule"}]," and set a time to pull the reviews."]}],"\n",["$","pre",null,{"className":"language-python","children":["$","code",null,{"className":"language-python code-highlight","children":[["$","span",null,{"className":"code-line","children":["schedule",["$","span",null,{"className":"token punctuation","children":"."}],"every",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"8"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],"minutes",["$","span",null,{"className":"token punctuation","children":"."}],"do",["$","span",null,{"className":"token punctuation","children":"("}],"create_message",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"while"}]," ",["$","span",null,{"className":"token boolean","children":"True"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    schedule",["$","span",null,{"className":"token punctuation","children":"."}],"run_pending",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    time",["$","span",null,{"className":"token punctuation","children":"."}],"sleep",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}]]}]}],"\n",["$","h1",null,{"children":"Conclusion"}],"\n",["$","p",null,{"children":"With less than 200 lines of Python code, you can get notifications about new pull requests directly on your MacOS from Git regardless if the repository is on GitHub or a private one. The solution does not require privileges on Slack or other tools besides having access to the Git repository and the ability to create a developer access token. The script helps give you and your team real-time insight into what should be tackled to unblock your teammates."}]]]}]]}],["$","div",null,{"className":"BlogBody_paginationBar__1gsMc","children":[["$","div",null,{"className":"BlogBody_paginationTitle__H_eFX","children":"Chronological Blog Articles by Page"}],["$","div",null,{"className":"BlogBody_paginationLinks__nk8zd","children":[["$","$L6","1",{"className":"","href":"/blog/page/1","children":1}],["$","$L6","2",{"className":"","href":"/blog/page/2","children":2}],["$","$L6","3",{"className":"","href":"/blog/page/3","children":3}],["$","$L6","4",{"className":"","href":"/blog/page/4","children":4}],["$","$L6","5",{"className":"","href":"/blog/page/5","children":5}],["$","$L6","6",{"className":"","href":"/blog/page/6","children":6}],["$","$L6","7",{"className":"","href":"/blog/page/7","children":7}],["$","$L6","8",{"className":"","href":"/blog/page/8","children":8}],["$","$L6","9",{"className":"","href":"/blog/page/9","children":9}],["$","$L6","10",{"className":"","href":"/blog/page/10","children":10}],["$","$L6","11",{"className":"","href":"/blog/page/11","children":11}],["$","$L6","12",{"className":"","href":"/blog/page/12","children":12}],["$","$L6","13",{"className":"","href":"/blog/page/13","children":13}],["$","$L6","14",{"className":"","href":"/blog/page/14","children":14}],["$","$L6","15",{"className":"","href":"/blog/page/15","children":15}],["$","$L6","16",{"className":"","href":"/blog/page/16","children":16}],["$","$L6","17",{"className":"","href":"/blog/page/17","children":17}],["$","$L6","18",{"className":"","href":"/blog/page/18","children":18}],["$","$L6","19",{"className":"","href":"/blog/page/19","children":19}],["$","$L6","20",{"className":"","href":"/blog/page/20","children":20}],["$","$L6","21",{"className":"","href":"/blog/page/21","children":21}],["$","$L6","22",{"className":"","href":"/blog/page/22","children":22}],["$","$L6","23",{"className":"","href":"/blog/page/23","children":23}],["$","$L6","24",{"className":"","href":"/blog/page/24","children":24}],["$","$L6","25",{"className":"","href":"/blog/page/25","children":25}],["$","$L6","26",{"className":"","href":"/blog/page/26","children":26}],["$","$L6","27",{"className":"","href":"/blog/page/27","children":27}],["$","$L6","28",{"className":"","href":"/blog/page/28","children":28}],["$","$L6","29",{"className":"","href":"/blog/page/29","children":29}],["$","$L6","30",{"className":"","href":"/blog/page/30","children":30}],["$","$L6","31",{"className":"","href":"/blog/page/31","children":31}],["$","$L6","32",{"className":"","href":"/blog/page/32","children":32}],["$","$L6","33",{"className":"","href":"/blog/page/33","children":33}],["$","$L6","34",{"className":"","href":"/blog/page/34","children":34}],["$","$L6","35",{"className":"","href":"/blog/page/35","children":35}],["$","$L6","36",{"className":"","href":"/blog/page/36","children":36}],["$","$L6","37",{"className":"","href":"/blog/page/37","children":37}],["$","$L6","38",{"className":"","href":"/blog/page/38","children":38}],["$","$L6","39",{"className":"","href":"/blog/page/39","children":39}],["$","$L6","40",{"className":"","href":"/blog/page/40","children":40}],["$","$L6","41",{"className":"","href":"/blog/page/41","children":41}],["$","$L6","42",{"className":"","href":"/blog/page/42","children":42}],["$","$L6","43",{"className":"","href":"/blog/page/43","children":43}],["$","$L6","44",{"className":"","href":"/blog/page/44","children":44}],["$","$L6","45",{"className":"","href":"/blog/page/45","children":45}],["$","$L6","46",{"className":"","href":"/blog/page/46","children":46}],["$","$L6","47",{"className":"","href":"/blog/page/47","children":47}],["$","$L6","48",{"className":"","href":"/blog/page/48","children":48}],["$","$L6","49",{"className":"","href":"/blog/page/49","children":49}],["$","$L6","50",{"className":"","href":"/blog/page/50","children":50}],["$","$L6","51",{"className":"","href":"/blog/page/51","children":51}],["$","$L6","52",{"className":"","href":"/blog/page/52","children":52}],["$","$L6","53",{"className":"","href":"/blog/page/53","children":53}],["$","$L6","54",{"className":"","href":"/blog/page/54","children":54}],["$","$L6","55",{"className":"","href":"/blog/page/55","children":55}],["$","$L6","56",{"className":"","href":"/blog/page/56","children":56}],["$","$L6","57",{"className":"","href":"/blog/page/57","children":57}],["$","$L6","58",{"className":"","href":"/blog/page/58","children":58}],["$","$L6","59",{"className":"","href":"/blog/page/59","children":59}],["$","$L6","60",{"className":"","href":"/blog/page/60","children":60}],["$","$L6","61",{"className":"","href":"/blog/page/61","children":61}],["$","$L6","62",{"className":"","href":"/blog/page/62","children":62}],["$","$L6","63",{"className":"","href":"/blog/page/63","children":63}],["$","$L6","64",{"className":"","href":"/blog/page/64","children":64}],["$","$L6","65",{"className":"","href":"/blog/page/65","children":65}],["$","$L6","66",{"className":"","href":"/blog/page/66","children":66}],["$","$L6","67",{"className":"","href":"/blog/page/67","children":67}],["$","$L6","68",{"className":"","href":"/blog/page/68","children":68}],["$","$L6","69",{"className":"","href":"/blog/page/69","children":69}],["$","$L6","70",{"className":"","href":"/blog/page/70","children":70}],["$","$L6","71",{"className":"","href":"/blog/page/71","children":71}],["$","$L6","72",{"className":"","href":"/blog/page/72","children":72}],["$","$L6","73",{"className":"","href":"/blog/page/73","children":73}],["$","$L6","74",{"className":"","href":"/blog/page/74","children":74}],["$","$L6","75",{"className":"","href":"/blog/page/75","children":75}],["$","$L6","76",{"className":"","href":"/blog/page/76","children":76}],["$","$L6","77",{"className":"","href":"/blog/page/77","children":77}],["$","$L6","78",{"className":"","href":"/blog/page/78","children":78}],["$","$L6","79",{"className":"","href":"/blog/page/79","children":79}],["$","$L6","80",{"className":"","href":"/blog/page/80","children":80}],["$","$L6","81",{"className":"","href":"/blog/page/81","children":81}]]}]]}],null]}]
7:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Patrick Desjardins Blog - How to create MacOS notification for Pull Request Code Review?"}],["$","meta","3",{"name":"description","content":"How to create MacOS notification for Pull Request Code Review?"}]]
1:null

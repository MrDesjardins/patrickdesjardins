3:I[5613,[],""]
5:I[1778,[],""]
6:I[5250,["250","static/chunks/250-d7e0a94ebe194dac.js","79","static/chunks/79-2d03397107aae3f1.js","308","static/chunks/app/blog/%5Bslug%5D/page-6528fc8a86d3d7ed.js"],""]
4:["slug","arduino-street-light-project","d"]
0:["AAsfQHKb5tIaVeXdFRWxP",[[["",{"children":["blog",{"children":[["slug","arduino-street-light-project","d"],{"children":["__PAGE__?{\"slug\":\"arduino-street-light-project\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","arduino-street-light-project","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/080eae226cfe3297.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},[null,["$","html",null,{"lang":"en","children":["$","body",null,{"className":"layout_bodystyle__4ncsS","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"style":{"display":"flex","alignItems":"center","justifyContent":"center","height":"100vh"},"children":["$","div",null,{"style":{"width":"50%","height":"20%","backgroundColor":"#ffeded","borderRadius":12,"padding":12,"textAlign":"center"},"children":[["$","h1",null,{"children":"Not Found"}],["$","p",null,{"children":"Could not find requested resource"}],["$","$L6",null,{"href":"/","children":"Return Home"}]]}]}],"notFoundStyles":[],"styles":null}]}]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/4f3d065c9e2d01e0.css","precedence":"next","crossOrigin":""}]],"$L7"]]]]
7:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Patrick Desjardins Blog - Arduino street light project"}],["$","meta","3",{"name":"description","content":"Arduino street light project"}],["$","meta","4",{"name":"next-size-adjust"}]]
1:null
8:I[1749,["250","static/chunks/250-d7e0a94ebe194dac.js","79","static/chunks/79-2d03397107aae3f1.js","308","static/chunks/app/blog/%5Bslug%5D/page-6528fc8a86d3d7ed.js"],"Image"]
2:["$","div",null,{"className":"__className_aaf875","children":["$","div",null,{"className":"layout_container__Tovb9","children":[["$","header",null,{"className":"layout_siteTitle__k5U8g","children":"Patrick Desjardins Blog"}],["$","nav",null,{"children":["$","ul",null,{"className":"layout_navLinks__mf70r","children":["$","li",null,{"className":"layout_navLinkItem__1L8fB","children":[["$","$L6",null,{"className":"layout_navLinkText__bt28R","href":"/","children":"Main Page"}],["$","$L6",null,{"className":"layout_navLinkText__bt28R","href":"/blog","children":"Blog"}],[["$","$L6","2024",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2024","children":2024}],["$","$L6","2023",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2023","children":2023}],["$","$L6","2022",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2022","children":2022}],["$","$L6","2021",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2021","children":2021}],["$","$L6","2020",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2020","children":2020}],["$","$L6","2019",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2019","children":2019}],["$","$L6","2018",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2018","children":2018}],["$","$L6","2017",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2017","children":2017}],["$","$L6","2016",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2016","children":2016}],["$","$L6","2015",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2015","children":2015}],["$","$L6","2014",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2014","children":2014}],["$","$L6","2013",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2013","children":2013}],["$","$L6","2012",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2012","children":2012}],["$","$L6","2011",{"className":"layout_navLinkText__bt28R","href":"/blog/for/2011","children":2011}]]]}]}]}],["$","div",null,{"className":"layout_blogPictureContainer__XC7nK","children":["$","$L8",null,{"className":"layout_blogTopPicture__RJHNN","alt":"Patrick Desjardins picture from a conference","src":"/images/backgrounds/patrickdesjardins_conference_bw.jpeg","width":800,"height":260}]}],["$","main",null,{"className":"layout_main__mXTwS","children":[["$","h1",null,{"children":"Arduino street light project"}],["$","div",null,{"className":"layout_blogPostContainer__WYELx","children":[["$","p",null,{"className":"layout_blogPostDate__LUvx5","children":["Posted on: ","2012-09-02"]}],[["$","p",null,{"children":"I am done with my personal project that was to built a system of light to tell my wife when to stop the car inside the home's garage. The idea was to use Arduino microcontroller with a sensor to evaluate the distance of the car inside the garage. To make it look more \"urban\", I had the idea to use something that looks like a street light, with a red, yellow and green light."}],"\n",["$","iframe",null,{"style":{"width":"100%","height":"500px","border":0,"borderRadius":"4px","overflow":"hidden"},"src":"https://www.youtube.com/embed/O3TtWqblM9I","title":"YouTube video player","allow":"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"}],"\n",["$","h1",null,{"children":"Schema"}],"\n",["$","p",null,{"children":"The electronic part consist of an Arduino Diecimila that I already had (I think it has cost me around 35$ in the past). This will be used to have the logic that are to open the light, to evaluate the distance and to have some logic of \"sleep\" because we do not want the system to be always open. Also, I added the possibility to configure on the fly the machine with 2 buttons that will record in the permanent memory the distance for the yellow and red light."}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/images/blog/planLumiereGarage-376x400.png","alt":""}]}],"\n",["$","p",null,{"children":"So, you need an Arduino board with at least 12kb of ram memory. Diecimila is more than enough and the new popular one is over what we need. You need to have a relay to open 110 volts light bulb. I took one on Ebay called Yurobot that has 4 relay and handle the current/volt for Arduino to 110volt. It has worked flawless and it's pretty great to debug because it has 4 leds that indicate when the current is distributed. The cost is 8$."}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/images/blog/relay.png","alt":""}]}],"\n",["$","p",null,{"children":"Then, you need the input sensor for the distance. I have used the Ultrasonic Module HC-SR04, which work nice in straight line within a distance of 1 cm to 2 meters. The cost is 2$ on Ebay. For that price, you can be really picky. Of course."}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/images/blog/ultrasonic-400x261.png","alt":""}]}],"\n",["$","p",null,{"children":"Finally, I bought 1 60 watts red, yellow and green build for about 5$. The rest of the stock are wires (14 gaugs for 110 volts, and 22 gaugs for 5 volts) I had for around 5$. I bought 3 switchs (1 power switch and 2 pushbuttons) for about 3$. Finally, since I wanted 1 wire to be connectec to the 110 volts of my house, I bought an electric extension for 2$ and cut the end to use it as main electricity source. I needed also to have something to convert 110 volts to 9 volts for Arduino. I bought on Ebay a power supply for 5$. So, this cost me around 65$ to build + the wood/paint/nail that I already have. I guess you can get this project done under 80$ without a problem."}],"\n",["$","h1",null,{"children":"Code"}],"\n",["$","p",null,{"children":"I share to you the code. This code might not be optimized perfectly but work fine. I has many feature like"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Record Yellow light distance with a button"}],"\n",["$","li",null,{"children":"Record Red light distance with a button"}],"\n",["$","li",null,{"children":"Close automatically the light after 20 secondes of inactivity"}],"\n",["$","li",null,{"children":"Record light distance in the EEPROM for permanent configuration"}],"\n",["$","li",null,{"children":"Has a debug mode that contain protection of EEPROM and longer loop (for debugging on the screen)"}],"\n",["$","li",null,{"children":"Has a lot of debug information that goes on the serial to be able to debug on screen"}],"\n",["$","li",null,{"children":"Use a threshold of 1 cm before switching light (otherwise can't go in sleep mode easily"}],"\n",["$","li",null,{"children":"Has a save confirm signal (switch light from red to green) when save occur"}],"\n"]}],"\n",["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"c","data-theme":"github-light","children":["$","code",null,{"data-language":"c","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"#include"}],["$","span",null,{"style":{"color":"#032F62"},"children":" <EEPROM.h>"}],["$","span",null,{"style":{"color":"#24292E"},"children":" boolean debug = false;"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Distance "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"long"}],["$","span",null,{"style":{"color":"#24292E"},"children":" distance;"}],["$","span",null,{"style":{"color":"#6A737D"},"children":"          //The current distance found "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"long"}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 0"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":"  //The last distance found "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" recordedDistance;"}],["$","span",null,{"style":{"color":"#6A737D"},"children":"   //The recorded distance by a button "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" light"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":"0"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //0= start, 1 = green, 2 = yellow, 3 = red"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Buttons "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" buttonMinDistancePin "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 2"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Record the minimum distance = red distance "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" buttonMaxDistancePin "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 3"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Record the maximum distance = yellow distance "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" minButtonState;"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Indicate if the minimum distance button is pushed "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" maxButtonState;"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Indicate if the maximum distance button is pushed"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Led const "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" ledGreen "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 8"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Pin on the Arduino's board for Green light "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" ledYellow "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 9"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Pin on the Arduino's board for Yellow light "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" ledRed "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 10"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Pin on the Arduino's board for Red light"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Pin for ultrasonic "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" trigPin "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Pin on the Arduino's board for triggering the Ultrasonic "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" echoPin "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":"4"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Pin on the Arduino's board for echoing the Ultrasonic"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Value to compare too for led "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" minDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 30"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Value for the red distance in cm "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" maxDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 100"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Value for the yellow distance in cm"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Memory const "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" minDistanceAddress"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 0"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Permanent memory (EEPROM). Minimum distance = red distance "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" maxDistanceAddress "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Permanent memory (EEPROM). Maximum distance = yellow distance"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Time "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"unsigned"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" long"}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastActivity "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 0"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Indicate the last activity time "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" long"}],["$","span",null,{"style":{"color":"#24292E"},"children":" secondBeforeSleep "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 20"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Time in second before going in sleep mode (all light closed) "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"unsigned"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" long"}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastButtonPress "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 0"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Indicate the last time a button has been pressed "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" long"}],["$","span",null,{"style":{"color":"#24292E"},"children":" secondBeforeNewSave "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 5"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Time in second before beeing able to save"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"void"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" setup"}],["$","span",null,{"style":{"color":"#24292E"},"children":"() { "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Initialize Arduino's pins "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"pinMode"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledYellow, OUTPUT); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"pinMode"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledRed, OUTPUT); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"pinMode"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledGreen, OUTPUT); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"pinMode"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(trigPin, OUTPUT); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"pinMode"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(echoPin, INPUT); "}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//When starting up, we read the distance if they are set "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(debug) { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  minDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 20"}],["$","span",null,{"style":{"color":"#24292E"},"children":"; "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  maxDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 50"}],["$","span",null,{"style":{"color":"#24292E"},"children":"; "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"} "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"else"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" v1 "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" EEPROM."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"read"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(minDistanceAddress); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  int"}],["$","span",null,{"style":{"color":"#24292E"},"children":" v2 "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" EEPROM."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"read"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(maxDistanceAddress); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(v1 "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"!="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 255"}],["$","span",null,{"style":{"color":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //No default value with no record yet "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  { "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      minDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" v1; "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  }"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(v2 "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"!="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 255"}],["$","span",null,{"style":{"color":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //No default value with no record yet "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  { "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    maxDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" v2; "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"} "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Debug "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial.begin ("}],["$","span",null,{"style":{"color":"#005CC5"},"children":"9600"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Min Distance : \""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(minDistance); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Max Distance : \""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(maxDistance); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"CloseAllLights"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); }"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"void"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" loop"}],["$","span",null,{"style":{"color":"#24292E"},"children":"() { "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  //Debug "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"New loop\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Min Distance : \""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(minDistance); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Max Distance : \""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(maxDistance); "}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  //Ultrasonic trigger/echo to get the distance "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(trigPin, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  delayMicroseconds"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#005CC5"},"children":"2"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(trigPin, LOW); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  delayMicroseconds"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#005CC5"},"children":"10"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(echoPin, LOW); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  distance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"pulseIn"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(echoPin, HIGH)"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"/"}],["$","span",null,{"style":{"color":"#005CC5"},"children":"2"}],["$","span",null,{"style":{"color":"#24292E"},"children":") "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"/"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 29.1"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Nothing found "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(distance"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"=="}],["$","span",null,{"style":{"color":"#005CC5"},"children":"0"}],["$","span",null,{"style":{"color":"#24292E"},"children":") { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  CloseAllLights"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"} "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Debug "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Current distance and last distance: \""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(distance); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\" cm, \""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(lastDistance); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\" cm.\""}],["$","span",null,{"style":{"color":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"unsigned"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" long"}],["$","span",null,{"style":{"color":"#24292E"},"children":" currentTime "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" millis"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); "}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Debug "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Current time-Last activity time = \""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(currentTime);Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"ms - \""}],["$","span",null,{"style":{"color":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(lastActivity);Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"ms\""}],["$","span",null,{"style":{"color":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(lastActivity "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"!="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 0"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" &&"}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastActivity "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"<"}],["$","span",null,{"style":{"color":"#24292E"},"children":" currentTime)"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //Check if we had an activity since we have started and check if we have not pass the overflow of the machine time (around 50 days) "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"{ "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(currentTime "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"-"}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastActivity "}],["$","span",null,{"style":{"color":"#D73A49"},"children":">"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 1000"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"*"}],["$","span",null,{"style":{"color":"#24292E"},"children":"secondBeforeSleep) "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  //Since last activity, have we pass the x seconds before going to sleep "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  { "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"    //SLEEP MODE "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(distance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":">="}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastDistance"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"-"}],["$","span",null,{"style":{"color":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" &&"}],["$","span",null,{"style":{"color":"#24292E"},"children":" distance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"<="}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastDistance"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"+"}],["$","span",null,{"style":{"color":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#24292E"},"children":") "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"    //The distance is about the same (+-1 cm) as the last time = no change for light if under x seconds. The +-1 cm is because sometime the distance is between two and toggle between two values very fast which make the light to stay open (no-sleep mode) "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    { "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"----->Sleep MODE : Starting\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"      CloseAllLights"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"else"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"----->Sleep MODE : Done\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      lastActivity "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" currentTime;"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //We are in sleep mode, but we have found a change. We change the mode to no-sleep "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"      OpenLight"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    } "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"else"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(distance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"=="}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastDistance) "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"      //The distance is about the same (+-1 cm) as the last time = no change for light if under x seconds. The +-1 cm is because sometime the distance is between two and toggle between two values very fast which make the light to stay open (no-sleep mode)"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"      { "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"        Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"----->Active MODE : Thinking to sleep\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"else"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"        Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"----->Active MODE\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"        lastActivity "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" currentTime; "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"      } "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"      OpenLight"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    } "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"else"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    lastActivity "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" currentTime;"}],["$","span",null,{"style":{"color":"#6A737D"},"children":" //We change the mode to no-sleep if we just start the application or if the time has overflow for Arduino.  "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  //Record the minimum and maximum with the two buttons if they are pressed "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  minButtonState "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" digitalRead"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(buttonMinDistancePin); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  if"}],["$","span",null,{"style":{"color":"#24292E"},"children":" (minButtonState "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"=="}],["$","span",null,{"style":{"color":"#24292E"},"children":" HIGH) { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    recordedDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" EEPROM."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"read"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(minDistanceAddress); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Recorded Distance = \""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(recordedDistance); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Min Distance = \""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(minDistance); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(recordedDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"!="}],["$","span",null,{"style":{"color":"#24292E"},"children":" distance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"&&"}],["$","span",null,{"style":{"color":"#24292E"},"children":" currentTime "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"-"}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastButtonPress "}],["$","span",null,{"style":{"color":"#D73A49"},"children":">"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 1000"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"*"}],["$","span",null,{"style":{"color":"#24292E"},"children":"secondBeforeNewSave)"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"      //Record only if really changed and some time since last button press occurs "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    { "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"      if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(distance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"<"}],["$","span",null,{"style":{"color":"#24292E"},"children":" maxDistance) { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"        Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"*** Saving Min Distance ***\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"        if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#D73A49"},"children":"!"}],["$","span",null,{"style":{"color":"#24292E"},"children":"debug) { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"          EEPROM."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"write"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(minDistanceAddress, distance); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"        } "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"        minDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" distance; "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"        lastButtonPress "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" currentTime; "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"        ConfirmSave"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"      } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  //Reset if the current time has overflow "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(lastButtonPress "}],["$","span",null,{"style":{"color":"#D73A49"},"children":">"}],["$","span",null,{"style":{"color":"#24292E"},"children":" currentTime) { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    lastButtonPress "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 0"}],["$","span",null,{"style":{"color":"#24292E"},"children":"; "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  maxButtonState "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" digitalRead"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(buttonMaxDistancePin); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  if"}],["$","span",null,{"style":{"color":"#24292E"},"children":" (maxButtonState "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"=="}],["$","span",null,{"style":{"color":"#24292E"},"children":" HIGH) { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    recordedDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" EEPROM."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"read"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(maxDistanceAddress); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Recorded Distance = \""}],["$","span",null,{"style":{"color":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(recordedDistance); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"print"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Max Distance = \""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(maxDistance); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(recordedDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"!="}],["$","span",null,{"style":{"color":"#24292E"},"children":" distance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"&&"}],["$","span",null,{"style":{"color":"#24292E"},"children":" currentTime "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"-"}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastButtonPress "}],["$","span",null,{"style":{"color":"#D73A49"},"children":">"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 1000"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"*"}],["$","span",null,{"style":{"color":"#24292E"},"children":"secondBeforeNewSave)"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"    //Record only if really changed and some time since last button has occurs "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    { "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"      if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(distance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":">"}],["$","span",null,{"style":{"color":"#24292E"},"children":" minDistance) { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"        Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"*** Saving Max Distance ***\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"        if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#D73A49"},"children":"!"}],["$","span",null,{"style":{"color":"#24292E"},"children":"debug) { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"          EEPROM."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"write"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(maxDistanceAddress, distance); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"        }"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"        maxDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" distance; lastButtonPress "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" currentTime; "}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"ConfirmSave"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"      } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  lastDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" distance; "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  //Record last distance to be able to check if change have been made "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(debug) { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"    delay"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#005CC5"},"children":"500"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"else"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"    delay"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#005CC5"},"children":"250"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  //Close all lights "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  void"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" CloseAllLights"}],["$","span",null,{"style":{"color":"#24292E"},"children":"() { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"    digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledRed, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"    digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledYellow, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"    digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledGreen, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  }"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//ConfirmSave "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"void"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" ConfirmSave"}],["$","span",null,{"style":{"color":"#24292E"},"children":"() { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledRed, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledYellow, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledGreen, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  delay"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#005CC5"},"children":"500"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledRed, LOW); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledYellow, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledGreen, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  delay"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#005CC5"},"children":"500"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledRed, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledYellow, LOW); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledGreen, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  delay"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#005CC5"},"children":"500"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledRed, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledYellow, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledGreen, LOW); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  delay"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#005CC5"},"children":"500"}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"//Open the correct light "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"void"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" OpenLight"}],["$","span",null,{"style":{"color":"#24292E"},"children":"() { "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  //NO-SLEEP MODE "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(distance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"!="}],["$","span",null,{"style":{"color":"#24292E"},"children":" lastDistance) "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  //If distance has changed (no boundary, very precise) "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  { "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"    //Open the good light "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(distance"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"<"}],["$","span",null,{"style":{"color":"#24292E"},"children":"minDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"&&"}],["$","span",null,{"style":{"color":"#24292E"},"children":" distance"}],["$","span",null,{"style":{"color":"#D73A49"},"children":">"}],["$","span",null,{"style":{"color":"#005CC5"},"children":"0"}],["$","span",null,{"style":{"color":"#24292E"},"children":") {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"       digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledRed, LOW); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"       digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledYellow, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"       digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledGreen, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"       Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"*RED*\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); light "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 3"}],["$","span",null,{"style":{"color":"#24292E"},"children":"; "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    } "}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    else"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(distance"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"<"}],["$","span",null,{"style":{"color":"#24292E"},"children":"maxDistance "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"&&"}],["$","span",null,{"style":{"color":"#24292E"},"children":" distance"}],["$","span",null,{"style":{"color":"#D73A49"},"children":">"}],["$","span",null,{"style":{"color":"#005CC5"},"children":"0"}],["$","span",null,{"style":{"color":"#24292E"},"children":") { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"      digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledRed, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"      digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledYellow, LOW); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"      digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledGreen, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"*Yellow*\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      light "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 2"}],["$","span",null,{"style":{"color":"#24292E"},"children":"; "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"else"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" if"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(distance"}],["$","span",null,{"style":{"color":"#D73A49"},"children":">="}],["$","span",null,{"style":{"color":"#24292E"},"children":"maxDistance) { "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"      digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledRed, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"      digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledYellow, HIGH); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"      digitalWrite"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(ledGreen, LOW); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      Serial."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"println"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"*Green*\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"); "}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      light "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#24292E"},"children":"; "}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}"}]}]]}]}]}],"\n",["$","p",null,{"children":["You can see the final version on ",["$","a",null,{"href":"http://youtu.be/O3TtWqblM9I","children":"YouTube"}],". The physical enclosure may has be done more beautifully but I am not a carpenter. I am happy of the end result.\nSome thing that you might know : the power cable is too short. I bought a 1.5 meters extension cord and I think you should get at least 2.5 meters. Also,\nI had the idea to have the ultrasonic sensor outside the main enclosure and this is a good idea. The only error I did is that I bought a plastic enclosure too big for the purpose of having only the ultrasonic sensor (not a big deal).\nLast thing, the wood enclosure is too small, I had difficulty to put the relay, the Arduino, all the wire and the power supply."]}],"\n",["$","p",null,{"children":["$","img",null,{"src":"/images/blog/woodenclosure-216x400.png","alt":""}]}],"\n",["$","p",null,{"children":"As you can see, the space between the back of the light and the wood is about 1 inch."}],"\n",["$","p",null,{"children":"Concerning the build part (left side of the last picture), it's okay. I put a plexiglass that I sandblasted with a black cardboard to make the letters from a stencil."}],"\n",["$","h1",null,{"children":"Conclusion"}],"\n",["$","p",null,{"children":"Arduino make it simple with under 300 lines of code I were able to make work a ultrasonic sensor with 3 lights. My main goal was to fulfill the requirement of having a system to know where to stop the car in the garage and I think it's a success. Also, as a personal goal, I always wanted to control physical stuff that were running on 110 volts and it was also a success. Now, time for another project!"}]]]}]]}],["$","div",null,{"className":"layout_paginationBar__jnuuR","children":[["$","div",null,{"className":"layout_paginationTitle__PsOw5","children":"Chronological Blog Articles by Page"}],["$","div",null,{"className":"layout_paginationLinks__LdBaH","children":[["$","$L6","1",{"className":"","href":"/blog/page/1","children":1}],["$","$L6","2",{"className":"","href":"/blog/page/2","children":2}],["$","$L6","3",{"className":"","href":"/blog/page/3","children":3}],["$","$L6","4",{"className":"","href":"/blog/page/4","children":4}],["$","$L6","5",{"className":"","href":"/blog/page/5","children":5}],["$","$L6","6",{"className":"","href":"/blog/page/6","children":6}],["$","$L6","7",{"className":"","href":"/blog/page/7","children":7}],["$","$L6","8",{"className":"","href":"/blog/page/8","children":8}],["$","$L6","9",{"className":"","href":"/blog/page/9","children":9}],["$","$L6","10",{"className":"","href":"/blog/page/10","children":10}],["$","$L6","11",{"className":"","href":"/blog/page/11","children":11}],["$","$L6","12",{"className":"","href":"/blog/page/12","children":12}],["$","$L6","13",{"className":"","href":"/blog/page/13","children":13}],["$","$L6","14",{"className":"","href":"/blog/page/14","children":14}],["$","$L6","15",{"className":"","href":"/blog/page/15","children":15}],["$","$L6","16",{"className":"","href":"/blog/page/16","children":16}],["$","$L6","17",{"className":"","href":"/blog/page/17","children":17}],["$","$L6","18",{"className":"","href":"/blog/page/18","children":18}],["$","$L6","19",{"className":"","href":"/blog/page/19","children":19}],["$","$L6","20",{"className":"","href":"/blog/page/20","children":20}],["$","$L6","21",{"className":"","href":"/blog/page/21","children":21}],["$","$L6","22",{"className":"","href":"/blog/page/22","children":22}],["$","$L6","23",{"className":"","href":"/blog/page/23","children":23}],["$","$L6","24",{"className":"","href":"/blog/page/24","children":24}],["$","$L6","25",{"className":"","href":"/blog/page/25","children":25}],["$","$L6","26",{"className":"","href":"/blog/page/26","children":26}],["$","$L6","27",{"className":"","href":"/blog/page/27","children":27}],["$","$L6","28",{"className":"","href":"/blog/page/28","children":28}],["$","$L6","29",{"className":"","href":"/blog/page/29","children":29}],["$","$L6","30",{"className":"","href":"/blog/page/30","children":30}],["$","$L6","31",{"className":"","href":"/blog/page/31","children":31}],["$","$L6","32",{"className":"","href":"/blog/page/32","children":32}],["$","$L6","33",{"className":"","href":"/blog/page/33","children":33}],["$","$L6","34",{"className":"","href":"/blog/page/34","children":34}],["$","$L6","35",{"className":"","href":"/blog/page/35","children":35}],["$","$L6","36",{"className":"","href":"/blog/page/36","children":36}],["$","$L6","37",{"className":"","href":"/blog/page/37","children":37}],["$","$L6","38",{"className":"","href":"/blog/page/38","children":38}],["$","$L6","39",{"className":"","href":"/blog/page/39","children":39}],["$","$L6","40",{"className":"","href":"/blog/page/40","children":40}],["$","$L6","41",{"className":"","href":"/blog/page/41","children":41}],["$","$L6","42",{"className":"","href":"/blog/page/42","children":42}],["$","$L6","43",{"className":"","href":"/blog/page/43","children":43}],["$","$L6","44",{"className":"","href":"/blog/page/44","children":44}],["$","$L6","45",{"className":"","href":"/blog/page/45","children":45}],["$","$L6","46",{"className":"","href":"/blog/page/46","children":46}],["$","$L6","47",{"className":"","href":"/blog/page/47","children":47}],["$","$L6","48",{"className":"","href":"/blog/page/48","children":48}],["$","$L6","49",{"className":"","href":"/blog/page/49","children":49}],["$","$L6","50",{"className":"","href":"/blog/page/50","children":50}],["$","$L6","51",{"className":"","href":"/blog/page/51","children":51}],["$","$L6","52",{"className":"","href":"/blog/page/52","children":52}],["$","$L6","53",{"className":"","href":"/blog/page/53","children":53}],["$","$L6","54",{"className":"","href":"/blog/page/54","children":54}],["$","$L6","55",{"className":"","href":"/blog/page/55","children":55}],["$","$L6","56",{"className":"","href":"/blog/page/56","children":56}],["$","$L6","57",{"className":"","href":"/blog/page/57","children":57}],["$","$L6","58",{"className":"","href":"/blog/page/58","children":58}],["$","$L6","59",{"className":"","href":"/blog/page/59","children":59}],["$","$L6","60",{"className":"","href":"/blog/page/60","children":60}],["$","$L6","61",{"className":"","href":"/blog/page/61","children":61}],["$","$L6","62",{"className":"","href":"/blog/page/62","children":62}],["$","$L6","63",{"className":"","href":"/blog/page/63","children":63}],["$","$L6","64",{"className":"","href":"/blog/page/64","children":64}],["$","$L6","65",{"className":"","href":"/blog/page/65","children":65}],["$","$L6","66",{"className":"","href":"/blog/page/66","children":66}],["$","$L6","67",{"className":"","href":"/blog/page/67","children":67}],["$","$L6","68",{"className":"","href":"/blog/page/68","children":68}],["$","$L6","69",{"className":"","href":"/blog/page/69","children":69}],["$","$L6","70",{"className":"","href":"/blog/page/70","children":70}],["$","$L6","71",{"className":"","href":"/blog/page/71","children":71}],["$","$L6","72",{"className":"","href":"/blog/page/72","children":72}],["$","$L6","73",{"className":"","href":"/blog/page/73","children":73}],["$","$L6","74",{"className":"","href":"/blog/page/74","children":74}],["$","$L6","75",{"className":"","href":"/blog/page/75","children":75}],["$","$L6","76",{"className":"","href":"/blog/page/76","children":76}],["$","$L6","77",{"className":"","href":"/blog/page/77","children":77}]]}]]}]]}]}]

{"data":{"mdx":{"frontmatter":{"title":"Migrating your Local SQL Server Database to Microsoft Azure","date":"July 1, 2016"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Migrating your Local SQL Server Database to Microsoft Azure\",\n  \"date\": \"2016-07-01\",\n  \"categories\": [\"azure\", \"sql\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Migrating a SQL Server Database into Azure is easy but not obviously. Here is few steps that might save you some hours. These steps are migrating the schema by creating a new database at destination with all data.\"), mdx(\"p\", null, \"First of all, you need to open Microsoft SQL Server Management Studio. Right click the database you want to migrate to Azure and select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Task\"), \", and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Export Data-tier Application\"), \". It's important that you do not choose the option Deploy Database to Windows Azure Sql Database because this option doesn't keep the identity (primary keys) of you tables.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"820px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/a22fd4312ea6d98d2a6b085c28c72a90/9f82e/ExportDataTierApplication.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"95%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAABYlAAAWJQFJUiTwAAACYklEQVQ4y3VS6W6bQBjk/Z+nrdqqf6JWVtO4ToKBPVlYlsPA3hhHrmRTYadHHGc0WumTdjTzHcF9BFOKYBIJkVurrJFG997r6Xg4HI7TNDFeU1ZM03Q8zuX/CJYRAxCF6yRlvO21tl5pb6ybpsPh9JtmJUnz6+Ka3XDwWYtvkt+4ejF2t0/9917ciWrT1OVuHNq2bZpmNw7bwb+gtwGEIYF3ckNGV3nNreRbUxQc30cEggRhrLWx1iqllNYvqLpguWYIUyGauumkslo7a72ougimBedCCCmV1uYVrZRd8BBThBAhhDHW971SyhjNRR3GGCHUtp3WRin9iqbv2lkMIazrxjmv5zDKWcNFvU4oJaRtO+ecvQKntZzFcRTVdWOMNWaO5Jwtm/YxJhjhOYi9CHyGkX0brCIKAKjq+qScI1lrRLV5jDHCCCKEEcKnpighZVX9C2JUwHgpikwIvh3cdnCDd0+jb9punVCMcQIAJoTz4tzRCX/all1wsffzJbhhDBNyMkYIYyEKIQol1bmx+TVGyTa4uJtzafzuPs4wTiGiEDMASRTDLK+4qHlRZ3lZN71x7rrzdtwSuMTxAoZfUbTIyRKEXzP0g4JFCm+7MtIbNChyKZ5O4v2TL/EXEr7n4FMWf6TrD/jhXc9vfpnV3qz2erXXP3f97XXnc+wEYIQZwikmLIwgy4VxW2PPHI3118XWjzFM84wxxvIZWZZlfdf93fIM9ca07TxtSjCGEEopz7s1L6F1/6ZzmNCUUghAWVbeD977izs1Rr7p/JiQJEkSAOI4ybIcE1JVz1f4nFp1vwEQNRaisz8z7QAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ExportDataTierApplication\",\n    \"title\": \"ExportDataTierApplication\",\n    \"src\": \"/static/a22fd4312ea6d98d2a6b085c28c72a90/9f82e/ExportDataTierApplication.png\",\n    \"srcSet\": [\"/static/a22fd4312ea6d98d2a6b085c28c72a90/5a46d/ExportDataTierApplication.png 300w\", \"/static/a22fd4312ea6d98d2a6b085c28c72a90/0a47e/ExportDataTierApplication.png 600w\", \"/static/a22fd4312ea6d98d2a6b085c28c72a90/9f82e/ExportDataTierApplication.png 820w\"],\n    \"sizes\": \"(max-width: 820px) 100vw, 820px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"To import into Azure, you need to right click the Databases folder of Azure SQL Server. Select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Import Data-tier Application\"), \". \", mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"446px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/a462353fdc89f882de63193408e2e504/6244b/ImportDataTierApplication.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"48.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAABYlAAAWJQFJUiTwAAABtklEQVQoz3WL3Y6aQACFednetU/UbmOye9VuNpt9gjZRG5WKCDPIz8zgDCK/MwwgoK7SYNILk/bLl5xzLo5iJRIRYlkAmIZuGJq+dmzLBNCCECGEMN5srFuS7dZ3HJdShvGwC1kolYjmJvjwcvz4dvz0Ir79oqdWdm3VNVXXlEPpqq4th96UbVMe22G2jTyfGuXU1hvPfpoGo3HyfezpAEFoGcYaAKCqqrZcOo4jpSz/IqUUN+oqV87vveS7Q2rHgQ+gNV2RLd25yCc0cD3segQRSlm4ZTufDrLdPkl5kolSciWNWRYCRBgL2No0DWAwYqzUHw6cuXABjakNZ461MJc/gT4B+sQGM57gktODDJXL5fI+cDpf+ka41/i5IM/e4iGGj0QbbbWvdDUKwaM7/4x+P2D1S2Q9naK3Pn09i5nS37her33fJ0kIwHznr1w48101ZmZ0Mw4AI/qemntqRAHgiZ2FoMr9uzPbZxMN2w7SdGBCZx+nQta5qHJRclnzouLF0HNRhlFWCH5/DuOxamOMDAA3tp0kaZbn/5GXMr8756JwMY1ChrFDsFtKfqjlP62rojvIP5aUFc6IvSDDAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ImportDataTierApplication\",\n    \"title\": \"ImportDataTierApplication\",\n    \"src\": \"/static/a462353fdc89f882de63193408e2e504/6244b/ImportDataTierApplication.png\",\n    \"srcSet\": [\"/static/a462353fdc89f882de63193408e2e504/5a46d/ImportDataTierApplication.png 300w\", \"/static/a462353fdc89f882de63193408e2e504/6244b/ImportDataTierApplication.png 446w\"],\n    \"sizes\": \"(max-width: 446px) 100vw, 446px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"A short wizard will open and let you select the name of the destination database as well as some primitive Azure configuration. This may take a while to transfer depending of the size of your database.\"), mdx(\"p\", null, \"Once it's done, it's always a good idea to verify if everything has been transferred.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \" SELECT OBJECT_SCHEMA_NAME(p.object_id) AS [Schema] , OBJECT_NAME(p.object_id) AS [Table] , i.name AS [Index] , p.rows AS [Row Count] FROM sys.partitions p INNER JOIN sys.indexes i ON p.object_id = i.object_id AND p.index_id = i.index_id WHERE OBJECT_SCHEMA_NAME(p.object_id) != 'sys' ORDER BY [Row Count], [Schema], [Table], [Index] \\n\")), mdx(\"p\", null, \" That query will show the information about the number of rows per table. You can compare from the local database and the Azure one to see any disperency.\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"6867d8cd-9677-53cd-9df8-da8dc173e3ce"}}
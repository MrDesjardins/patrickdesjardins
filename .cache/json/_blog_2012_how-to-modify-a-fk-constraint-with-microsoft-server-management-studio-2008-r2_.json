{"data":{"mdx":{"frontmatter":{"title":"How to modify a FK constraint with Microsoft Server Management Studio 2008 R2","date":"November 19, 2012"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How to modify a FK constraint with Microsoft Server Management Studio 2008 R2\",\n  \"date\": \"2012-11-19\",\n  \"categories\": [\"sql-server-management-studio\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This task should be easy isn't?\"), mdx(\"p\", null, \"Well, if you go to the Microsoft Server Management Studio (2008 R2) designer to do it and that the constraint is located into a schema other than DBO, this might be more complex that you think.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"400px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/c48ef8d0c1eee6ea55e3ddfbc2f8e452/e17e5/fkerror-400x172.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"43%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlklEQVQoz3VRXZOaQBDk//+cq3vKeV5EEMugsLqAEjkUkO+Pxao83UOnZk6tJJV76OqZ2drp6RnNXK0wnxuYTl8xmUzw8vINr9MJ9NkM1nKJ5Q2LxQKGYcA0TYZlWQyq39/e3r5D2z89IZAStr2Gs3HgeT6CIIBwBaSU8KTHNd+n+h7b7Q5yJyFvdaqVZYm6rlFVFbTo+RlSCBimic3GweEQIkkSDEphGAb0fc98xz3vug5t2zErpR7Qfn18IE1TtkFNdX0OwzB5ksvlwup5nnNMXBQFx23bYhzHv8QI2kiT9D3kbgd9pkOfzbEwLaxWP9im7/nYB3t4nsc5WSWbx2PEDaipurnhhkp9qhRFDtdx4Tju47PruhBiiyzLeKosu7AbypMk5Wlpd2T7vgrteh0fSuHhgPV6A9u2+Sh0JBIRQiCK3nm3xMefR0RRxBzHMc5xjKoscR0VtLzqUOQl6qrmvfx5MWJC0zT/PZBSA/phwLlscMorpFUDLYwLnM609ALD0POnf0GWvkLTdhDHE9Z+iDAt8BtCHogaZfvAIQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"fkerror 400x172\",\n    \"title\": \"fkerror 400x172\",\n    \"src\": \"/static/c48ef8d0c1eee6ea55e3ddfbc2f8e452/e17e5/fkerror-400x172.png\",\n    \"srcSet\": [\"/static/c48ef8d0c1eee6ea55e3ddfbc2f8e452/5a46d/fkerror-400x172.png 300w\", \"/static/c48ef8d0c1eee6ea55e3ddfbc2f8e452/e17e5/fkerror-400x172.png 400w\"],\n    \"sizes\": \"(max-width: 400px) 100vw, 400px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Rename failed for ForeignKey 'FK__ABC'. Either the parameter @objname is ambiguous or the claimed @objtype (OBJECT) is wrong. (Microsoft SQL Server, Error: 15248)\")), mdx(\"p\", null, \"What's happening it that the tool is trying to use SP_RENAME with DBO as the schema. This can be verified with the Sql Profiler. It's also a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://connect.microsoft.com/SQLServer/feedback/details/462046/cannot-rename-a-default-constraint-for-a-table-in-a-schema-which-is-not-dbo\"\n  }, \"known bug that Microsoft\"), \" should have fixed in their latest release of SQL Server.\"), mdx(\"p\", null, \"To be able to change the foreign key constrain name, you need to do it manually with the SP_RENAME function.\"), mdx(\"p\", null, \"The syntax is 'YourSchema.YourFKNameToChange' followed by only the FK you want. Here is an example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \" sp_rename 'YourSchema.YourFKNameToChange', 'YourNewFKName', 'OBJECT' \\n\")), mdx(\"p\", null, \"That's it!\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"50b56043-a08b-5910-92c0-e3fabc060d52","slug":"2012/how-to-modify-a-fk-constraint-with-microsoft-server-management-studio-2008-r2","__params":{"slug":"2012"}}}
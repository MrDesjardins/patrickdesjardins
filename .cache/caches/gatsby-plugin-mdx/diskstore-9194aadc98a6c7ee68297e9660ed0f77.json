{"expireTime":9007200886478377000,"key":"gatsby-plugin-mdx-entire-payload-273236b957a49002b898d4614763a4c1--undefined","val":{"mdast":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"By default, Apollo GraphQL middleware install the server in Express under the same URL. If you use the URL in the browser (GET), the playground loads. If you use the URL as a POST the data is returned. The website and the API are both using the same URL. It is problematic if you want the playground to use a particular authentication system (e.g., web-based) and the API to use an other (e.g., token approach). In this article, I will present a simple way to have the web playground and the API over two different URLs.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":521,"offset":521},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":521,"offset":521},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The idea is to start two Apollo middleware and route them with different options. The playground can be even simpler that what I am presenting. I am adding a few playground settings. Because I am using TypeScript, all the fields are marked to be required, hence I am explicitly specifying the value for each. The \"request.credentials\" is required with the authentication mechanism under which I am developer the GraphQL.","position":{"start":{"line":4,"column":1,"offset":523},"end":{"line":4,"column":421,"offset":943},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":523},"end":{"line":4,"column":421,"offset":943},"indent":[]}},{"type":"code","lang":"typescript","meta":null,"value":"app.use(playgroundEndpoint, authorizeUserMiddleware);\nconst playgroundServer = new ApolloServer({\n schema: schemas,\n        engine: true,\n        context: (context: GraphQLCustomResolversContext) => {\n            const requestTyped = (context as any).req as IUserRequest;\n            const newContext: GraphQLCustomContext = {\n                loaders: new DataLoaders(requestTyped)\n            };\n            return newContext;\n        },\n        playground: {\n            settings: {\n                \"general.betaUpdates\": false,\n                \"editor.theme\": \"dark\",\n                \"editor.reuseHeaders\": true,\n                \"tracing.hideTracingResponse\": false,\n                \"editor.fontSize\": 14,\n                \"editor.fontFamily\": \"'Source Code Pro', 'Consolas', 'Inconsolata', 'Droid Sans Mono', 'Monaco', monospace\",\n                \"request.credentials\": \"same-origin\"\n            }\n        }\n});\nplaygroundServer.applyMiddleware({ app, path: playgroundEndpoint, cors: true });","position":{"start":{"line":6,"column":1,"offset":945},"end":{"line":31,"column":4,"offset":1958},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The second configuration is for the API. The arrangement is slightly more simple. The reason is that the middleware needs to disable the playground and nothing else.","position":{"start":{"line":33,"column":1,"offset":1960},"end":{"line":33,"column":166,"offset":2125},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1960},"end":{"line":33,"column":166,"offset":2125},"indent":[]}},{"type":"code","lang":"typescript","meta":null,"value":"app.use(apiEndpoint, authorizeUserMiddleware);\nconst apiServer = new ApolloServer({\n    schema: schemas,\n    context: (context: GraphQLCustomResolversContext) => {\n        const requestTyped = (context as any).req as IUserRequest;\n        const newContext: GraphQLCustomContext = {\n            loaders: new DataLoaders(requestTyped)\n        };\n        return newContext;\n    },\n    playground: false,\n    introspection: false\n});\napiServer.applyMiddleware({ app, path: apiEndpoint, cors: true });","position":{"start":{"line":35,"column":1,"offset":2127},"end":{"line":50,"column":4,"offset":2641},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In both cases, I set a custom \"authorizeUserMiddleware\" that read the user credential and figure out what the user can do or not. The important parameters to disable are the playground, the introspection","position":{"start":{"line":52,"column":1,"offset":2643},"end":{"line":52,"column":204,"offset":2846},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":2643},"end":{"line":52,"column":204,"offset":2846},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The code that is hooking Apollo middleware into Express server next were you define the Express variable. From there, you need to start the server and both URLs will be served.","position":{"start":{"line":54,"column":1,"offset":2848},"end":{"line":54,"column":177,"offset":3024},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":2848},"end":{"line":54,"column":177,"offset":3024},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Related GraphQL Post","position":{"start":{"line":56,"column":4,"offset":3029},"end":{"line":56,"column":24,"offset":3049},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":3026},"end":{"line":56,"column":24,"offset":3049},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"getting-started-with-graphql-for-netflix-open-connect","children":[{"type":"text","value":"Getting Started with GraphQL for Netflix Open Connect","position":{"start":{"line":58,"column":4,"offset":3054},"end":{"line":58,"column":57,"offset":3107},"indent":[]}}],"position":{"start":{"line":58,"column":3,"offset":3053},"end":{"line":58,"column":113,"offset":3163},"indent":[]}}],"position":{"start":{"line":58,"column":3,"offset":3053},"end":{"line":58,"column":113,"offset":3163},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":3051},"end":{"line":58,"column":113,"offset":3163},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"install-apollo-server-to-host-a-graphql-service","children":[{"type":"text","value":"Install Apollo Server to host a GraphQL service","position":{"start":{"line":59,"column":4,"offset":3167},"end":{"line":59,"column":51,"offset":3214},"indent":[]}}],"position":{"start":{"line":59,"column":3,"offset":3166},"end":{"line":59,"column":101,"offset":3264},"indent":[]}}],"position":{"start":{"line":59,"column":3,"offset":3166},"end":{"line":59,"column":101,"offset":3264},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":3164},"end":{"line":59,"column":101,"offset":3264},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"apollo-server-and-secured-playground","children":[{"type":"text","value":"Apollo Server and Secured Playground","position":{"start":{"line":60,"column":4,"offset":3268},"end":{"line":60,"column":40,"offset":3304},"indent":[]}}],"position":{"start":{"line":60,"column":3,"offset":3267},"end":{"line":60,"column":79,"offset":3343},"indent":[]}}],"position":{"start":{"line":60,"column":3,"offset":3267},"end":{"line":60,"column":79,"offset":3343},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":3265},"end":{"line":60,"column":79,"offset":3343},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"graphql-context","children":[{"type":"text","value":"GraphQL Context","position":{"start":{"line":61,"column":4,"offset":3347},"end":{"line":61,"column":19,"offset":3362},"indent":[]}}],"position":{"start":{"line":61,"column":3,"offset":3346},"end":{"line":61,"column":37,"offset":3380},"indent":[]}}],"position":{"start":{"line":61,"column":3,"offset":3346},"end":{"line":61,"column":37,"offset":3380},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":3344},"end":{"line":61,"column":37,"offset":3380},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"graphql-query-with-argument","children":[{"type":"text","value":"GraphQL Query with Argument","position":{"start":{"line":62,"column":4,"offset":3384},"end":{"line":62,"column":31,"offset":3411},"indent":[]}}],"position":{"start":{"line":62,"column":3,"offset":3383},"end":{"line":62,"column":61,"offset":3441},"indent":[]}}],"position":{"start":{"line":62,"column":3,"offset":3383},"end":{"line":62,"column":61,"offset":3441},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":3381},"end":{"line":62,"column":61,"offset":3441},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"apollo-graphql-resolvers-and-data-source-separation","children":[{"type":"text","value":"Apollo GraphQL Resolvers and Data Source separation","position":{"start":{"line":63,"column":4,"offset":3445},"end":{"line":63,"column":55,"offset":3496},"indent":[]}}],"position":{"start":{"line":63,"column":3,"offset":3444},"end":{"line":63,"column":109,"offset":3550},"indent":[]}}],"position":{"start":{"line":63,"column":3,"offset":3444},"end":{"line":63,"column":109,"offset":3550},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":3442},"end":{"line":63,"column":109,"offset":3550},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"how-to-setup-a-typescript-nodejs-express-apollo-server-to-easy-debugging-with-vscode","children":[{"type":"text","value":"How to setup a TypeScript, NodeJS, Express Apollo Server to easy debugging with VsCode","position":{"start":{"line":64,"column":4,"offset":3554},"end":{"line":64,"column":90,"offset":3640},"indent":[]}}],"position":{"start":{"line":64,"column":3,"offset":3553},"end":{"line":64,"column":177,"offset":3727},"indent":[]}}],"position":{"start":{"line":64,"column":3,"offset":3553},"end":{"line":64,"column":177,"offset":3727},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":3551},"end":{"line":64,"column":177,"offset":3727},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"graphql-resolvers-with-apollo","children":[{"type":"text","value":"GraphQL Resolvers with Apollo","position":{"start":{"line":65,"column":4,"offset":3731},"end":{"line":65,"column":33,"offset":3760},"indent":[]}}],"position":{"start":{"line":65,"column":3,"offset":3730},"end":{"line":65,"column":65,"offset":3792},"indent":[]}}],"position":{"start":{"line":65,"column":3,"offset":3730},"end":{"line":65,"column":65,"offset":3792},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":3728},"end":{"line":65,"column":65,"offset":3792},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"configuring-apollo-playground-and-api-on-two-different-url","children":[{"type":"text","value":"Configuring Apollo Playground and API on two different URL","position":{"start":{"line":66,"column":4,"offset":3796},"end":{"line":66,"column":62,"offset":3854},"indent":[]}}],"position":{"start":{"line":66,"column":3,"offset":3795},"end":{"line":66,"column":123,"offset":3915},"indent":[]}}],"position":{"start":{"line":66,"column":3,"offset":3795},"end":{"line":66,"column":123,"offset":3915},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":3793},"end":{"line":66,"column":123,"offset":3915},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"how-to-automatically-generate-typescript-for-consumer-of-your-graphql","children":[{"type":"text","value":"How to automatically generate TypeScript for consumers of your GraphQL","position":{"start":{"line":67,"column":4,"offset":3919},"end":{"line":67,"column":74,"offset":3989},"indent":[]}}],"position":{"start":{"line":67,"column":3,"offset":3918},"end":{"line":67,"column":146,"offset":4061},"indent":[]}}],"position":{"start":{"line":67,"column":3,"offset":3918},"end":{"line":67,"column":146,"offset":4061},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":3916},"end":{"line":67,"column":146,"offset":4061},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"graphql-extension-to-collect-http-and-resolvers-telemetry","children":[{"type":"text","value":"GraphQL and HTTP Telemetry","position":{"start":{"line":68,"column":4,"offset":4065},"end":{"line":68,"column":30,"offset":4091},"indent":[]}}],"position":{"start":{"line":68,"column":3,"offset":4064},"end":{"line":68,"column":90,"offset":4151},"indent":[]}},{"type":"text","value":"  ","position":{"start":{"line":68,"column":90,"offset":4151},"end":{"line":68,"column":92,"offset":4153},"indent":[]}}],"position":{"start":{"line":68,"column":3,"offset":4064},"end":{"line":68,"column":92,"offset":4153},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":4062},"end":{"line":68,"column":92,"offset":4153},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"how-to-consume-graphql-in-typescript-and-react","children":[{"type":"text","value":"GraphQL and TypeScript/React","position":{"start":{"line":69,"column":4,"offset":4157},"end":{"line":69,"column":32,"offset":4185},"indent":[]}}],"position":{"start":{"line":69,"column":3,"offset":4156},"end":{"line":69,"column":81,"offset":4234},"indent":[]}}],"position":{"start":{"line":69,"column":3,"offset":4156},"end":{"line":69,"column":81,"offset":4234},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":4154},"end":{"line":69,"column":81,"offset":4234},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":3051},"end":{"line":69,"column":81,"offset":4234},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Configuring Apollo Playground and API on two different URL\",\"date\":\"2019-03-13\",\"categories\":[\"graphql\"]}","position":{"start":{"line":71,"column":1,"offset":4236},"end":{"line":71,"column":144,"offset":4379},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":71,"column":144,"offset":4379}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Configuring Apollo Playground and API on two different URL\",\n  \"date\": \"2019-03-13\",\n  \"categories\": [\"graphql\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"By default, Apollo GraphQL middleware install the server in Express under the same URL. If you use the URL in the browser (GET), the playground loads. If you use the URL as a POST the data is returned. The website and the API are both using the same URL. It is problematic if you want the playground to use a particular authentication system (e.g., web-based) and the API to use an other (e.g., token approach). In this article, I will present a simple way to have the web playground and the API over two different URLs.\"), mdx(\"p\", null, \"The idea is to start two Apollo middleware and route them with different options. The playground can be even simpler that what I am presenting. I am adding a few playground settings. Because I am using TypeScript, all the fields are marked to be required, hence I am explicitly specifying the value for each. The \\\"request.credentials\\\" is required with the authentication mechanism under which I am developer the GraphQL.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"app.use(playgroundEndpoint, authorizeUserMiddleware);\\nconst playgroundServer = new ApolloServer({\\n schema: schemas,\\n        engine: true,\\n        context: (context: GraphQLCustomResolversContext) => {\\n            const requestTyped = (context as any).req as IUserRequest;\\n            const newContext: GraphQLCustomContext = {\\n                loaders: new DataLoaders(requestTyped)\\n            };\\n            return newContext;\\n        },\\n        playground: {\\n            settings: {\\n                \\\"general.betaUpdates\\\": false,\\n                \\\"editor.theme\\\": \\\"dark\\\",\\n                \\\"editor.reuseHeaders\\\": true,\\n                \\\"tracing.hideTracingResponse\\\": false,\\n                \\\"editor.fontSize\\\": 14,\\n                \\\"editor.fontFamily\\\": \\\"'Source Code Pro', 'Consolas', 'Inconsolata', 'Droid Sans Mono', 'Monaco', monospace\\\",\\n                \\\"request.credentials\\\": \\\"same-origin\\\"\\n            }\\n        }\\n});\\nplaygroundServer.applyMiddleware({ app, path: playgroundEndpoint, cors: true });\\n\")), mdx(\"p\", null, \"The second configuration is for the API. The arrangement is slightly more simple. The reason is that the middleware needs to disable the playground and nothing else.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"app.use(apiEndpoint, authorizeUserMiddleware);\\nconst apiServer = new ApolloServer({\\n    schema: schemas,\\n    context: (context: GraphQLCustomResolversContext) => {\\n        const requestTyped = (context as any).req as IUserRequest;\\n        const newContext: GraphQLCustomContext = {\\n            loaders: new DataLoaders(requestTyped)\\n        };\\n        return newContext;\\n    },\\n    playground: false,\\n    introspection: false\\n});\\napiServer.applyMiddleware({ app, path: apiEndpoint, cors: true });\\n\")), mdx(\"p\", null, \"In both cases, I set a custom \\\"authorizeUserMiddleware\\\" that read the user credential and figure out what the user can do or not. The important parameters to disable are the playground, the introspection\"), mdx(\"p\", null, \"The code that is hooking Apollo middleware into Express server next were you define the Express variable. From there, you need to start the server and both URLs will be served.\"), mdx(\"h2\", null, \"Related GraphQL Post\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"getting-started-with-graphql-for-netflix-open-connect\"\n  }, \"Getting Started with GraphQL for Netflix Open Connect\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"install-apollo-server-to-host-a-graphql-service\"\n  }, \"Install Apollo Server to host a GraphQL service\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"apollo-server-and-secured-playground\"\n  }, \"Apollo Server and Secured Playground\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"graphql-context\"\n  }, \"GraphQL Context\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"graphql-query-with-argument\"\n  }, \"GraphQL Query with Argument\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"apollo-graphql-resolvers-and-data-source-separation\"\n  }, \"Apollo GraphQL Resolvers and Data Source separation\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"how-to-setup-a-typescript-nodejs-express-apollo-server-to-easy-debugging-with-vscode\"\n  }, \"How to setup a TypeScript, NodeJS, Express Apollo Server to easy debugging with VsCode\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"graphql-resolvers-with-apollo\"\n  }, \"GraphQL Resolvers with Apollo\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"configuring-apollo-playground-and-api-on-two-different-url\"\n  }, \"Configuring Apollo Playground and API on two different URL\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"how-to-automatically-generate-typescript-for-consumer-of-your-graphql\"\n  }, \"How to automatically generate TypeScript for consumers of your GraphQL\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"graphql-extension-to-collect-http-and-resolvers-telemetry\"\n  }, \"GraphQL and HTTP Telemetry\"), \"  \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"how-to-consume-graphql-in-typescript-and-react\"\n  }, \"GraphQL and TypeScript/React\"))));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"Configuring Apollo Playground and API on two different URL\",\n  \"date\": \"2019-03-13\",\n  \"categories\": [\"graphql\"]\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`By default, Apollo GraphQL middleware install the server in Express under the same URL. If you use the URL in the browser (GET), the playground loads. If you use the URL as a POST the data is returned. The website and the API are both using the same URL. It is problematic if you want the playground to use a particular authentication system (e.g., web-based) and the API to use an other (e.g., token approach). In this article, I will present a simple way to have the web playground and the API over two different URLs.`}</p>\n    <p>{`The idea is to start two Apollo middleware and route them with different options. The playground can be even simpler that what I am presenting. I am adding a few playground settings. Because I am using TypeScript, all the fields are marked to be required, hence I am explicitly specifying the value for each. The \"request.credentials\" is required with the authentication mechanism under which I am developer the GraphQL.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`app.use(playgroundEndpoint, authorizeUserMiddleware);\nconst playgroundServer = new ApolloServer({\n schema: schemas,\n        engine: true,\n        context: (context: GraphQLCustomResolversContext) => {\n            const requestTyped = (context as any).req as IUserRequest;\n            const newContext: GraphQLCustomContext = {\n                loaders: new DataLoaders(requestTyped)\n            };\n            return newContext;\n        },\n        playground: {\n            settings: {\n                \"general.betaUpdates\": false,\n                \"editor.theme\": \"dark\",\n                \"editor.reuseHeaders\": true,\n                \"tracing.hideTracingResponse\": false,\n                \"editor.fontSize\": 14,\n                \"editor.fontFamily\": \"'Source Code Pro', 'Consolas', 'Inconsolata', 'Droid Sans Mono', 'Monaco', monospace\",\n                \"request.credentials\": \"same-origin\"\n            }\n        }\n});\nplaygroundServer.applyMiddleware({ app, path: playgroundEndpoint, cors: true });\n`}</code></pre>\n    <p>{`The second configuration is for the API. The arrangement is slightly more simple. The reason is that the middleware needs to disable the playground and nothing else.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`app.use(apiEndpoint, authorizeUserMiddleware);\nconst apiServer = new ApolloServer({\n    schema: schemas,\n    context: (context: GraphQLCustomResolversContext) => {\n        const requestTyped = (context as any).req as IUserRequest;\n        const newContext: GraphQLCustomContext = {\n            loaders: new DataLoaders(requestTyped)\n        };\n        return newContext;\n    },\n    playground: false,\n    introspection: false\n});\napiServer.applyMiddleware({ app, path: apiEndpoint, cors: true });\n`}</code></pre>\n    <p>{`In both cases, I set a custom \"authorizeUserMiddleware\" that read the user credential and figure out what the user can do or not. The important parameters to disable are the playground, the introspection`}</p>\n    <p>{`The code that is hooking Apollo middleware into Express server next were you define the Express variable. From there, you need to start the server and both URLs will be served.`}</p>\n    <h2>{`Related GraphQL Post`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"getting-started-with-graphql-for-netflix-open-connect\"\n        }}>{`Getting Started with GraphQL for Netflix Open Connect`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"install-apollo-server-to-host-a-graphql-service\"\n        }}>{`Install Apollo Server to host a GraphQL service`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"apollo-server-and-secured-playground\"\n        }}>{`Apollo Server and Secured Playground`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"graphql-context\"\n        }}>{`GraphQL Context`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"graphql-query-with-argument\"\n        }}>{`GraphQL Query with Argument`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"apollo-graphql-resolvers-and-data-source-separation\"\n        }}>{`Apollo GraphQL Resolvers and Data Source separation`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"how-to-setup-a-typescript-nodejs-express-apollo-server-to-easy-debugging-with-vscode\"\n        }}>{`How to setup a TypeScript, NodeJS, Express Apollo Server to easy debugging with VsCode`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"graphql-resolvers-with-apollo\"\n        }}>{`GraphQL Resolvers with Apollo`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"configuring-apollo-playground-and-api-on-two-different-url\"\n        }}>{`Configuring Apollo Playground and API on two different URL`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"how-to-automatically-generate-typescript-for-consumer-of-your-graphql\"\n        }}>{`How to automatically generate TypeScript for consumers of your GraphQL`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"graphql-extension-to-collect-http-and-resolvers-telemetry\"\n        }}>{`GraphQL and HTTP Telemetry`}</a>{`  `}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"how-to-consume-graphql-in-typescript-and-react\"\n        }}>{`GraphQL and TypeScript/React`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}
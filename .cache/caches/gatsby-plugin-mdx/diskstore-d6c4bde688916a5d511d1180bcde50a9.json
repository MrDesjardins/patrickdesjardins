{"expireTime":9007200886478393000,"key":"gatsby-plugin-mdx-entire-payload-662a11257ec1c4f1ca43beddb5fb2e68--undefined","val":{"mdast":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"I am using since few months in most of my project the ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":55,"offset":55},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"SimpleMembershipProvider","position":{"start":{"line":2,"column":57,"offset":57},"end":{"line":2,"column":81,"offset":81},"indent":[]}}],"position":{"start":{"line":2,"column":55,"offset":55},"end":{"line":2,"column":83,"offset":83},"indent":[]}},{"type":"text","value":" instead of the old ","position":{"start":{"line":2,"column":83,"offset":83},"end":{"line":2,"column":103,"offset":103},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"SqlMembershipProvider","position":{"start":{"line":2,"column":105,"offset":105},"end":{"line":2,"column":126,"offset":126},"indent":[]}}],"position":{"start":{"line":2,"column":103,"offset":103},"end":{"line":2,"column":128,"offset":128},"indent":[]}},{"type":"text","value":". SqlMembershipProvider is there for over 10 years and since Asp.Net MVC4, a new mechanism is available. This new provider comes by default with new Asp.Net MVC project and use the reference : WebMatrix.WebData.","position":{"start":{"line":2,"column":128,"offset":128},"end":{"line":2,"column":339,"offset":339},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":339,"offset":339},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The main goal of this new library is to simplify the use of user-password application. It also gives the possibility to extend more how to store the information. Sql Server is still behind but you can now use easily Azure storage if desired. It also simplify by a lot the number of tables and views requires in the past by SqlMembershipProvider. Now, the tables are limited to only few and you can customize their schema, the name of the tables and also fields names.","position":{"start":{"line":4,"column":1,"offset":341},"end":{"line":4,"column":468,"offset":808},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":341},"end":{"line":4,"column":468,"offset":808},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"images/sqlSimpleProviderTables.png","alt":null,"position":{"start":{"line":6,"column":1,"offset":810},"end":{"line":6,"column":40,"offset":849},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":810},"end":{"line":6,"column":40,"offset":849},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As you can see in the image above, you can add a Language field. This require only to add a property and let Entity Framework handle the rest. ","position":{"start":{"line":8,"column":1,"offset":851},"end":{"line":8,"column":144,"offset":994},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":851},"end":{"line":8,"column":144,"offset":994},"indent":[]}},{"type":"code","lang":"csharp","meta":null,"value":" [Table(\"UserProfile\")] public class UserProfile : ICurrentUser { public UserProfile() { this.UserName = \"Anonymous\"; this.Language = \"en-US\"; }\n\n[Key] [DatabaseGenerated(DatabaseGeneratedOption.Identity)] public int UserId { get; set; }\n\npublic string UserName { get; set; }\n\npublic string Email { get; set; }\n\npublic string Language { get; set; } } ","position":{"start":{"line":9,"column":1,"offset":995},"end":{"line":19,"column":4,"offset":1360},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you are using Entity Framework with the migration tool, you just need to add in your seed method a one liner.","position":{"start":{"line":21,"column":1,"offset":1362},"end":{"line":21,"column":113,"offset":1474},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1362},"end":{"line":21,"column":113,"offset":1474},"indent":[]}},{"type":"code","lang":"csharp","meta":null,"value":" WebSecurity.InitializeDatabaseConnection( \"DefaultConnection\", \"UserProfile\", \"UserId\", \"UserName\", autoCreateTables: true); ","position":{"start":{"line":24,"column":1,"offset":1477},"end":{"line":26,"column":4,"offset":1617},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The first parameter is the Entity Framework connection string to your database, the second is the table name for the user then the column id for the user following by the name that is required when we logon.","position":{"start":{"line":28,"column":1,"offset":1619},"end":{"line":28,"column":208,"offset":1826},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1619},"end":{"line":28,"column":208,"offset":1826},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you need to have default role and user in your seed you can add them by using the Api.","position":{"start":{"line":30,"column":1,"offset":1828},"end":{"line":30,"column":90,"offset":1917},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1828},"end":{"line":30,"column":90,"offset":1917},"indent":[]}},{"type":"code","lang":"csharp","meta":null,"value":" protected override void Seed(DatabaseContext context) { base.Seed(context);\n\nWebSecurity.InitializeDatabaseConnection( \"DefaultConnection\", \"UserProfile\", \"UserId\", \"UserName\", autoCreateTables: true);\n\nif (!Roles.RoleExists(Model.Roles.ADMINISTRATOR)) Roles.CreateRole(Model.Roles.ADMINISTRATOR);\n\nif (!Roles.RoleExists(Model.Roles.NORMAL)) Roles.CreateRole(Model.Roles.NORMAL);\n\nif (!WebSecurity.UserExists(\"123123\")) WebSecurity.CreateUserAndAccount(\"123123\", \"123123\", new { Email=\"123123@123.com\", Language=\"fr-CA\"}); if (!WebSecurity.UserExists(\"qweqwe\")) WebSecurity.CreateUserAndAccount(\"qweqwe\", \"qweqwe\", new { Email = \"qweqwe@qwe.com\", Language = \"en-US\" });\n\nif (!((IList<string>)Roles.GetRolesForUser(\"123123\")).Contains(Model.Roles.ADMINISTRATOR)) Roles.AddUsersToRoles(new[] { \"123123\", \"qweqwe\" }, new[] { Model.Roles.ADMINISTRATOR }); if (!((IList<string>)Roles.GetRolesForUser(\"qweqwe\")).Contains(Model.Roles.NORMAL)) Roles.AddUsersToRoles(new[] { \"qweqwe\" }, new[] { Model.Roles.NORMAL }); } ","position":{"start":{"line":33,"column":1,"offset":1920},"end":{"line":45,"column":4,"offset":2946},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"I suggest you to read further on ","position":{"start":{"line":47,"column":1,"offset":2948},"end":{"line":47,"column":34,"offset":2981},"indent":[]}},{"type":"link","title":null,"url":"http://weblogs.asp.net/jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4-5-web-forms-and-asp-net-mvc-4-templates.aspx","children":[{"type":"text","value":"Jon Galloway blog article","position":{"start":{"line":47,"column":35,"offset":2982},"end":{"line":47,"column":60,"offset":3007},"indent":[]}}],"position":{"start":{"line":47,"column":34,"offset":2981},"end":{"line":47,"column":239,"offset":3186},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":47,"column":239,"offset":3186},"end":{"line":47,"column":240,"offset":3187},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":2948},"end":{"line":47,"column":240,"offset":3187},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"SimpleMembershipProvider or SqlMembershipProvider\",\"date\":\"2013-09-06\",\"categories\":[\"ado-net\",\"asp-mvc\"]}","position":{"start":{"line":50,"column":1,"offset":3190},"end":{"line":50,"column":145,"offset":3334},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":50,"column":145,"offset":3334}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"SimpleMembershipProvider or SqlMembershipProvider\",\n  \"date\": \"2013-09-06\",\n  \"categories\": [\"ado-net\", \"asp-mvc\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"I am using since few months in most of my project the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"SimpleMembershipProvider\"), \" instead of the old \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"SqlMembershipProvider\"), \". SqlMembershipProvider is there for over 10 years and since Asp.Net MVC4, a new mechanism is available. This new provider comes by default with new Asp.Net MVC project and use the reference : WebMatrix.WebData.\"), mdx(\"p\", null, \"The main goal of this new library is to simplify the use of user-password application. It also gives the possibility to extend more how to store the information. Sql Server is still behind but you can now use easily Azure storage if desired. It also simplify by a lot the number of tables and views requires in the past by SqlMembershipProvider. Now, the tables are limited to only few and you can customize their schema, the name of the tables and also fields names.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"288px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/ef946169f87ab495a489a3c8c62e70c5/477c9/sqlSimpleProviderTables.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"94.44444444444444%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADIElEQVQ4y42TaU8bZxDH+WApTZu3/SCRmpKkasohhCIaQ9oqIqXQEFpCkyZEag0lyuVQr1mQW5skxgYvezxr7/Xs7fXuehfjY69qbVRok1QZjTQvRr9nZv4zz4AfBEa9LqjuwwyYWM5+/SA/uYxeX9kZnks9yXFRFAVhGL3DBsKeuYftmoypTBZKGsuwbJVrHjXj/LvJGO6HTsc7tGVbxQ2hADmeoauKKCmyYjdc13Fsy3YdR1e1btd7C9w33/cUSGmKuL9XInGCBoDnObZaBSRZoQFxcOC6rud1Dl03DIL/wGG74+fLdUVSWQYCwPG8oio1QVAhVDkGCrxM06wk6jhG91s4hsPebN1ul2AYEZIktgN5AopEBRQB8ZpjMYrcNS2BLO80HCOK/DD8V+UY7nTVV/gnhn6OIs7QYLBSGeS5syzzYbUySIMzNPhAhB9LwkccdzYMhRO43fHaTdM1MaoyrusThj6lqdOalrCtKdOYsu1ps54wjYRtX7fNhGkmosg4XlUURabdlNiXPPacqcpQNHw/8rrh/64pOoEtp6UJRQVsKorK0CSB4xRJtlrN3o34b/o/cBxsp1WTyyqTlWUF38c4Dnp+EEXvWbnR0oQCxDd4FhYKu6KkxBoG8Wm+6afgns6Oe2RrZZNB+SoDCFyCQl//96kcKkZrO59fWV//JYX9/Pj1vWelVEFGSlq6pCJ7NWRPR/Z09MDKYFaOanj+8bsDQRBoulEzj+79QZ6/iYzdyV24mbo4u3FpDrk8l/ls5vmFmdTQ98jQdxuTv9LX1oT5F1K7G/S/TAwbdVNQnQdpavjH7Fcru6OLW2OLW+NL2av3X00s/zm6gI78gIwtoiO3t67cytxIlnpsPFUM1+qWZh49zFBXFtCrd3Nf3kqP3N4c+2l7/E52eAGZThI3HrHfrle/WQPTSbCQYjteeAquGYLiLj3Dz8+kR5ZefjrzYmg2fWl+8/P57YuzmS8Wc6N3i+P3scQaN5nk51Li6bZD02zUrGYOg6so9vQvMpku/pYurm7uP8lSv29hq0gxmS6uoWUUq6OYlQcngv0Npa/hqT7HIOUAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"sqlSimpleProviderTables\",\n    \"title\": \"sqlSimpleProviderTables\",\n    \"src\": \"/static/ef946169f87ab495a489a3c8c62e70c5/477c9/sqlSimpleProviderTables.png\",\n    \"srcSet\": [\"/static/ef946169f87ab495a489a3c8c62e70c5/477c9/sqlSimpleProviderTables.png 288w\"],\n    \"sizes\": \"(max-width: 288px) 100vw, 288px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"As you can see in the image above, you can add a Language field. This require only to add a property and let Entity Framework handle the rest. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \" [Table(\\\"UserProfile\\\")] public class UserProfile : ICurrentUser { public UserProfile() { this.UserName = \\\"Anonymous\\\"; this.Language = \\\"en-US\\\"; }\\n\\n[Key] [DatabaseGenerated(DatabaseGeneratedOption.Identity)] public int UserId { get; set; }\\n\\npublic string UserName { get; set; }\\n\\npublic string Email { get; set; }\\n\\npublic string Language { get; set; } } \\n\")), mdx(\"p\", null, \"If you are using Entity Framework with the migration tool, you just need to add in your seed method a one liner.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \" WebSecurity.InitializeDatabaseConnection( \\\"DefaultConnection\\\", \\\"UserProfile\\\", \\\"UserId\\\", \\\"UserName\\\", autoCreateTables: true); \\n\")), mdx(\"p\", null, \"The first parameter is the Entity Framework connection string to your database, the second is the table name for the user then the column id for the user following by the name that is required when we logon.\"), mdx(\"p\", null, \"If you need to have default role and user in your seed you can add them by using the Api.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \" protected override void Seed(DatabaseContext context) { base.Seed(context);\\n\\nWebSecurity.InitializeDatabaseConnection( \\\"DefaultConnection\\\", \\\"UserProfile\\\", \\\"UserId\\\", \\\"UserName\\\", autoCreateTables: true);\\n\\nif (!Roles.RoleExists(Model.Roles.ADMINISTRATOR)) Roles.CreateRole(Model.Roles.ADMINISTRATOR);\\n\\nif (!Roles.RoleExists(Model.Roles.NORMAL)) Roles.CreateRole(Model.Roles.NORMAL);\\n\\nif (!WebSecurity.UserExists(\\\"123123\\\")) WebSecurity.CreateUserAndAccount(\\\"123123\\\", \\\"123123\\\", new { Email=\\\"123123@123.com\\\", Language=\\\"fr-CA\\\"}); if (!WebSecurity.UserExists(\\\"qweqwe\\\")) WebSecurity.CreateUserAndAccount(\\\"qweqwe\\\", \\\"qweqwe\\\", new { Email = \\\"qweqwe@qwe.com\\\", Language = \\\"en-US\\\" });\\n\\nif (!((IList<string>)Roles.GetRolesForUser(\\\"123123\\\")).Contains(Model.Roles.ADMINISTRATOR)) Roles.AddUsersToRoles(new[] { \\\"123123\\\", \\\"qweqwe\\\" }, new[] { Model.Roles.ADMINISTRATOR }); if (!((IList<string>)Roles.GetRolesForUser(\\\"qweqwe\\\")).Contains(Model.Roles.NORMAL)) Roles.AddUsersToRoles(new[] { \\\"qweqwe\\\" }, new[] { Model.Roles.NORMAL }); } \\n\")), mdx(\"p\", null, \"I suggest you to read further on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://weblogs.asp.net/jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4-5-web-forms-and-asp-net-mvc-4-templates.aspx\"\n  }, \"Jon Galloway blog article\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"SimpleMembershipProvider or SqlMembershipProvider\",\n  \"date\": \"2013-09-06\",\n  \"categories\": [\"ado-net\", \"asp-mvc\"]\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`I am using since few months in most of my project the `}<strong parentName=\"p\">{`SimpleMembershipProvider`}</strong>{` instead of the old `}<strong parentName=\"p\">{`SqlMembershipProvider`}</strong>{`. SqlMembershipProvider is there for over 10 years and since Asp.Net MVC4, a new mechanism is available. This new provider comes by default with new Asp.Net MVC project and use the reference : WebMatrix.WebData.`}</p>\n    <p>{`The main goal of this new library is to simplify the use of user-password application. It also gives the possibility to extend more how to store the information. Sql Server is still behind but you can now use easily Azure storage if desired. It also simplify by a lot the number of tables and views requires in the past by SqlMembershipProvider. Now, the tables are limited to only few and you can customize their schema, the name of the tables and also fields names.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"288px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/ef946169f87ab495a489a3c8c62e70c5/477c9/sqlSimpleProviderTables.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"94.44444444444444%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADIElEQVQ4y42TaU8bZxDH+WApTZu3/SCRmpKkasohhCIaQ9oqIqXQEFpCkyZEag0lyuVQr1mQW5skxgYvezxr7/Xs7fXuehfjY69qbVRok1QZjTQvRr9nZv4zz4AfBEa9LqjuwwyYWM5+/SA/uYxeX9kZnks9yXFRFAVhGL3DBsKeuYftmoypTBZKGsuwbJVrHjXj/LvJGO6HTsc7tGVbxQ2hADmeoauKKCmyYjdc13Fsy3YdR1e1btd7C9w33/cUSGmKuL9XInGCBoDnObZaBSRZoQFxcOC6rud1Dl03DIL/wGG74+fLdUVSWQYCwPG8oio1QVAhVDkGCrxM06wk6jhG91s4hsPebN1ul2AYEZIktgN5AopEBRQB8ZpjMYrcNS2BLO80HCOK/DD8V+UY7nTVV/gnhn6OIs7QYLBSGeS5syzzYbUySIMzNPhAhB9LwkccdzYMhRO43fHaTdM1MaoyrusThj6lqdOalrCtKdOYsu1ps54wjYRtX7fNhGkmosg4XlUURabdlNiXPPacqcpQNHw/8rrh/64pOoEtp6UJRQVsKorK0CSB4xRJtlrN3o34b/o/cBxsp1WTyyqTlWUF38c4Dnp+EEXvWbnR0oQCxDd4FhYKu6KkxBoG8Wm+6afgns6Oe2RrZZNB+SoDCFyCQl//96kcKkZrO59fWV//JYX9/Pj1vWelVEFGSlq6pCJ7NWRPR/Z09MDKYFaOanj+8bsDQRBoulEzj+79QZ6/iYzdyV24mbo4u3FpDrk8l/ls5vmFmdTQ98jQdxuTv9LX1oT5F1K7G/S/TAwbdVNQnQdpavjH7Fcru6OLW2OLW+NL2av3X00s/zm6gI78gIwtoiO3t67cytxIlnpsPFUM1+qWZh49zFBXFtCrd3Nf3kqP3N4c+2l7/E52eAGZThI3HrHfrle/WQPTSbCQYjteeAquGYLiLj3Dz8+kR5ZefjrzYmg2fWl+8/P57YuzmS8Wc6N3i+P3scQaN5nk51Li6bZD02zUrGYOg6so9vQvMpku/pYurm7uP8lSv29hq0gxmS6uoWUUq6OYlQcngv0Npa/hqT7HIOUAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"sqlSimpleProviderTables\",\n            \"title\": \"sqlSimpleProviderTables\",\n            \"src\": \"/static/ef946169f87ab495a489a3c8c62e70c5/477c9/sqlSimpleProviderTables.png\",\n            \"srcSet\": [\"/static/ef946169f87ab495a489a3c8c62e70c5/477c9/sqlSimpleProviderTables.png 288w\"],\n            \"sizes\": \"(max-width: 288px) 100vw, 288px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <p>{`As you can see in the image above, you can add a Language field. This require only to add a property and let Entity Framework handle the rest. `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-csharp\"\n      }}>{` [Table(\"UserProfile\")] public class UserProfile : ICurrentUser { public UserProfile() { this.UserName = \"Anonymous\"; this.Language = \"en-US\"; }\n\n[Key] [DatabaseGenerated(DatabaseGeneratedOption.Identity)] public int UserId { get; set; }\n\npublic string UserName { get; set; }\n\npublic string Email { get; set; }\n\npublic string Language { get; set; } } \n`}</code></pre>\n    <p>{`If you are using Entity Framework with the migration tool, you just need to add in your seed method a one liner.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-csharp\"\n      }}>{` WebSecurity.InitializeDatabaseConnection( \"DefaultConnection\", \"UserProfile\", \"UserId\", \"UserName\", autoCreateTables: true); \n`}</code></pre>\n    <p>{`The first parameter is the Entity Framework connection string to your database, the second is the table name for the user then the column id for the user following by the name that is required when we logon.`}</p>\n    <p>{`If you need to have default role and user in your seed you can add them by using the Api.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-csharp\"\n      }}>{` protected override void Seed(DatabaseContext context) { base.Seed(context);\n\nWebSecurity.InitializeDatabaseConnection( \"DefaultConnection\", \"UserProfile\", \"UserId\", \"UserName\", autoCreateTables: true);\n\nif (!Roles.RoleExists(Model.Roles.ADMINISTRATOR)) Roles.CreateRole(Model.Roles.ADMINISTRATOR);\n\nif (!Roles.RoleExists(Model.Roles.NORMAL)) Roles.CreateRole(Model.Roles.NORMAL);\n\nif (!WebSecurity.UserExists(\"123123\")) WebSecurity.CreateUserAndAccount(\"123123\", \"123123\", new { Email=\"123123@123.com\", Language=\"fr-CA\"}); if (!WebSecurity.UserExists(\"qweqwe\")) WebSecurity.CreateUserAndAccount(\"qweqwe\", \"qweqwe\", new { Email = \"qweqwe@qwe.com\", Language = \"en-US\" });\n\nif (!((IList<string>)Roles.GetRolesForUser(\"123123\")).Contains(Model.Roles.ADMINISTRATOR)) Roles.AddUsersToRoles(new[] { \"123123\", \"qweqwe\" }, new[] { Model.Roles.ADMINISTRATOR }); if (!((IList<string>)Roles.GetRolesForUser(\"qweqwe\")).Contains(Model.Roles.NORMAL)) Roles.AddUsersToRoles(new[] { \"qweqwe\" }, new[] { Model.Roles.NORMAL }); } \n`}</code></pre>\n    <p>{`I suggest you to read further on `}<a parentName=\"p\" {...{\n        \"href\": \"http://weblogs.asp.net/jgalloway/archive/2012/08/29/simplemembership-membership-providers-universal-providers-and-the-new-asp-net-4-5-web-forms-and-asp-net-mvc-4-templates.aspx\"\n      }}>{`Jon Galloway blog article`}</a>{`.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}
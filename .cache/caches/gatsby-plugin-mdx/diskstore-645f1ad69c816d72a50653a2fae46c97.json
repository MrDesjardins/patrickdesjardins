{"expireTime":9007200886478377000,"key":"gatsby-plugin-mdx-entire-payload-2c09c06799a64e0459b13a1e8c39084d--undefined","val":{"mdast":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"In the ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":8,"offset":8},"indent":[]}},{"type":"link","title":null,"url":"https://patrickdesjardins.com/blog/?p=6156","children":[{"type":"text","value":"last article of the series on how to create a GraphQL server with TypeScript and Apollo","position":{"start":{"line":2,"column":9,"offset":9},"end":{"line":2,"column":96,"offset":96},"indent":[]}}],"position":{"start":{"line":2,"column":8,"offset":8},"end":{"line":2,"column":141,"offset":141},"indent":[]}},{"type":"text","value":" I demonstrate how easy is to setup the playground. However, there is still a piece that is missing and is authentication. ","position":{"start":{"line":2,"column":141,"offset":141},"end":{"line":2,"column":264,"offset":264},"indent":[]}},{"type":"link","title":null,"url":"https://patrickdesjardins.com/blog/?p=6143","children":[{"type":"text","value":"In","position":{"start":{"line":2,"column":265,"offset":265},"end":{"line":2,"column":267,"offset":267},"indent":[]}}],"position":{"start":{"line":2,"column":264,"offset":264},"end":{"line":2,"column":312,"offset":312},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":2,"column":312,"offset":312},"end":{"line":2,"column":313,"offset":313},"indent":[]}},{"type":"link","title":null,"url":"https://patrickdesjardins.com/blog/?p=6143","children":[{"type":"text","value":"first","position":{"start":{"line":2,"column":314,"offset":314},"end":{"line":2,"column":319,"offset":319},"indent":[]}}],"position":{"start":{"line":2,"column":313,"offset":313},"end":{"line":2,"column":364,"offset":364},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":2,"column":364,"offset":364},"end":{"line":2,"column":365,"offset":365},"indent":[]}},{"type":"link","title":null,"url":"https://patrickdesjardins.com/blog/?p=6143","children":[{"type":"text","value":"post","position":{"start":{"line":2,"column":366,"offset":366},"end":{"line":2,"column":370,"offset":370},"indent":[]}}],"position":{"start":{"line":2,"column":365,"offset":365},"end":{"line":2,"column":415,"offset":415},"indent":[]}},{"type":"text","value":", I explicitly mentioned that every request goes first through Apache that has a special module that handles authentication. Apache will set in the HTTP request some headers with authorization information like a bearer token. At the moment, the playground receives the header but not for any subsequent calls it performs. It leads to HTTP requests that are not authenticated. In my particular case, the request was performing a HTTP 302 trying to redirect to the web portal to get authenticated. Great! The security kick-in! However, how can we force subsequent code to have the header in the playground was the question.","position":{"start":{"line":2,"column":415,"offset":415},"end":{"line":2,"column":1036,"offset":1036},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":1036,"offset":1036},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Fortunately, the ","position":{"start":{"line":4,"column":1,"offset":1038},"end":{"line":4,"column":18,"offset":1055},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"ApolloServerConfig","position":{"start":{"line":4,"column":19,"offset":1056},"end":{"line":4,"column":37,"offset":1074},"indent":[]}}],"position":{"start":{"line":4,"column":18,"offset":1055},"end":{"line":4,"column":38,"offset":1075},"indent":[]}},{"type":"text","value":" has the property playground that can be something else than a boolean. It can be a ","position":{"start":{"line":4,"column":38,"offset":1075},"end":{"line":4,"column":122,"offset":1159},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"ISettings","position":{"start":{"line":4,"column":123,"offset":1160},"end":{"line":4,"column":132,"offset":1169},"indent":[]}}],"position":{"start":{"line":4,"column":122,"offset":1159},"end":{"line":4,"column":133,"offset":1170},"indent":[]}},{"type":"text","value":". The interface has a \"request.credentials\" and by default \"omit\". Changing the default to \"same-origin\" will carry the missing headers.","position":{"start":{"line":4,"column":133,"offset":1170},"end":{"line":4,"column":269,"offset":1306},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":1038},"end":{"line":4,"column":269,"offset":1306},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"playground: {\n    settings: {\n        \"general.betaUpdates\": false,\n        \"editor.theme\": \"dark\",\n        \"editor.reuseHeaders\": true,\n        \"tracing.hideTracingResponse\": false,\n        \"editor.fontSize\": 14,\n        \"editor.fontFamily\": \"'Source Code Pro', 'Consolas', 'Inconsolata', 'Droid Sans Mono', 'Monaco', monospace\",\n        \"request.credentials\": \"same-origin\"\n    }\n}","position":{"start":{"line":6,"column":1,"offset":1308},"end":{"line":18,"column":4,"offset":1699},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":" I had to specify additional configuration because the TypeScript definition type has all the field required, so I copy pasted the default value I found under the gear icon in the playground.","position":{"start":{"line":20,"column":1,"offset":1701},"end":{"line":20,"column":192,"offset":1892},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1701},"end":{"line":20,"column":192,"offset":1892},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"images/GraphQLPlaygroundSettingsGear.png","alt":null,"position":{"start":{"line":22,"column":1,"offset":1894},"end":{"line":22,"column":46,"offset":1939},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1894},"end":{"line":22,"column":46,"offset":1939},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Summary","position":{"start":{"line":24,"column":4,"offset":1944},"end":{"line":24,"column":11,"offset":1951},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1941},"end":{"line":24,"column":11,"offset":1951},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In this article we configured subsequent calls to keep the authentication set in the former request that brought the playground in the browser. In the next article we will see how to read the content of the header to know which user is authenticated. The next step is crucial to have a user experience secured and tailored to the active user.","position":{"start":{"line":26,"column":1,"offset":1953},"end":{"line":26,"column":343,"offset":2295},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1953},"end":{"line":26,"column":343,"offset":2295},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"My Other GraphQL Articles","position":{"start":{"line":28,"column":4,"offset":2300},"end":{"line":28,"column":29,"offset":2325},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":2297},"end":{"line":28,"column":29,"offset":2325},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"getting-started-with-graphql-for-netflix-open-connect","children":[{"type":"text","value":"Getting Started with GraphQL for Netflix Open Connect","position":{"start":{"line":30,"column":4,"offset":2330},"end":{"line":30,"column":57,"offset":2383},"indent":[]}}],"position":{"start":{"line":30,"column":3,"offset":2329},"end":{"line":30,"column":113,"offset":2439},"indent":[]}}],"position":{"start":{"line":30,"column":3,"offset":2329},"end":{"line":30,"column":113,"offset":2439},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":2327},"end":{"line":30,"column":113,"offset":2439},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"install-apollo-server-to-host-a-graphql-service","children":[{"type":"text","value":"Install Apollo Server to host a GraphQL service","position":{"start":{"line":31,"column":4,"offset":2443},"end":{"line":31,"column":51,"offset":2490},"indent":[]}}],"position":{"start":{"line":31,"column":3,"offset":2442},"end":{"line":31,"column":101,"offset":2540},"indent":[]}}],"position":{"start":{"line":31,"column":3,"offset":2442},"end":{"line":31,"column":101,"offset":2540},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":2440},"end":{"line":31,"column":101,"offset":2540},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"apollo-server-and-secured-playground","children":[{"type":"text","value":"Apollo Server and Secured Playground","position":{"start":{"line":32,"column":4,"offset":2544},"end":{"line":32,"column":40,"offset":2580},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":2543},"end":{"line":32,"column":79,"offset":2619},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":2543},"end":{"line":32,"column":79,"offset":2619},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":2541},"end":{"line":32,"column":79,"offset":2619},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"graphql-context","children":[{"type":"text","value":"GraphQL Context","position":{"start":{"line":33,"column":4,"offset":2623},"end":{"line":33,"column":19,"offset":2638},"indent":[]}}],"position":{"start":{"line":33,"column":3,"offset":2622},"end":{"line":33,"column":37,"offset":2656},"indent":[]}}],"position":{"start":{"line":33,"column":3,"offset":2622},"end":{"line":33,"column":37,"offset":2656},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":2620},"end":{"line":33,"column":37,"offset":2656},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"graphql-query-with-argument","children":[{"type":"text","value":"GraphQL Query with Argument","position":{"start":{"line":34,"column":4,"offset":2660},"end":{"line":34,"column":31,"offset":2687},"indent":[]}}],"position":{"start":{"line":34,"column":3,"offset":2659},"end":{"line":34,"column":61,"offset":2717},"indent":[]}}],"position":{"start":{"line":34,"column":3,"offset":2659},"end":{"line":34,"column":61,"offset":2717},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":2657},"end":{"line":34,"column":61,"offset":2717},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"apollo-graphql-resolvers-and-data-source-separation","children":[{"type":"text","value":"Apollo GraphQL Resolvers and Data Source separation","position":{"start":{"line":35,"column":4,"offset":2721},"end":{"line":35,"column":55,"offset":2772},"indent":[]}}],"position":{"start":{"line":35,"column":3,"offset":2720},"end":{"line":35,"column":109,"offset":2826},"indent":[]}}],"position":{"start":{"line":35,"column":3,"offset":2720},"end":{"line":35,"column":109,"offset":2826},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":2718},"end":{"line":35,"column":109,"offset":2826},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"how-to-setup-a-typescript-nodejs-express-apollo-server-to-easy-debugging-with-vscode","children":[{"type":"text","value":"How to setup a TypeScript, NodeJS, Express Apollo Server to easy debugging with VsCode","position":{"start":{"line":36,"column":4,"offset":2830},"end":{"line":36,"column":90,"offset":2916},"indent":[]}}],"position":{"start":{"line":36,"column":3,"offset":2829},"end":{"line":36,"column":177,"offset":3003},"indent":[]}}],"position":{"start":{"line":36,"column":3,"offset":2829},"end":{"line":36,"column":177,"offset":3003},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":2827},"end":{"line":36,"column":177,"offset":3003},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"graphql-resolvers-with-apollo","children":[{"type":"text","value":"GraphQL Resolvers with Apollo","position":{"start":{"line":37,"column":4,"offset":3007},"end":{"line":37,"column":33,"offset":3036},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":3006},"end":{"line":37,"column":65,"offset":3068},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":3006},"end":{"line":37,"column":65,"offset":3068},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":3004},"end":{"line":37,"column":65,"offset":3068},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"configuring-apollo-playground-and-api-on-two-different-url","children":[{"type":"text","value":"Configuring Apollo Playground and API on two different URL","position":{"start":{"line":38,"column":4,"offset":3072},"end":{"line":38,"column":62,"offset":3130},"indent":[]}}],"position":{"start":{"line":38,"column":3,"offset":3071},"end":{"line":38,"column":123,"offset":3191},"indent":[]}}],"position":{"start":{"line":38,"column":3,"offset":3071},"end":{"line":38,"column":123,"offset":3191},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":3069},"end":{"line":38,"column":123,"offset":3191},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"how-to-automatically-generate-typescript-for-consumer-of-your-graphql","children":[{"type":"text","value":"How to automatically generate TypeScript for consumers of your GraphQL","position":{"start":{"line":39,"column":4,"offset":3195},"end":{"line":39,"column":74,"offset":3265},"indent":[]}}],"position":{"start":{"line":39,"column":3,"offset":3194},"end":{"line":39,"column":146,"offset":3337},"indent":[]}}],"position":{"start":{"line":39,"column":3,"offset":3194},"end":{"line":39,"column":146,"offset":3337},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":3192},"end":{"line":39,"column":146,"offset":3337},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"graphql-extension-to-collect-http-and-resolvers-telemetry","children":[{"type":"text","value":"GraphQL and HTTP Telemetry","position":{"start":{"line":40,"column":4,"offset":3341},"end":{"line":40,"column":30,"offset":3367},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":3340},"end":{"line":40,"column":90,"offset":3427},"indent":[]}},{"type":"text","value":"  ","position":{"start":{"line":40,"column":90,"offset":3427},"end":{"line":40,"column":92,"offset":3429},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":3340},"end":{"line":40,"column":92,"offset":3429},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":3338},"end":{"line":40,"column":92,"offset":3429},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"how-to-consume-graphql-in-typescript-and-react","children":[{"type":"text","value":"GraphQL and TypeScript/React","position":{"start":{"line":41,"column":4,"offset":3433},"end":{"line":41,"column":32,"offset":3461},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":3432},"end":{"line":41,"column":81,"offset":3510},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":3432},"end":{"line":41,"column":81,"offset":3510},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":3430},"end":{"line":41,"column":81,"offset":3510},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":2327},"end":{"line":41,"column":81,"offset":3510},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Apollo Server and Secured Playground\",\"date\":\"2019-01-25\",\"categories\":[\"graphql\",\"typescript\"]}","position":{"start":{"line":43,"column":1,"offset":3512},"end":{"line":43,"column":135,"offset":3646},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":43,"column":135,"offset":3646}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Apollo Server and Secured Playground\",\n  \"date\": \"2019-01-25\",\n  \"categories\": [\"graphql\", \"typescript\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://patrickdesjardins.com/blog/?p=6156\"\n  }, \"last article of the series on how to create a GraphQL server with TypeScript and Apollo\"), \" I demonstrate how easy is to setup the playground. However, there is still a piece that is missing and is authentication. \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://patrickdesjardins.com/blog/?p=6143\"\n  }, \"In\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://patrickdesjardins.com/blog/?p=6143\"\n  }, \"first\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://patrickdesjardins.com/blog/?p=6143\"\n  }, \"post\"), \", I explicitly mentioned that every request\\xA0goes first through Apache that has a special module that handles authentication. Apache will set in the HTTP request some headers with authorization information like a bearer token. At the moment, the playground receives the header but not for any subsequent calls it performs. It leads to HTTP requests that are not authenticated. In my particular case, the request was performing a HTTP 302 trying to redirect to the web portal to get authenticated. Great! The security kick-in! However, how can we force subsequent code to have the header in the playground was the question.\"), mdx(\"p\", null, \"Fortunately, the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"ApolloServerConfig\"), \" has the property playground that can be something else than a boolean. It can be a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"ISettings\"), \". The interface has a \\\"request.credentials\\\" and by default \\\"omit\\\". Changing the default to \\\"same-origin\\\" will carry the missing headers.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"playground: {\\n    settings: {\\n        \\\"general.betaUpdates\\\": false,\\n        \\\"editor.theme\\\": \\\"dark\\\",\\n        \\\"editor.reuseHeaders\\\": true,\\n        \\\"tracing.hideTracingResponse\\\": false,\\n        \\\"editor.fontSize\\\": 14,\\n        \\\"editor.fontFamily\\\": \\\"'Source Code Pro', 'Consolas', 'Inconsolata', 'Droid Sans Mono', 'Monaco', monospace\\\",\\n        \\\"request.credentials\\\": \\\"same-origin\\\"\\n    }\\n}\\n\")), mdx(\"p\", null, \"\\xA0I had to specify additional configuration because the TypeScript definition type has all the field required, so I copy pasted the default value I found under the gear icon in the playground.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"928px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/cf83b542cf293f7389b2e6ff28eedf41/cc488/GraphQLPlaygroundSettingsGear.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"26%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVQY02XNP0/CUBSG8U5GYxSFlraUf0UKvbdUWijcW6UiYNCBOLgYBxNXE1fd/OyPgRg1cfjlvOcM7zHq+QO1gabUFBw6PvuV2j8HprfzN//ePPbKNZyWx4nnY7Qmd7TTOa7UeFJR6ZxjBynVIMXqJrtc9mNO24PdPG5KSs2IUlNy1IgotyVhGiOzDCfMMMyzIa6Y4oYKT2pcoahJvbPdrWDMeLHh+v4JWygcqagKjSU0rUQRqQmNYU41mlHtaQyzk9C7XBEWa/rZgv5k+UOoG+qR5vHllbf3TxwxxZ8scOMCW+b4yfZBjikusAKFv7n9LtQrwvmacLr6Z1tsdUdYQmHJHDu+wkmW2MMZVlpgjwrcrKASKLKPZ74AXBiTpQjNuzAAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"GraphQLPlaygroundSettingsGear\",\n    \"title\": \"GraphQLPlaygroundSettingsGear\",\n    \"src\": \"/static/cf83b542cf293f7389b2e6ff28eedf41/cc488/GraphQLPlaygroundSettingsGear.png\",\n    \"srcSet\": [\"/static/cf83b542cf293f7389b2e6ff28eedf41/5a46d/GraphQLPlaygroundSettingsGear.png 300w\", \"/static/cf83b542cf293f7389b2e6ff28eedf41/0a47e/GraphQLPlaygroundSettingsGear.png 600w\", \"/static/cf83b542cf293f7389b2e6ff28eedf41/cc488/GraphQLPlaygroundSettingsGear.png 928w\"],\n    \"sizes\": \"(max-width: 928px) 100vw, 928px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h2\", null, \"Summary\"), mdx(\"p\", null, \"In this article we configured subsequent calls to keep the authentication set in the former request that brought the playground in the browser. In the next article we will see how to read the content of the header to know which user is authenticated. The next step is crucial to have a user experience secured and tailored to the active user.\"), mdx(\"h2\", null, \"My Other GraphQL Articles\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"getting-started-with-graphql-for-netflix-open-connect\"\n  }, \"Getting Started with GraphQL for Netflix Open Connect\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"install-apollo-server-to-host-a-graphql-service\"\n  }, \"Install Apollo Server to host a GraphQL service\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"apollo-server-and-secured-playground\"\n  }, \"Apollo Server and Secured Playground\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"graphql-context\"\n  }, \"GraphQL Context\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"graphql-query-with-argument\"\n  }, \"GraphQL Query with Argument\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"apollo-graphql-resolvers-and-data-source-separation\"\n  }, \"Apollo GraphQL Resolvers and Data Source separation\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"how-to-setup-a-typescript-nodejs-express-apollo-server-to-easy-debugging-with-vscode\"\n  }, \"How to setup a TypeScript, NodeJS, Express Apollo Server to easy debugging with VsCode\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"graphql-resolvers-with-apollo\"\n  }, \"GraphQL Resolvers with Apollo\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"configuring-apollo-playground-and-api-on-two-different-url\"\n  }, \"Configuring Apollo Playground and API on two different URL\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"how-to-automatically-generate-typescript-for-consumer-of-your-graphql\"\n  }, \"How to automatically generate TypeScript for consumers of your GraphQL\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"graphql-extension-to-collect-http-and-resolvers-telemetry\"\n  }, \"GraphQL and HTTP Telemetry\"), \"  \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"how-to-consume-graphql-in-typescript-and-react\"\n  }, \"GraphQL and TypeScript/React\"))));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"Apollo Server and Secured Playground\",\n  \"date\": \"2019-01-25\",\n  \"categories\": [\"graphql\", \"typescript\"]\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`In the `}<a parentName=\"p\" {...{\n        \"href\": \"https://patrickdesjardins.com/blog/?p=6156\"\n      }}>{`last article of the series on how to create a GraphQL server with TypeScript and Apollo`}</a>{` I demonstrate how easy is to setup the playground. However, there is still a piece that is missing and is authentication. `}<a parentName=\"p\" {...{\n        \"href\": \"https://patrickdesjardins.com/blog/?p=6143\"\n      }}>{`In`}</a>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://patrickdesjardins.com/blog/?p=6143\"\n      }}>{`first`}</a>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://patrickdesjardins.com/blog/?p=6143\"\n      }}>{`post`}</a>{`, I explicitly mentioned that every request goes first through Apache that has a special module that handles authentication. Apache will set in the HTTP request some headers with authorization information like a bearer token. At the moment, the playground receives the header but not for any subsequent calls it performs. It leads to HTTP requests that are not authenticated. In my particular case, the request was performing a HTTP 302 trying to redirect to the web portal to get authenticated. Great! The security kick-in! However, how can we force subsequent code to have the header in the playground was the question.`}</p>\n    <p>{`Fortunately, the `}<em parentName=\"p\">{`ApolloServerConfig`}</em>{` has the property playground that can be something else than a boolean. It can be a `}<em parentName=\"p\">{`ISettings`}</em>{`. The interface has a \"request.credentials\" and by default \"omit\". Changing the default to \"same-origin\" will carry the missing headers.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`playground: {\n    settings: {\n        \"general.betaUpdates\": false,\n        \"editor.theme\": \"dark\",\n        \"editor.reuseHeaders\": true,\n        \"tracing.hideTracingResponse\": false,\n        \"editor.fontSize\": 14,\n        \"editor.fontFamily\": \"'Source Code Pro', 'Consolas', 'Inconsolata', 'Droid Sans Mono', 'Monaco', monospace\",\n        \"request.credentials\": \"same-origin\"\n    }\n}\n`}</code></pre>\n    <p>{` I had to specify additional configuration because the TypeScript definition type has all the field required, so I copy pasted the default value I found under the gear icon in the playground.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"928px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/cf83b542cf293f7389b2e6ff28eedf41/cc488/GraphQLPlaygroundSettingsGear.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"26%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVQY02XNP0/CUBSG8U5GYxSFlraUf0UKvbdUWijcW6UiYNCBOLgYBxNXE1fd/OyPgRg1cfjlvOcM7zHq+QO1gabUFBw6PvuV2j8HprfzN//ePPbKNZyWx4nnY7Qmd7TTOa7UeFJR6ZxjBynVIMXqJrtc9mNO24PdPG5KSs2IUlNy1IgotyVhGiOzDCfMMMyzIa6Y4oYKT2pcoahJvbPdrWDMeLHh+v4JWygcqagKjSU0rUQRqQmNYU41mlHtaQyzk9C7XBEWa/rZgv5k+UOoG+qR5vHllbf3TxwxxZ8scOMCW+b4yfZBjikusAKFv7n9LtQrwvmacLr6Z1tsdUdYQmHJHDu+wkmW2MMZVlpgjwrcrKASKLKPZ74AXBiTpQjNuzAAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"GraphQLPlaygroundSettingsGear\",\n            \"title\": \"GraphQLPlaygroundSettingsGear\",\n            \"src\": \"/static/cf83b542cf293f7389b2e6ff28eedf41/cc488/GraphQLPlaygroundSettingsGear.png\",\n            \"srcSet\": [\"/static/cf83b542cf293f7389b2e6ff28eedf41/5a46d/GraphQLPlaygroundSettingsGear.png 300w\", \"/static/cf83b542cf293f7389b2e6ff28eedf41/0a47e/GraphQLPlaygroundSettingsGear.png 600w\", \"/static/cf83b542cf293f7389b2e6ff28eedf41/cc488/GraphQLPlaygroundSettingsGear.png 928w\"],\n            \"sizes\": \"(max-width: 928px) 100vw, 928px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <h2>{`Summary`}</h2>\n    <p>{`In this article we configured subsequent calls to keep the authentication set in the former request that brought the playground in the browser. In the next article we will see how to read the content of the header to know which user is authenticated. The next step is crucial to have a user experience secured and tailored to the active user.`}</p>\n    <h2>{`My Other GraphQL Articles`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"getting-started-with-graphql-for-netflix-open-connect\"\n        }}>{`Getting Started with GraphQL for Netflix Open Connect`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"install-apollo-server-to-host-a-graphql-service\"\n        }}>{`Install Apollo Server to host a GraphQL service`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"apollo-server-and-secured-playground\"\n        }}>{`Apollo Server and Secured Playground`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"graphql-context\"\n        }}>{`GraphQL Context`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"graphql-query-with-argument\"\n        }}>{`GraphQL Query with Argument`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"apollo-graphql-resolvers-and-data-source-separation\"\n        }}>{`Apollo GraphQL Resolvers and Data Source separation`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"how-to-setup-a-typescript-nodejs-express-apollo-server-to-easy-debugging-with-vscode\"\n        }}>{`How to setup a TypeScript, NodeJS, Express Apollo Server to easy debugging with VsCode`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"graphql-resolvers-with-apollo\"\n        }}>{`GraphQL Resolvers with Apollo`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"configuring-apollo-playground-and-api-on-two-different-url\"\n        }}>{`Configuring Apollo Playground and API on two different URL`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"how-to-automatically-generate-typescript-for-consumer-of-your-graphql\"\n        }}>{`How to automatically generate TypeScript for consumers of your GraphQL`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"graphql-extension-to-collect-http-and-resolvers-telemetry\"\n        }}>{`GraphQL and HTTP Telemetry`}</a>{`  `}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"how-to-consume-graphql-in-typescript-and-react\"\n        }}>{`GraphQL and TypeScript/React`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}
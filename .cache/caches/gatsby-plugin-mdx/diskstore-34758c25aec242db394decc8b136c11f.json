{"expireTime":9007200886478391000,"key":"gatsby-plugin-mdx-entire-payload-848649c3143dfe31bc3110af317ac874--undefined","val":{"mdast":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"With Visual Studio 2013, you cannot simply choose \"Intranet WebSite\" to create a default website that use ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":107,"offset":107},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Active Directory","position":{"start":{"line":2,"column":109,"offset":109},"end":{"line":2,"column":125,"offset":125},"indent":[]}}],"position":{"start":{"line":2,"column":107,"offset":107},"end":{"line":2,"column":127,"offset":127},"indent":[]}},{"type":"text","value":". Nevertheless, a wizard allow you to create it. First, select create a new project and select a web application.","position":{"start":{"line":2,"column":127,"offset":127},"end":{"line":2,"column":240,"offset":240},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":240,"offset":240},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"images/CreateNewWebApplication1-400x263.png","alt":null,"position":{"start":{"line":4,"column":1,"offset":242},"end":{"line":4,"column":49,"offset":290},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":242},"end":{"line":4,"column":49,"offset":290},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Second, you need to select MVC and to click change authentication.","position":{"start":{"line":6,"column":1,"offset":292},"end":{"line":6,"column":67,"offset":358},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":292},"end":{"line":6,"column":67,"offset":358},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"images/CreateNewWebApplication2-400x282.png","alt":null,"position":{"start":{"line":8,"column":1,"offset":360},"end":{"line":8,"column":49,"offset":408},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":360},"end":{"line":8,"column":49,"offset":408},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This will result to a page where you will be able to select Organisation Authentification. Select On-Promise. This will let you specify the active directory URI.","position":{"start":{"line":10,"column":1,"offset":410},"end":{"line":10,"column":162,"offset":571},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":410},"end":{"line":10,"column":162,"offset":571},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"images/CreateNewWebApplication3-400x280.png","alt":null,"position":{"start":{"line":12,"column":1,"offset":573},"end":{"line":12,"column":49,"offset":621},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":573},"end":{"line":12,"column":49,"offset":621},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"And that's it.","position":{"start":{"line":14,"column":1,"offset":623},"end":{"line":14,"column":15,"offset":637},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":623},"end":{"line":14,"column":15,"offset":637},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can also do it more manually. It's good to know because if you have to configure IIS, you will have to do some configuration. First, you need to disable anonymous authentication and allow windows authentication.","position":{"start":{"line":16,"column":1,"offset":639},"end":{"line":16,"column":216,"offset":854},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":639},"end":{"line":16,"column":216,"offset":854},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The web.config also need to tell that we use windows authentication. ","position":{"start":{"line":18,"column":1,"offset":856},"end":{"line":18,"column":70,"offset":925},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":856},"end":{"line":18,"column":70,"offset":925},"indent":[]}},{"type":"code","lang":"xml","meta":null,"value":" <system.web> <authentication mode=\"Windows\" />\n\n<roleManager enabled=\"true\" defaultProvider=\"AspNetWindowsTokenRoleProvider\"> <providers> <clear /> <add name=\"AspNetWindowsTokenRoleProvider\" type=\"System.Web.Security.WindowsTokenRoleProvider\" applicationName=\"/\" /> </providers> </roleManager> </system.web> ","position":{"start":{"line":19,"column":1,"offset":926},"end":{"line":23,"column":4,"offset":1246},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This allow the use of the ","position":{"start":{"line":26,"column":1,"offset":1249},"end":{"line":26,"column":27,"offset":1275},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Authorize","position":{"start":{"line":26,"column":29,"offset":1277},"end":{"line":26,"column":38,"offset":1286},"indent":[]}}],"position":{"start":{"line":26,"column":27,"offset":1275},"end":{"line":26,"column":40,"offset":1288},"indent":[]}},{"type":"text","value":" attribute over controllers and methods.","position":{"start":{"line":26,"column":40,"offset":1288},"end":{"line":26,"column":80,"offset":1328},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1249},"end":{"line":26,"column":80,"offset":1328},"indent":[]}},{"type":"code","lang":"csharp","meta":null,"value":" [Authorize(Roles = \"YOURDOMAIN\\\\\\\\Group1, YOURDOMAIN\\\\\\\\Group2\")] public ActionResult YourMethod() { //... } ","position":{"start":{"line":29,"column":1,"offset":1331},"end":{"line":31,"column":4,"offset":1455},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you want to allow the user to log with the form instead of being automatically logged in, you need to specify a connection string in the web.config. ","position":{"start":{"line":33,"column":1,"offset":1457},"end":{"line":33,"column":153,"offset":1609},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1457},"end":{"line":33,"column":153,"offset":1609},"indent":[]}},{"type":"code","lang":"xml","meta":null,"value":" <connectionStrings> <add name=\"ADConn\" connectionString=\"LDAP://YourConnection\" /> </connectionStrings> ","position":{"start":{"line":34,"column":1,"offset":1610},"end":{"line":36,"column":4,"offset":1726},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Then, you need to setup the membership provider.","position":{"start":{"line":39,"column":1,"offset":1729},"end":{"line":39,"column":49,"offset":1777},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1729},"end":{"line":39,"column":49,"offset":1777},"indent":[]}},{"type":"code","lang":"xml","meta":null,"value":" <membership defaultProvider=\"ADMembership\"> <providers> <add name=\"ADMembership\" type=\"System.Web.Security.ActiveDirectoryMembershipProvider, System.Web, Version=2.0.0.0, Culture=neutral, PublicToken=b03f5f7f11d50a3a\" connectionStringName=\"ADConn\" connectionUsername=\"domain/user\" connectionPassword=\"pwd\" /> </providers> </membership> ","position":{"start":{"line":42,"column":1,"offset":1780},"end":{"line":44,"column":4,"offset":2128},"indent":[1,1]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Authentification with Active Directory (AD) with Asp.Net MVC\",\"date\":\"2013-11-25\",\"categories\":[\"asp-mvc\"]}","position":{"start":{"line":48,"column":1,"offset":2132},"end":{"line":48,"column":146,"offset":2277},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":48,"column":146,"offset":2277}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Authentification with Active Directory (AD) with Asp.Net MVC\",\n  \"date\": \"2013-11-25\",\n  \"categories\": [\"asp-mvc\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"With Visual Studio 2013, you cannot simply choose \\\"Intranet WebSite\\\" to create a default website that use \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Active Directory\"), \". Nevertheless, a wizard allow you to create it. First, select create a new project and select a web application.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"400px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/187c63786ce1d3107d052a1b1f8e1754/e17e5/CreateNewWebApplication1-400x263.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"65.66666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVQ4y42RW2/jNhBG9f9/T4F9KgoURYA4m+zasSw71upKUjeLEmkljmzLZyHFcfvQLfoBB+RgyG9mSMf1XvBDQaJ2/EgyhCrRjaXWhqyoEDInK3ZkeUVeVFR1Q7nT7GqD1juiMMFPcrzZA/Mvv+G4m4jVi0CVr8hijyg6IqFZLF22fkgYpcRphh+kBGFCWWma1lJULVEcYkyD3b/ydjxTNBanKEqkVDRNy3m4cDoPlFVDURYYM3ahqaqSbr+fYmstXdcRhiFCSMb7QghEmpJnGY41hmpXE0SSvj/T9yeaxvJf6vueNEmQQk5rEAQopSjLEqezLcqe+f2bwlsGSFWjteF8HrhcLv/K8LkOwy0e1RqL0xrD8dgjRUrfH6bE+Cnj4VG/Mr163M6Mquv60/BIHMUcDu9TwpjuVv3/MjWiNc74yKfTiUY3t2pd93brEC7/4CMehr/H/hz9Y2SDU+sGY/fkRcnxNHA6XzD7D8P+OHC80l8ZzX4lY1qc70uf1VYRK0uiGhKlySvD2+FEXr2TVwfy8kBWHhDZK7p9p7UHWvuObt8m6vZ1iqNY4dzNXO6ftjyvM7xtiutu8NY/iJOMVGQkaUacSIQsMLajqi3fFj6zr88sVjHzlWK+kiw3BY+LAOfhacPsyWe+Eqz9DNeL2PiSRNbE4oNE6gmZm4mv37f88ecTf9273M286e4mqFisonHkAM8vcDeK5UTGwpMTz+sr1/3CEyxWYtp7L4rZWvHlWXC3DHl8nHP/MOcn1tPUWQcqNewAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"CreateNewWebApplication1 400x263\",\n    \"title\": \"CreateNewWebApplication1 400x263\",\n    \"src\": \"/static/187c63786ce1d3107d052a1b1f8e1754/e17e5/CreateNewWebApplication1-400x263.png\",\n    \"srcSet\": [\"/static/187c63786ce1d3107d052a1b1f8e1754/5a46d/CreateNewWebApplication1-400x263.png 300w\", \"/static/187c63786ce1d3107d052a1b1f8e1754/e17e5/CreateNewWebApplication1-400x263.png 400w\"],\n    \"sizes\": \"(max-width: 400px) 100vw, 400px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Second, you need to select MVC and to click change authentication.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"400px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4d7540196d35f79e8c8a32996ae25c11/e17e5/CreateNewWebApplication2-400x282.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"70.66666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWklEQVQ4y3WT23KbMBCGecm+Qx+mb9DpI/SuN7nOdGInaS5sDjHmZJBAwiAEhNgmjv/MyjGTnjTzj3YE+rT7a2U53iM810OwXiMKI/irR8Shj1LkkEKgLEsjKSWqqkLTNNBaY7NJ4ScMCZeIWAHn5zXcqx+whJDYbDZI0wxNo1AqjYArxIVCrZoJQCIoyxg44yiKAlnGzD6aWV4glyWsptEIogC7wwiRhbh6HPDpG8Pn7y2ckEPKHDTGcYTrupjdzHB3e4dfd/e4nc8xn83Nmr1YIktTWF3bIWMpDuMInsVweY8v10d8vT9B6R5PfW+Ax+MRrm3jdnYDz/NgL5dYLBZwbAeObSOOYgghYJEvdPIwDIjiGON+QMlrHHfP+DhexhEJk1incrLgox0Un4HbCnVVYRieTRY0GG+w27+Y+PX11cyHw4iyqrGtz5v/VNu2KISERfTLOJ1OZlbqCUK0GMfj9I08rOsaWjf/BxYFAdvfYJeh9YAsq8GYQtftsN8fpo0k3ep/A5MkQRiGSNMUFMdxgjzP0bbaqChKrIMMDw8BoihBEKzh+775jyBd100+CilhMcZMUxOM57mBbZLENDH9RNC+71BVyjS+57rwV7654TCMEEWRuQwCG2BRCNM/BKlrBaXOqqr6PW5QK2XKokPIR1rfbrfTK6I1ypZzfgZS9zNGTVyaLEnkxwVEqt8PupRnsjcVtOaiJg+J3vf9ZDalTjr/qP/S5QATa22ep3pfMyVTmvSey3JrvMgYA2VNJZ1VTeXRTFmabKsK64zj2gmwDGK49hKrlY83m+0T1nh1gswAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"CreateNewWebApplication2 400x282\",\n    \"title\": \"CreateNewWebApplication2 400x282\",\n    \"src\": \"/static/4d7540196d35f79e8c8a32996ae25c11/e17e5/CreateNewWebApplication2-400x282.png\",\n    \"srcSet\": [\"/static/4d7540196d35f79e8c8a32996ae25c11/5a46d/CreateNewWebApplication2-400x282.png 300w\", \"/static/4d7540196d35f79e8c8a32996ae25c11/e17e5/CreateNewWebApplication2-400x282.png 400w\"],\n    \"sizes\": \"(max-width: 400px) 100vw, 400px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"This will result to a page where you will be able to select Organisation Authentification. Select On-Promise. This will let you specify the active directory URI.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"400px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/5debf704e58c9d9ac8ad4cd44ee1d8d1/e17e5/CreateNewWebApplication3-400x280.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"70%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACM0lEQVQ4y21Ta2+bQBDk//+nfqliJ04rJZEMtgscj4M7DPcCJ1H9nGqPkLitVxotr5ud3R2ClOVgKQMvOaSQKIoCvOJw1qLve+x2OwzD4PH29obf+z0OhwO01qi2BlszoNEO6fMTyu/fEDRNg7zIwTmHNsaT0MedUtDa+GtrHaxzEEIgyzLkeY6qqnzxjGU+5yVHowwC53qwnOF0OvmP+6FHtFqhEhXqukYtBSjofRSGmM/meFws8Lh4xMP9PeZ3M9zP5nh5foEUAkHfDyjKwrfBMuYJe9fj9fXVg1qmOJ8v2Kwi/FgssFlvEIURwmWI9XqNVbTyY+u6DoFSClEU+cMknVq+FafjEaXokNYK/TBgtxvnSgWnOdN4PKExBu/v77hcLjifzz5fg+J4PKLtNFptYYyFtf9DKT3OcIrp8JSvgwhJQe9ukznnQOIC2uC/JJPSL1yw3x9giLB3I5y7oVAhIAskcTJaIMvAWOa3S2poFPoD1hiEvMVdIjGLBR6yFtp9zXKcoUFAfkri2HtLCOm9RuRUjRZE/iOQqrTgeFonWCY5foYbbH7FYCxFypgX45cipURZlp6QHpAaUjYty1g7gpSqDkYrWKOhuxbb7RZt23qQZSgHsmm866uqxrZtvcpaCEjZ+BbsB+FUiJZIC6BMHUyglv0MSRX5aHoxeYqux4N/43qrBCpC98SjqGXOK1DbbduB1Ja8gpASXaeu0H22NRGQGvr/6adIkgTL5RJxHOMPdskbTSowDlMAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"CreateNewWebApplication3 400x280\",\n    \"title\": \"CreateNewWebApplication3 400x280\",\n    \"src\": \"/static/5debf704e58c9d9ac8ad4cd44ee1d8d1/e17e5/CreateNewWebApplication3-400x280.png\",\n    \"srcSet\": [\"/static/5debf704e58c9d9ac8ad4cd44ee1d8d1/5a46d/CreateNewWebApplication3-400x280.png 300w\", \"/static/5debf704e58c9d9ac8ad4cd44ee1d8d1/e17e5/CreateNewWebApplication3-400x280.png 400w\"],\n    \"sizes\": \"(max-width: 400px) 100vw, 400px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"And that's it.\"), mdx(\"p\", null, \"You can also do it more manually. It's good to know because if you have to configure IIS, you will have to do some configuration. First, you need to disable anonymous authentication and allow windows authentication.\"), mdx(\"p\", null, \"The web.config also need to tell that we use windows authentication. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-xml\"\n  }, \" <system.web> <authentication mode=\\\"Windows\\\" />\\n\\n<roleManager enabled=\\\"true\\\" defaultProvider=\\\"AspNetWindowsTokenRoleProvider\\\"> <providers> <clear /> <add name=\\\"AspNetWindowsTokenRoleProvider\\\" type=\\\"System.Web.Security.WindowsTokenRoleProvider\\\" applicationName=\\\"/\\\" /> </providers> </roleManager> </system.web> \\n\")), mdx(\"p\", null, \"This allow the use of the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Authorize\"), \" attribute over controllers and methods.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \" [Authorize(Roles = \\\"YOURDOMAIN\\\\\\\\\\\\\\\\Group1, YOURDOMAIN\\\\\\\\\\\\\\\\Group2\\\")] public ActionResult YourMethod() { //... } \\n\")), mdx(\"p\", null, \"If you want to allow the user to log with the form instead of being automatically logged in, you need to specify a connection string in the web.config. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-xml\"\n  }, \" <connectionStrings> <add name=\\\"ADConn\\\" connectionString=\\\"LDAP://YourConnection\\\" /> </connectionStrings> \\n\")), mdx(\"p\", null, \"Then, you need to setup the membership provider.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-xml\"\n  }, \" <membership defaultProvider=\\\"ADMembership\\\"> <providers> <add name=\\\"ADMembership\\\" type=\\\"System.Web.Security.ActiveDirectoryMembershipProvider, System.Web, Version=2.0.0.0, Culture=neutral, PublicToken=b03f5f7f11d50a3a\\\" connectionStringName=\\\"ADConn\\\" connectionUsername=\\\"domain/user\\\" connectionPassword=\\\"pwd\\\" /> </providers> </membership> \\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"Authentification with Active Directory (AD) with Asp.Net MVC\",\n  \"date\": \"2013-11-25\",\n  \"categories\": [\"asp-mvc\"]\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`With Visual Studio 2013, you cannot simply choose \"Intranet WebSite\" to create a default website that use `}<strong parentName=\"p\">{`Active Directory`}</strong>{`. Nevertheless, a wizard allow you to create it. First, select create a new project and select a web application.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"400px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/187c63786ce1d3107d052a1b1f8e1754/e17e5/CreateNewWebApplication1-400x263.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"65.66666666666667%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVQ4y42RW2/jNhBG9f9/T4F9KgoURYA4m+zasSw71upKUjeLEmkljmzLZyHFcfvQLfoBB+RgyG9mSMf1XvBDQaJ2/EgyhCrRjaXWhqyoEDInK3ZkeUVeVFR1Q7nT7GqD1juiMMFPcrzZA/Mvv+G4m4jVi0CVr8hijyg6IqFZLF22fkgYpcRphh+kBGFCWWma1lJULVEcYkyD3b/ydjxTNBanKEqkVDRNy3m4cDoPlFVDURYYM3ahqaqSbr+fYmstXdcRhiFCSMb7QghEmpJnGY41hmpXE0SSvj/T9yeaxvJf6vueNEmQQk5rEAQopSjLEqezLcqe+f2bwlsGSFWjteF8HrhcLv/K8LkOwy0e1RqL0xrD8dgjRUrfH6bE+Cnj4VG/Mr163M6Mquv60/BIHMUcDu9TwpjuVv3/MjWiNc74yKfTiUY3t2pd93brEC7/4CMehr/H/hz9Y2SDU+sGY/fkRcnxNHA6XzD7D8P+OHC80l8ZzX4lY1qc70uf1VYRK0uiGhKlySvD2+FEXr2TVwfy8kBWHhDZK7p9p7UHWvuObt8m6vZ1iqNY4dzNXO6ftjyvM7xtiutu8NY/iJOMVGQkaUacSIQsMLajqi3fFj6zr88sVjHzlWK+kiw3BY+LAOfhacPsyWe+Eqz9DNeL2PiSRNbE4oNE6gmZm4mv37f88ecTf9273M286e4mqFisonHkAM8vcDeK5UTGwpMTz+sr1/3CEyxWYtp7L4rZWvHlWXC3DHl8nHP/MOcn1tPUWQcqNewAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"CreateNewWebApplication1 400x263\",\n            \"title\": \"CreateNewWebApplication1 400x263\",\n            \"src\": \"/static/187c63786ce1d3107d052a1b1f8e1754/e17e5/CreateNewWebApplication1-400x263.png\",\n            \"srcSet\": [\"/static/187c63786ce1d3107d052a1b1f8e1754/5a46d/CreateNewWebApplication1-400x263.png 300w\", \"/static/187c63786ce1d3107d052a1b1f8e1754/e17e5/CreateNewWebApplication1-400x263.png 400w\"],\n            \"sizes\": \"(max-width: 400px) 100vw, 400px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <p>{`Second, you need to select MVC and to click change authentication.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"400px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/4d7540196d35f79e8c8a32996ae25c11/e17e5/CreateNewWebApplication2-400x282.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"70.66666666666667%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWklEQVQ4y3WT23KbMBCGecm+Qx+mb9DpI/SuN7nOdGInaS5sDjHmZJBAwiAEhNgmjv/MyjGTnjTzj3YE+rT7a2U53iM810OwXiMKI/irR8Shj1LkkEKgLEsjKSWqqkLTNNBaY7NJ4ScMCZeIWAHn5zXcqx+whJDYbDZI0wxNo1AqjYArxIVCrZoJQCIoyxg44yiKAlnGzD6aWV4glyWsptEIogC7wwiRhbh6HPDpG8Pn7y2ckEPKHDTGcYTrupjdzHB3e4dfd/e4nc8xn83Nmr1YIktTWF3bIWMpDuMInsVweY8v10d8vT9B6R5PfW+Ax+MRrm3jdnYDz/NgL5dYLBZwbAeObSOOYgghYJEvdPIwDIjiGON+QMlrHHfP+DhexhEJk1incrLgox0Un4HbCnVVYRieTRY0GG+w27+Y+PX11cyHw4iyqrGtz5v/VNu2KISERfTLOJ1OZlbqCUK0GMfj9I08rOsaWjf/BxYFAdvfYJeh9YAsq8GYQtftsN8fpo0k3ep/A5MkQRiGSNMUFMdxgjzP0bbaqChKrIMMDw8BoihBEKzh+775jyBd100+CilhMcZMUxOM57mBbZLENDH9RNC+71BVyjS+57rwV7654TCMEEWRuQwCG2BRCNM/BKlrBaXOqqr6PW5QK2XKokPIR1rfbrfTK6I1ypZzfgZS9zNGTVyaLEnkxwVEqt8PupRnsjcVtOaiJg+J3vf9ZDalTjr/qP/S5QATa22ep3pfMyVTmvSey3JrvMgYA2VNJZ1VTeXRTFmabKsK64zj2gmwDGK49hKrlY83m+0T1nh1gswAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"CreateNewWebApplication2 400x282\",\n            \"title\": \"CreateNewWebApplication2 400x282\",\n            \"src\": \"/static/4d7540196d35f79e8c8a32996ae25c11/e17e5/CreateNewWebApplication2-400x282.png\",\n            \"srcSet\": [\"/static/4d7540196d35f79e8c8a32996ae25c11/5a46d/CreateNewWebApplication2-400x282.png 300w\", \"/static/4d7540196d35f79e8c8a32996ae25c11/e17e5/CreateNewWebApplication2-400x282.png 400w\"],\n            \"sizes\": \"(max-width: 400px) 100vw, 400px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <p>{`This will result to a page where you will be able to select Organisation Authentification. Select On-Promise. This will let you specify the active directory URI.`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"400px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/static/5debf704e58c9d9ac8ad4cd44ee1d8d1/e17e5/CreateNewWebApplication3-400x280.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"70%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACM0lEQVQ4y21Ta2+bQBDk//+nfqliJ04rJZEMtgscj4M7DPcCJ1H9nGqPkLitVxotr5ud3R2ClOVgKQMvOaSQKIoCvOJw1qLve+x2OwzD4PH29obf+z0OhwO01qi2BlszoNEO6fMTyu/fEDRNg7zIwTmHNsaT0MedUtDa+GtrHaxzEEIgyzLkeY6qqnzxjGU+5yVHowwC53qwnOF0OvmP+6FHtFqhEhXqukYtBSjofRSGmM/meFws8Lh4xMP9PeZ3M9zP5nh5foEUAkHfDyjKwrfBMuYJe9fj9fXVg1qmOJ8v2Kwi/FgssFlvEIURwmWI9XqNVbTyY+u6DoFSClEU+cMknVq+FafjEaXokNYK/TBgtxvnSgWnOdN4PKExBu/v77hcLjifzz5fg+J4PKLtNFptYYyFtf9DKT3OcIrp8JSvgwhJQe9ukznnQOIC2uC/JJPSL1yw3x9giLB3I5y7oVAhIAskcTJaIMvAWOa3S2poFPoD1hiEvMVdIjGLBR6yFtp9zXKcoUFAfkri2HtLCOm9RuRUjRZE/iOQqrTgeFonWCY5foYbbH7FYCxFypgX45cipURZlp6QHpAaUjYty1g7gpSqDkYrWKOhuxbb7RZt23qQZSgHsmm866uqxrZtvcpaCEjZ+BbsB+FUiJZIC6BMHUyglv0MSRX5aHoxeYqux4N/43qrBCpC98SjqGXOK1DbbduB1Ja8gpASXaeu0H22NRGQGvr/6adIkgTL5RJxHOMPdskbTSowDlMAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"CreateNewWebApplication3 400x280\",\n            \"title\": \"CreateNewWebApplication3 400x280\",\n            \"src\": \"/static/5debf704e58c9d9ac8ad4cd44ee1d8d1/e17e5/CreateNewWebApplication3-400x280.png\",\n            \"srcSet\": [\"/static/5debf704e58c9d9ac8ad4cd44ee1d8d1/5a46d/CreateNewWebApplication3-400x280.png 300w\", \"/static/5debf704e58c9d9ac8ad4cd44ee1d8d1/e17e5/CreateNewWebApplication3-400x280.png 400w\"],\n            \"sizes\": \"(max-width: 400px) 100vw, 400px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <p>{`And that's it.`}</p>\n    <p>{`You can also do it more manually. It's good to know because if you have to configure IIS, you will have to do some configuration. First, you need to disable anonymous authentication and allow windows authentication.`}</p>\n    <p>{`The web.config also need to tell that we use windows authentication. `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{` <system.web> <authentication mode=\"Windows\" />\n\n<roleManager enabled=\"true\" defaultProvider=\"AspNetWindowsTokenRoleProvider\"> <providers> <clear /> <add name=\"AspNetWindowsTokenRoleProvider\" type=\"System.Web.Security.WindowsTokenRoleProvider\" applicationName=\"/\" /> </providers> </roleManager> </system.web> \n`}</code></pre>\n    <p>{`This allow the use of the `}<strong parentName=\"p\">{`Authorize`}</strong>{` attribute over controllers and methods.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-csharp\"\n      }}>{` [Authorize(Roles = \"YOURDOMAIN\\\\\\\\\\\\\\\\Group1, YOURDOMAIN\\\\\\\\\\\\\\\\Group2\")] public ActionResult YourMethod() { //... } \n`}</code></pre>\n    <p>{`If you want to allow the user to log with the form instead of being automatically logged in, you need to specify a connection string in the web.config. `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{` <connectionStrings> <add name=\"ADConn\" connectionString=\"LDAP://YourConnection\" /> </connectionStrings> \n`}</code></pre>\n    <p>{`Then, you need to setup the membership provider.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{` <membership defaultProvider=\"ADMembership\"> <providers> <add name=\"ADMembership\" type=\"System.Web.Security.ActiveDirectoryMembershipProvider, System.Web, Version=2.0.0.0, Culture=neutral, PublicToken=b03f5f7f11d50a3a\" connectionStringName=\"ADConn\" connectionUsername=\"domain/user\" connectionPassword=\"pwd\" /> </providers> </membership> \n`}</code></pre>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}
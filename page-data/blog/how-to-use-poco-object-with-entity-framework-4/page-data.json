{
    "componentChunkName": "component---src-pages-blog-mdx-slug-tsx",
    "path": "/blog/how-to-use-poco-object-with-entity-framework-4",
    "result": {"data":{"mdx":{"frontmatter":{"title":"How to use Poco object with Entity Framework 4","date":"September 16, 2011"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How to use Poco object with Entity Framework 4\",\n  \"date\": \"2011-09-16\",\n  \"categories\": [\"c-sharp\", \"entity-framework\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"I have put in the title Entity Framework 4 because since version 4 it has a great new addition. This new feature is that POCO object does not require to use any interface inheritance. Also, no meta attribute is required to be added to your classes. So, how does the entities map to your Poco classes? Well, the mapping is done with the name of the entity and the class. These two must be the same. If you have a classe named \\\"Region\\\" than you need an entity name \\\"Region\\\". So, this mean that you still need to have a conceptual model with a .edmx file. Also, you do not want the entity model to create the classes since you already have them. To do, you need to clear in the entity file (.edmx) the Custom Tool property. As said previously, the mapping is done with the name. In the case you have in your project 2 classes with the same name but with a different namespace, this will confuse the mapper and an exception will be thrown. It's a good practice to put all your poco classes in the same project with the Entity Framework file.\"), mdx(\"h2\", null, \"Example\"), mdx(\"p\", null, \"Create a new project and add a new Entity Framework Model file. You could choose to create your entities manually, but to be faster, let create them from the database. Lets just select the Region table. Do not forget to go in the entity framework's model properties to remove the Custom Tool.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"338px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/c3a5ac6c213432c0a324fc371bc27a75/2b41d/customtooltodelete.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75.66666666666666%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADM0lEQVQoz02Sy28bVRjF5z9hSWDDH9AkgkpAKyiqEKrakijpCiFRUrFsqoYuYIOABeKxoG1UgozB1ElIoXZiJ3H8mqSuZ+zxnce98/SMX3nUMx3PjO2ZuTBFVBz9dHT0Lc63OcRg4HW7jQOmli6ibInNlPjNQiOVZ7JlfvsA7T4Wd/eFDCnkK03LdDDGQRDi/0SEYegH2DgaVRhNghBBSVE0nhMgRAiKkqhIotzpGOkUubG+d9jr2PYAYxyGUQUxHo2eWH2kdTkAoABBo2E/tZ99CMIwDILQ932MsaKeUJSMMR77fhCE/0KEQWgc9ikBIYQM3YAc3zs6ft79LERuWUOKUv9/jz73zSd9yzFN03Vs+6nlDex2p7dTqsWS2Vgy8+taduX3rZ9+S/9wb/2T67e/vbv63fLac4jbsdW7sY07P6+txB8sx9bvxTa++TFx8cPPJt9ZePXda9PnFybPL5w6d/Xl6SsvvHLlxVOzE5NzE1NzL03NTUzNE7NXv5y79vXMx1+9cfnmaxcWT19cPH3h+uuXFs/OfnpmZiny92+emVl6a/7W9Lkbb166cXZ26e35W+998Pnlj74gcnmy/IgmH9WyufJ2nszmyOI+XTyg86VKrlzd3iPJClMg6QoN4ondeGIHKjqAGi/qdAMRgKEBx1WqdOVxlQGgStcB4GpMowFYwPJVilY1XdWMdruVzVTSm/sjf+R6o+Fo3O0dEQiSpWL+jwy9U6pniiBDoq0yzJARUSjDdIFLFbjMvpB4WPt+eWezxP6ZY/7aa6QKLAF5igWAakg1VmR4hUMaC1UOqpEjDcoGUiKgrANBXYnlOFHjxWYE0ohe79Aw2oqiaU3DaLU8z/X98Xg09P2R5zrddrvbafe6nZOTY8/1cjnguvYwkjcceoRtWS1dF6HYbDYlUTZNa+A4g4Hjup43dHkeQghZllU1HWP8MMV2ev1of2E0FsKyzJahA8BqWlMWEVOry7IiRnsTj0+OdUnuqqohSSpEGAd7W3WhLuLQD8bjMAwJ0zSbqlqtUizgIC/ouuE4jh1pMLD68sYD8EscJpPw/n2UTIrJBFpNsvH4IS/8M8+/AR9L1Hvg8dLkAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"customtooltodelete\",\n    \"title\": \"customtooltodelete\",\n    \"src\": \"/static/c3a5ac6c213432c0a324fc371bc27a75/2b41d/customtooltodelete.png\",\n    \"srcSet\": [\"/static/c3a5ac6c213432c0a324fc371bc27a75/5a46d/customtooltodelete.png 300w\", \"/static/c3a5ac6c213432c0a324fc371bc27a75/2b41d/customtooltodelete.png 338w\"],\n    \"sizes\": \"(max-width: 338px) 100vw, 338px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"By turning this off, no classes generation will be done.\"), mdx(\"p\", null, \"The last step is to create the Object Context. This is required because we have removed previously the generation of it. To do, you need to create a new class that inherit the base class \\\"ObjectContext\\\". Don't forget to add \\\"using System.Data.Objects;\\\" at the top of the file to be able to see ObjectContext.\"), mdx(\"p\", null, \"So, here is the code.\"), mdx(\"p\", null, \"Region class:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \"public class Region { \\n   public Int32 RegionID { get; set; } \\n   public string RegionDescription { get; set; } \\n} \\n\")), mdx(\"p\", null, \"The Object Context class:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \"public class NorthwindObjectContext:ObjectContext { \\n  private ObjectSet<Region>_Region;\\n\\n  public NorthwindObjectContext() : base(\\\"name=NorthwindEntities\\\", \\\"NorthwindEntities\\\") { \\n    this.ContextOptions.LazyLoadingEnabled = true; \\n  }\\n\\n  public ObjectSet<Region> Regions { \\n    get { \\n      if ((_Region == null)) {\\n        _Region = base.CreateObjectSet<Region>(\\\"Region\\\"); \\n      } \\n      return_Region; \\n    } \\n  } \\n} \\n\")), mdx(\"p\", null, \"Finally, to test, I added a page with a paragraph and showed the first region description:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \"NorthwindObjectContext db = new NorthwindObjectContext(); \\nTextBlock.InnerText = db.Regions.Where(region => region.RegionID == 1).FirstOrDefault().RegionDescription; \\n\")), mdx(\"p\", null, \"They are two errors that can appear to you if you try this code :\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Mapping and metadata information could not be found for EntityType\")), mdx(\"p\", null, \"This message indicates that you have not removed the Custom Tool of the entity framework model properties.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"The specified default EntityContainer name 'NorthwindEntities1' could not be found in the mapping and metadata information. Parameter name: defaultContainerName\")), mdx(\"p\", null, \"This mean the the container name is not the name of container generated by the entity model. If your model is from the database, it should be the same as the connection string name. If you want to know exactly where is the container name, you need to go in the csdl file. This is inside the entity model. To see, open the .edmx file with a XML editor and go to the CSDL section. You will see a EntityContainer element.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"509px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/865f49f6a31880a9f544c9ff0eb1dd35/71554/entitycontainercsdl.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"29.000000000000004%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABHklEQVQY04WIy07CUBRF+1mOdOZEv0GjE6d+lkYc+QFEomgJ2FIutgiEFlrs69Ke0lJu7+MY4ti4s7Oy19ZIr0X01sfL3bB7b/ceid4ibw8eebq8uT06vTg5vz4+u/qr2g58UUdVFudLmwajbDWmrlGGX5ClBSSQJ7+EPIX88BwUDhsg1bblXkhZFQL8iEYeXc1Dz4GVX29q/C8aADDGEDFchLbluZa7NBYz4ptjMD7Z60g9WziY8bmTWk419ZigFANPRWsMPK0sSy4EIm62ctB3Ld0Z6pPJuz3tLzqdom0q09gMuonZS9r9xrHLhCSBlabTbE2oVlWVEBIROVP7OGZrv4m/ZRjUsGs4St6g4ogMFUOlpMJGIhPIJe45/gDXejN0P7gh7AAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"entitycontainercsdl\",\n    \"title\": \"entitycontainercsdl\",\n    \"src\": \"/static/865f49f6a31880a9f544c9ff0eb1dd35/71554/entitycontainercsdl.png\",\n    \"srcSet\": [\"/static/865f49f6a31880a9f544c9ff0eb1dd35/5a46d/entitycontainercsdl.png 300w\", \"/static/865f49f6a31880a9f544c9ff0eb1dd35/71554/entitycontainercsdl.png 509w\"],\n    \"sizes\": \"(max-width: 509px) 100vw, 509px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"They are two others details that you must know when using POCO object with Entity Framework and it's concerning complex object. As you know, complex objects are in fact object inside object instead of CLR type. Those complex object must be build as class and not struct. Also, you cannot use inheritance with complex type. For example, if your Company class contain a list of Employee you cannot have the Employee derive from Person.\"), mdx(\"p\", null, \"From here you should be all good to use Entity Framework and Poco object!\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"684256ce-b6dd-535f-893a-2b1cc6255732"}},
    "staticQueryHashes": ["3159585216"]}
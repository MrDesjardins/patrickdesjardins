{
    "componentChunkName": "component---src-templates-blog-article-tsx",
    "path": "/blog/react-children-function-render",
    "result": {"data":{"mdx":{"frontmatter":{"title":"How to Minimized React Children Function Component Render","date":"November 16, 2022"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How to Minimized React Children Function Component Render\",\n  \"date\": \"2022-11-16\",\n  \"categories\": [\"react\", \"react-hooks\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Introduction of React Children\"), mdx(\"p\", null, \"If you have a hierarchy of components, you may have one or more components that wrap HTML elements around something else. For example, you can have a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Layout\"), \" component that wraps a child component. The child can be anything from now to the future- it does not matter. \"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"512px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/9c69d601615c7ab4b92e0f00505a3e6a/01e7c/ReactChildrenFunctionRender.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"67.66666666666666%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+klEQVQ4y5WT527cMBCE7/3f7OBD/N/wFSW2KLGKRYWUdBPsXoeBACEwYNv9uBxRmzAs8P2MMMyIw4I4LkhX9XnFd2MgpEMXJ6RpQRwusbcc6rtUOPcgAjZ5BsYClBWYz5eelBdgBVB9CWzffqFVjue3/WdNM7CcgUMdsKGJ7zOMi2h19yJlPKzvWaZL0C5CGg9lI5QNnEN7VPW8Ap/fHhs6oW4khBCsuq5R1wK1EKiqCofDEfv9Hh8fHzxvpYSUEm3bQmsDpTRaZbn6PVVIZF5Yaem1xRhxOp0YeDweMY7jjxjKk9rxlasmXioUrULO0z3gfD6zqJ3Xx5jn171bATlnNNKw/39kwobMb1qNkvM9Kc8T3GDgeg03aPjBIowd0hQQJ49lXe6xpWQIAq7At+ovQKksSin3IAJFSh4j0pS4H8qAsYx8EB34ABY00nKFD6D+CQyjx77aY/e+w3a3xdv7G6qvCjH7H0DykKz7ugEVLTwBu8EgTB4uORivYYKGDQZhCLC9fgHODOwY+Js8pIG23R1I/lNCHD3S5JFyeGgK7CV5ePtQ5H2jHF/5RF+ZKiTg+mT0/7RlWfgvomfDD5swyjgYa+FDhOs8rOteZR2su+mx7n3gPW09qF4Gulgg3QihI3Q3XNX/U8r1HNfahFpHqG6CSwVHEfEXVrI3rfMDMpEAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ReactChildrenFunctionRender\",\n    \"title\": \"ReactChildrenFunctionRender\",\n    \"src\": \"/static/9c69d601615c7ab4b92e0f00505a3e6a/01e7c/ReactChildrenFunctionRender.png\",\n    \"srcSet\": [\"/static/9c69d601615c7ab4b92e0f00505a3e6a/5a46d/ReactChildrenFunctionRender.png 300w\", \"/static/9c69d601615c7ab4b92e0f00505a3e6a/01e7c/ReactChildrenFunctionRender.png 512w\"],\n    \"sizes\": \"(max-width: 512px) 100vw, 512px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"React uses the term \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://reactjs.org/docs/react-api.html#reactchildren\"\n  }, \"children\"), \" to inject another component inside your component. So, in the following example, we have a basic \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Layout\"), \" component with a single property, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"children\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"function Layout(props: { children: ReactNode }) {\\n  return (\\n    <div>\\n      <h1>Layout</h1>\\n      <main>{props.children}</main>\\n    </div>\\n  );\\n}\\n\")), mdx(\"p\", null, \"The component wraps any other component. For example, the following React \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App\"), \" component render a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"div\"), \" that has the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Layout\"), \" component, and between \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<Layout>\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"</Layout>\"), \" is what is injected inside the component.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\",\n    \"metastring\": \"{5}\",\n    \"{5}\": true\n  }, \"export default function App() {\\n  return (\\n    <div className=\\\"App\\\">\\n      <Layout>\\n        <div>Will print inside the main tag of the Layout component</div>\\n      </Layout>\\n    </div>\\n  );\\n}\\n\")), mdx(\"p\", null, \"The result is an HTML output with a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"div\"), \" defined under the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"App\"), \" into the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Layout\"), \" component.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<div className=\\\"App\\\">\\n  <div>\\n    <h1>Layout</h1>\\n    <main>\\n      <div>Will print inside the main tag of the Layout component</div>\\n    </main>\\n  </div>\\n</div>\\n\")), mdx(\"p\", null, \"React's context can leverage the capability of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"children\"), \" to create a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"provider\"), \". I have discussed the pattern in a previous article that explains \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/blog/2021/two-patterns-with-react-context\"\n  }, \"two patterns with React context\"), \". In short, it provides a clean context with a state encapsulated into a component that does not mingle with the implementation of the context.\"), mdx(\"h1\", null, \"React Children as a function A.K.A. Render Props\"), mdx(\"p\", null, \"Before diving into the main problem, a React's children can return a function instead of a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ReactNode\"), \". The pattern is called \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://reactjs.org/docs/render-props.html\"\n  }, \"Render Props by React\"), \". Returning a function opens the door and still renders a child component that is the return of the function but, at the same time, passes information of function to be called by any component down the hierarchy. \"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"752px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/e828de700b3831a052778d546c41a650/442cb/ReactChildrenFunctionRender2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"60%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACO0lEQVQoz1WTW3PbNhBG/f//VPPaZFJbduQmdiSTlAiCF1AASdxIUachmarThzO7+83Ozl6AB9VFOnfFuCudn+9s8ZU+zPxMBalo6MPtrm95m79ovb9SXjwPi+DjjHURayPDELBDIPiR4MbVqvrCpTXEMK0EP625zi2MK+N0ozaBB+NnBqVxdUtQmqAu2LLhsPvGYfdCtv/O++OOH1+fSPffeXvccXx5xVaKTjbYumWoFE731CZuHS5B+n7k75c9r7tvPH75i+yQUIuSpqioixIlK1pZI5LTqnetoW81vdL0jcZ3dito3Iy9dGTHD4qiID+fEXmOd5ZpHOm6jlwI8lxgjGGcJkKIOO/xPuCcoy4kzgw03bh0uI3ca8MNuN5gvsF0va3+GAJKSvq2ZQ6BW4wri3/1nnmMlEJidY/qx22HrjXUZU3bj9gIQ7gRJtDDiFctOEv6+sr+85+8Pz3y5dMftFm66rGpEccPQu+2DpeCy8hlUdFoxymXJKeCJBPI2qClRBwPHPZ7fux2vD0/r36ZJhRJgnx/QxyO+HtBtx1FFhVtHykbs1IpQ2sctlHoQtCXJV0p0UKgzmc6KbkUAn3KkB8JvnPUXfyvYCUrjFtGnhnClSHOGDvitWYymtiq/6MaJn0hqIb6nBP+vfJylHWhy9Moa5pCUuUCmZ1XivSESFLER4pIMookW61MT8g0o84FSsitqfs7tBFrBqwe1uLLTofWMCizWtt2v+3GcKdb8wc94Jcf9evK/wBX141UxPj9dgAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ReactChildrenFunctionRender2\",\n    \"title\": \"ReactChildrenFunctionRender2\",\n    \"src\": \"/static/e828de700b3831a052778d546c41a650/442cb/ReactChildrenFunctionRender2.png\",\n    \"srcSet\": [\"/static/e828de700b3831a052778d546c41a650/5a46d/ReactChildrenFunctionRender2.png 300w\", \"/static/e828de700b3831a052778d546c41a650/0a47e/ReactChildrenFunctionRender2.png 600w\", \"/static/e828de700b3831a052778d546c41a650/442cb/ReactChildrenFunctionRender2.png 752w\"],\n    \"sizes\": \"(max-width: 752px) 100vw, 752px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"While you can use a hook to access functions or values down the hierarchy, having a function gives some flexibility by providing values or callback to any component under the component utilizing the render props pattern. For instance, if you are using a child component that cannot call your hook to access the value of your context, you can use the render props pattern to pass the information by the property. The hook restriction is a scenario if you do not develop both components.\"), mdx(\"h1\", null, \"The Problem\"), mdx(\"p\", null, \"The trap with React props is the number of renderings. Here is a small example that shows that if a parent React component passes a function down that the whole tree of componenst is rendered when the parent change.\"), mdx(\"iframe\", {\n    src: \"https://codesandbox.io/embed/react-children-function-render-part1-q83h9r?fontsize=14&theme=dark\",\n    style: {\n      \"width\": \"100%\",\n      \"height\": \"500px\",\n      \"border\": \"0\",\n      \"borderRadius\": \"4px\",\n      \"overflow\": \"hidden\"\n    },\n    title: \"React-Children-Function-Render-Part1\",\n    allow: \"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\",\n    sandbox: \"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n  }), mdx(\"p\", null, \"If you open the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Console\"), \" of the CodeSandbox you see many renders.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"// Initial render (mounting)\\nApp Render \\nUserContextProvider Render \\nLayout Render \\nSmallChild Render \\nSmallChildUsingContext Render \\n\\n// Click the Layout button causes 4 renders\\nUserContextProvider Render \\nLayout Render  // We do not need to re-render Layout\\nSmallChild Render  // We do not need to render the SmallChild\\nSmallChildUsingContext Render \\n\")), mdx(\"h1\", null, \"The Profiling\"), mdx(\"p\", null, \"The screenshot below shows the React's dev tool that tells why the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"UserContextProvider\"), \" rendered: because a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"hook changed\"), \". The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Layout\"), \" cause is of a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"property changed\"), \" cause. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SmallChild\"), \" is because the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"parent changed\"), \" and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SmallChildrenUsingContext\"), \" is because the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"context changed\"), \".\"), mdx(\"p\", null, \"This last one is reasonable since the context has changed, same for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"UserContextProvider\"), \" but the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Layout\"), \" should not have!\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1029px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/8dbb0ae68443535fdea8d6b0fc42423e/6f2be/react-children-function-react-dev-tool-flamegraph.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"27.999999999999996%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABNElEQVQY022Py0sCcRSF5192IW3bSdljoW2iWpQtBBe1CCMlM18VhGLRA0VFq5EZ59HYqOM4vy98TBl04MDlcPnOvZJtaWimSVsxMT6HTIYjXMdlaA9g7IDwmAxsppL1LuPWMY4u05MtlHcVUzUYWTYDs8/Q+kLS60n6zRTPlTinFyHS2TDp7DqZwjaZ2yiXNxEypSi5xBrnsTBHsR0O9uPk8w/ki1Uqjx1qLYOXeo9aQ0MSnjtrt602jacErdcTPhpndMqbNHMBWsUgnVIQ5TrA29UK2eQq1ftD9goKoVSXyJ3LVslho+iwW3aRpjAh+F/eBDxv9jaImf1VwzBQe+oi/5UkpjQhEMLD8yYI34sW4Vv4xfNc0zVkWWbszj8UM4aYX7isH9BiwTfL8xSoLYDjv8Bv3oq9A1eJZCIAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"react children function react dev tool flamegraph\",\n    \"title\": \"react children function react dev tool flamegraph\",\n    \"src\": \"/static/8dbb0ae68443535fdea8d6b0fc42423e/6f2be/react-children-function-react-dev-tool-flamegraph.png\",\n    \"srcSet\": [\"/static/8dbb0ae68443535fdea8d6b0fc42423e/5a46d/react-children-function-react-dev-tool-flamegraph.png 300w\", \"/static/8dbb0ae68443535fdea8d6b0fc42423e/0a47e/react-children-function-react-dev-tool-flamegraph.png 600w\", \"/static/8dbb0ae68443535fdea8d6b0fc42423e/6f2be/react-children-function-react-dev-tool-flamegraph.png 1029w\"],\n    \"sizes\": \"(max-width: 1029px) 100vw, 1029px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h1\", null, \"The Explanation\"), mdx(\"p\", null, \"The React documentation specifies:\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"... because the shallow prop comparison will always return false for new props, and each render in this case will generate a new value for the render prop.\")), mdx(\"p\", null, \"The documentation provides a workaround which is to create the function outside the rendering. A quick modification by memoizing the children inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"UserContextProvider\"), \" limites the rendering to two components: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"UserContextProvider\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SmallChildUsingContext\"), \". The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"UserContextProvider\"), \" is expected as its state changes, and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SmallChildUsingContext\"), \" must re-render since it uses a value that changes from the context.\"), mdx(\"iframe\", {\n    src: \"https://codesandbox.io/embed/react-children-function-render-part2-6qkx0o?fontsize=14&hidenavigation=1&theme=dark\",\n    style: {\n      \"width\": \"100%\",\n      \"height\": \"500px\",\n      \"border\": \"0\",\n      \"borderRadius\": \"4px\",\n      \"overflow\": \"hidden\"\n    },\n    title: \"React-Children-Function-Render-Part2\",\n    allow: \"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\",\n    sandbox: \"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n  }), mdx(\"p\", null, \"The gain is that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Layout\"), \" is not changing, which makes sense since it does not rely on any state of the context.\"), mdx(\"h1\", null, \"The Solution\"), mdx(\"p\", null, \"The solution needs to be clarified for many. The following lines:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const fn = useMemo(() => props.children(inc), [props, inc]);\\nreturn <UserContext.Provider value={value}>{fn}</UserContext.Provider>;\\n\")), mdx(\"p\", null, \"Cannot be:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const fn = useCallback(() => props.children(inc), [props, inc]);\\nreturn <UserContext.Provider value={value}>{fn()}</UserContext.Provider>;\\n\")), mdx(\"p\", null, \"The reason is that the function passed down is the same but not the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"output\"), \" of the function. Hence, only \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useMemo\"), \" is memoizing the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"children\"), \" property, in that example, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Layout\"), \". The final output is now: \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"// Initial render (mounting)\\nApp Render \\nUserContextProvider Render \\nLayout Render \\nSmallChild Render \\nSmallChildUsingContext Render \\n\\n// Click the Layout button causes 2 renders\\nUserContextProvider Render \\nSmallChildUsingContext Render \\n\")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"89eb7dea-0313-5557-af2e-3abdaae3b876","totalPages":74}},
    "staticQueryHashes": ["3159585216"]}
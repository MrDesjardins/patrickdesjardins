{
    "componentChunkName": "component---src-templates-blog-article-tsx",
    "path": "/blog/dropcreatedatabaseifmodelchanges-will-create-your-database-every-time-you-start-your-application",
    "result": {"data":{"mdx":{"frontmatter":{"title":"DropCreateDatabaseIfModelChanges will create your database every time you start your application","date":"August 18, 2012"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"DropCreateDatabaseIfModelChanges will create your database every time you start your application\",\n  \"date\": \"2012-08-18\",\n  \"categories\": [\"entity-framework\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"150px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/cd241d4456f9dfefdbf81cc418fc2292/75985/ID-10022565-150x150.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"100%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMFBP/EABcBAQEBAQAAAAAAAAAAAAAAAAACAQP/2gAMAwEAAhADEAAAAd2ebCeu+42xeIdAT//EABoQAQADAQEBAAAAAAAAAAAAAAECAxEABBL/2gAIAQEAAQUC0372zvRpbC2ZIueTiqIRiB//xAAaEQACAgMAAAAAAAAAAAAAAAAAARAREhMh/9oACAEDAQE/AdfLMWKP/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAQ/9oACAECAQE/AWd//8QAHhAAAgEDBQAAAAAAAAAAAAAAAAEQERIhAjNBUXH/2gAIAQEABj8CpyWp+xcYybeqGuyh/8QAHBABAQEAAgMBAAAAAAAAAAAAAREAITEQYXHR/9oACAEBAAE/IZc3xpgGeBYBCdmrRw7v7kFp7OsDhtY684GOjf/aAAwDAQACAAMAAAAQl+8D/8QAGBEBAQEBAQAAAAAAAAAAAAAAAQARIfD/2gAIAQMBAT8QNZN60khyXt//xAAYEQACAwAAAAAAAAAAAAAAAAAAEQEQMf/aAAgBAgEBPxDaEJr/xAAdEAEAAgEFAQAAAAAAAAAAAAABABExIUFRYXEQ/9oACAEBAAE/EExkWpugK4uALp46+KCxzVHJOCW9NxiHwHpV5MwXK2/QHnEB9pottn//2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ID 10022565 150x150\",\n    \"title\": \"ID 10022565 150x150\",\n    \"src\": \"/static/cd241d4456f9dfefdbf81cc418fc2292/75985/ID-10022565-150x150.jpg\",\n    \"srcSet\": [\"/static/cd241d4456f9dfefdbf81cc418fc2292/75985/ID-10022565-150x150.jpg 150w\"],\n    \"sizes\": \"(max-width: 150px) 100vw, 150px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"That mean that if you are developing something and want to have the database updated to your model changes that you need to create your class that inherit \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DropCreateDatabaseIfModelChanges\"), \" . This implementation require you to use the type of the Database Context because it's a generic class. The class that you will create will inherit from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DropCreateDatabaseIfModelChanges\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \"public class DatabaseContextInitializer : DropCreateDatabaseIfModelChanges<Database>\\n{\\n  \\n  protected override void Seed(DatabaseContext dbContext) { \\n    // seed data \\n    base.Seed(dbContext);\\n  } \\n} \\n\")), mdx(\"p\", null, \"Once created, you need to set the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DbContext\"), \" to know about this Initializer. This is done by setting it inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OnModelCreating\"), \" of your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DbContext\"), \". \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \"protected override void OnModelCreating(DbModelBuilder modelBuilder) { \\n  Database.SetInitializer(new DatabaseContextInitializer());\\n\\n  base.OnModelCreating(modelBuilder); \\n} \\n\")), mdx(\"p\", null, \"You can set inside Seed some alter table statement or anything you want to be loaded into the database.\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DropCreateDatabaseIfModelChanges\"), \" should only be used on the development machine because in production it will cause the suppression of all your real data when the model change.\"), mdx(\"p\", null, \"They are also the implementation called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DropCreateDatabaseAlways\"), \" which will drop every time the context is initialized. This is also only good for development purpose.\"), mdx(\"h1\", null, \"What is the goal of using database context initializer?\"), mdx(\"p\", null, \"The goal is to create all your model inside the code and let Entity Framework create for you the database. This is why it's called \\\"Code First\\\" approach because you work on the classes and let Entity Framework handle the database. Once it's create, you can remove the statement and deploy.\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"bd9170f3-f1ad-531b-ba89-27b38745507e","totalPages":77}},
    "staticQueryHashes": ["3159585216"]}
{
    "componentChunkName": "component---src-templates-blog-article-tsx",
    "path": "/blog/converting-anonymous-object-to-dictionnary",
    "result": {"data":{"mdx":{"frontmatter":{"title":"Converting anonymous object to Dictionnary<string, string>","date":"June 12, 2014"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Converting anonymous object to Dictionnary<string, string>\",\n  \"date\": \"2014-06-12\",\n  \"categories\": [\"asp-mvc\", \"asp-net\", \"c-sharp\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Some Asp.Net MVC Html Helpers use the possibility to add \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"anonymous object\"), \" as parameter to assign key value. It is the case of HtmlAttributes parameter. If you want to create your own Html Helper or simply having the possibility to use anonymous object, you may stumble into the case that you need to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"enumerate keys and values\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \" public string Url(string action, string controller, string area = null, object routeValues = null) { //Code here } \\n\")), mdx(\"p\", null, \"The code above is an example. You may want to have a method that generate an url from some parameters. The last parameter named \\\"routeValues\\\" is of type object. This one is created to be used for anonymous object.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \" Url(\\\"action\\\", \\\"controller\\\", \\\"area\\\", new {Id = \\\"123\\\", Name=\\\"This is my name\\\"}); \\n\")), mdx(\"p\", null, \"The Url method can then loop through all the properties. Something that can help you is to create an anonymous method for object that convert everything into an IDictionary where it will be easy to manipulate keys (property name) and values.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \" public static class ObjectExtensions { public static IDictionary<string, object> AsDictionary(this object source, BindingFlags bindingAttr = BindingFlags.DeclaredOnly | BindingFlags.Public | BindingFlags.Instance) { return source.GetType().GetProperties(bindingAttr).ToDictionary ( propInfo => propInfo.Name, propInfo => propInfo.GetValue(source, null) ); } } \\n``` It uses reflection to get all properties and from these properties to get all values.\\n\\nHere is a unit test for the AsDictionary extension method.\\n\\n\\n```csharp\\n [TestClass] public class ObjectExtensionsTest { [TestMethod] public void GivenAnObject_WhenThisOneHasMultipleProperties_ThenDictionary() { // Arrange var objectToConvert = new {Id=\\\"Test\\\", Name=\\\"Test2\\\"};\\n\\n// Act var dictionary = objectToConvert.AsDictionary();\\n\\n// Assert Assert.AreEqual(2,dictionary.Keys.Count); Assert.AreEqual(objectToConvert.Id,dictionary[\\\"Id\\\"]); Assert.AreEqual(objectToConvert.Name,dictionary[\\\"Name\\\"]); } } \\n\")));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"4bc3ddbd-6440-5d20-95e9-5db7cb16abf6","totalPages":74}},
    "staticQueryHashes": ["3159585216"]}
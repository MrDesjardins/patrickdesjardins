{
    "componentChunkName": "component---src-templates-blog-article-tsx",
    "path": "/blog/nodejs-with-react-and-typescript",
    "result": {"data":{"mdx":{"frontmatter":{"title":"Nodejs with React and TypeScript","date":"May 24, 2016"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Nodejs with React and TypeScript\",\n  \"date\": \"2016-05-24\",\n  \"categories\": [\"nodejs-web\", \"react\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"If you want to run some Facebook React component on the client side and still have all the benefits of TypeScript, it's possible. This article will show you how to setup React with TypeScript. I have already cover previously how to setup Visual Studio Code with Nodejs. You should go take a look because this text consider that everything is setup.\"), mdx(\"p\", null, \"First, you need to get the TypeScript definition file for React. This is required to have all functions signatures and let TypeScript validate that you are using legal calls. To do so, use \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"npm\"), \" to download \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"react\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"react-dom\"), \" TypeScript definition file. The first command is to get \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"tsd\"), \", the two next ones are to install the libraries needed.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \" npm install tsd -g tsd install react --save tsd install react-dom --save \\n\")), mdx(\"p\", null, \"You should already have TypeScript tsconfig.json file configured for you from the previous article. Make sure you have the compilation property \\\"jsx\\\" set to \\\"react\\\".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"{ \\n  \\\"compilerOptions\\\": { \\n    \\\"target\\\": \\\"ES6\\\", \\n    \\\"module\\\": \\\"amd\\\", \\n    \\\"sourceMap\\\": true, \\n    \\\"jsx\\\": \\\"react\\\", \\n    \\\"experimentalDecorators\\\": true, \\n    \\\"emitDecoratorMetadata\\\": true, \\n    \\\"declaration\\\": false, \\n    \\\"noImplicitAny\\\": false, \\n    \\\"removeComments\\\": true, \\n    \\\"noLib\\\": false, \\n    \\\"preserveConstEnums\\\": true, \\n    \\\"suppressImplicitAnyIndexErrors\\\": true \\n  } \\n} \\n\")), mdx(\"p\", null, \"The next step is to have a web server running. This one will provide the Html file, JavaScript (being compiled from TypeScript), Css. The simplest way is to use the server called \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/package/express\"\n  }, \"Express\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \" npm install express \\n\")), mdx(\"p\", null, \"This will install a small server that you will be access by your localhost with port 3000. This can be changed anytime in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"bin\", \"\\\\\", \"www\"), \" file (generated by Express).\"), mdx(\"p\", null, \"For the purpose of this demo, we will create a new page that will say \\\"hello world\\\", on the client side, using React. Inside the file \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"app.js\"), \", generated by Express, we will add a new route entry. The mapping between hello as a string from the url is set to a JavaScript route file, in that case named also \\\"hello\\\".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"app.use('/hello', hello); \\n\")), mdx(\"p\", null, \"The route details are specified in routes/hello.js file. The route tells that if the url is localhost:3000/hello to map to the hello view. Here is how it should look:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"var express = require('express'); var router = express.Router();\\n\\n/* GET home page. */ router.get('/', function(req, res, next) { res.render('hello', { title: 'Hello Word Title' }); });\\n\\nmodule.exports = router; \\n\")), mdx(\"p\", null, \"The view by default use the Jade engine. This can be modified in the app.js. For this tutorial, Jade engine is not really used and will reference a basic Html file. To do, create a file named \\\"hello.jade\\\" in the \\\"views\\\" folder. ```typescript\\ninclude hello.html \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"\\n\\nCreate also an Html file hello.html: \\n\\n```html  \\n<html> \\n  <head> \\n    <link rel=\\\"stylesheet\\\" src=\\\"stylesheets/style.css\\\"/> \\n    <script src=\\\"javascripts/require.js\\\"></script> \\n    <script> \\n    require.config({ baseUrl: \\\"/\\\", paths: { \\\"react\\\": \\\"react/dist/react\\\", \\\"react-dom\\\": \\\"react-dom/dist/react-dom\\\", } }); \\n    </script>\\n   </head> \\n   <body> \\n      <h1>Title1</h1> \\n      <div id=\\\"hello\\\"></div> \\n    </body> \\n    <script> require([\\\"javascripts/hello\\\", 'react', 'react-dom'],function(Hello, React, ReactDom) { \\n      var helloWorldComponent = ReactDom.render(Hello({name:\\\"Patrick\\\"}), document.getElementById('hello')); } ); \\n    </script> \\n</html> \\n\")), mdx(\"p\", null, \"This has several important point. First, you need to have \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"require.js\"), \" to use your JavaScript in module. to do so, download \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/package/requirejs\"\n  }, \"requires.js\"), \" and make a copy in public/javascripts folder. This will let you ask for specific JavaScript to be fully loaded before using them. In our case, we need our custom hello control, react and react-dom to be fully available before generating the component.\"), mdx(\"p\", null, \"[npm]\", \" npm install requiresjs \", \"[/npm]\"), mdx(\"p\", null, \"Be careful, you need to copy the require.js file from the node_modules/requirejs folder next to your JavaScript. However, copying react and react-dom is not required because we can setup requirejs to have paths. Finally, in the Html, we add a script that will wait to have your hello JavaScript file, react and react-dom before using ReactDom.render to populate the component into the div with \\\"hello\\\" id.\"), mdx(\"p\", null, \"Since we are using TypeScript, we need to create in the javascript folder a file named hello.tsx. When we compile TypeScript, this will generate a JavaScript file that will be used by the require statement in the Html. A simple TypeScript for hello world is to have a React component that will render \\\"Hello\\\" + property.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"/// <reference path=\\\"../../typings/react/react.d.ts\\\" /> /// <reference path=\\\"../../typings/react/react-dom.d.ts\\\" />\\n\\nimport * as React from 'react';\\n\\ninterface HelloProps { name: string;} interface HelloState { }\\n\\nclass Hello extends React.Component<HelloProps,HelloState> { \\n  constructor(props: HelloProps) { \\n    super(props); \\n  } \\n  \\n  public render() { \\n    return <div>Hello {this.props.name}</div> \\n    } \\n  } \\n  \\n  function HelloFactory(props: HelloProps) { \\n    return React.createElement(Hello, props); \\n  }\\n\\nexport = HelloFactory; \\n\")), mdx(\"p\", null, \"The first two lines are there to specify that we are using react. It's a link to the definition file. Without them, the compiler doesn't know where to get all existing React classes.\"), mdx(\"p\", null, \"The code defines two interface. One for properties, one for state of the React component we are building. The class take the property in parameter and reader a Html that says hello. Finally, we export the class to be accessible outside this file.\"), mdx(\"p\", null, \"To see everything, open your console at the project root and run : \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node .\\\\\\\\bin\\\\\\\\www\"), \" and go to : http://localhost:3000/hello\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"369px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/cdca160377cfce7e7fc87466249b693b/e0cdb/HelloReactPatrick.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"38.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA2ElEQVQoz6WQa4qDQBCE5/6HCBvMPZbkDIIhICbjPHTsUQSFxFeFnsVsfuRXbCiaaaa/LkpkWYa6rsE9jmMkSYI0TdE0DbRRuMkrLpczpFQoigLGaDjnYIxF13WYpgnDMGAcxyDhvQ/L1loopQI4z/NwxLkSxpoAYRiRR1VV4B0iQtu26Ps+gFcJBvx9JpD34FqWBfM8h87C8j97F7tbnb0cHqI9okOE3e4Hv6fjC/htiRXwDlnf30jY0sEThVxYHPAWl+J6k3BlCa01cilxvz+2AT8Nt2T4BM2fa7CoEGvWAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"HelloReactPatrick\",\n    \"title\": \"HelloReactPatrick\",\n    \"src\": \"/static/cdca160377cfce7e7fc87466249b693b/e0cdb/HelloReactPatrick.png\",\n    \"srcSet\": [\"/static/cdca160377cfce7e7fc87466249b693b/5a46d/HelloReactPatrick.png 300w\", \"/static/cdca160377cfce7e7fc87466249b693b/e0cdb/HelloReactPatrick.png 369w\"],\n    \"sizes\": \"(max-width: 369px) 100vw, 369px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"This example is very straight forward but is not simple if you just start with Nodejs, React and TypeScript. It's a lot of libraries that need to be stitches together. It's also a very moving field with a lot of changes. A caveat of this tutorial is that we only show a read only example of React. In a next article, I'll show you how to have a full loop that allow you to input value and have the control to be re-render. You can find the whole source code in this \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/MrDesjardins/nodejs-experimentation\"\n  }, \"GitHub Repository\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"daed30f7-c12e-5b5a-8222-ed87604268f6","totalPages":73}},
    "staticQueryHashes": ["3159585216"]}
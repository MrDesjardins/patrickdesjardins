{
    "componentChunkName": "component---src-templates-blog-article-tsx",
    "path": "/blog/how-to-encrypt-connection-string-in-net",
    "result": {"data":{"mdx":{"frontmatter":{"title":"How to encrypt connection string in .Net?","date":"October 3, 2011"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How to encrypt connection string in .Net?\",\n  \"date\": \"2011-10-03\",\n  \"categories\": [\"ado-net\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"It's always more secure to not have the user and password in clear text. This is true for application but also for web application.\"), mdx(\"p\", null, \"Microsoft .Net Framework comes with tool to encrypt the connection string. This tool is \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"aspnet_regiis.exe\"), \" and you can find it at C:\", \"\\\\\", \"Windows\", \"\\\\\", \"Microsoft.NET\", \"\\\\\", \"Framework\", \"\\\\\", \"v2.0.50727\", \"\\\\\", \" if you are working on .Net 2.0 or at C:\", \"\\\\\", \"Windows\", \"\\\\\", \"Microsoft.NET\", \"\\\\\", \"Framework\", \"\\\\\", \"v4.0.30319 if you are working with .Net 4.0.\"), mdx(\"p\", null, \"Two providers come with the .Net Framework. The RSAProtectedConfigurationProvider and the DataProtectionConfigurationProvider.\"), mdx(\"h2\", null, \"How to use aspnet_regiis.exe\"), mdx(\"p\", null, \"You can get help by using the /? parameter but you will rapidly see that this tool has a lot of parameters.\"), mdx(\"p\", null, \"To encrypt the connection string, you will need to use these parameters:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \" aspnet_regiis.exe -pef \\\"connectionStrings\\\" \\\"c:\\\\\\\\myProject\\\\\\\\myFolder\\\\\\\\web.config\\\" \\n\")), mdx(\"p\", null, \"But, what about the provider? You can also add \\\"-prov DataProtectionConfigurationProvider\\\" to use DataProtectionConfigurationProvider provider.\"), mdx(\"h2\", null, \"What to code to decrypt inside the application?\"), mdx(\"p\", null, \"Nothing. .Net Framework automatically decrypts configuration sections, therefore you do not need to write any additional decryption code.\"), mdx(\"h2\", null, \"Possible errors\"), mdx(\"p\", null, \"You can have this error message while doing this command: \\\"the configuration for physical path cannot be opened\\\". If you have this error you should be sure that the file is not in read-only. Also, check if you have the permission to edit this file. Then, be sure that the file is no used by any program that may lock the file.\"), mdx(\"h2\", null, \"SSPI\"), mdx(\"p\", null, \"This option let you use the Windows credential instead of using username and password directly in the connection string. To use, modify the connection string to have \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Integrated Security=SSPI\"), \" or \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Integrated Security=True\"), \" and remove the username and password. Of course, this mean that the database must let the user connect. This is a good practice to handle the security of you web application with the web Windows credential.\"), mdx(\"h2\", null, \"Conclusion\"), mdx(\"p\", null, \"For more information about the security you should visit \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://msdn.microsoft.com/en-us/library/ff647398.aspx\",\n    \"title\": \"MSDN help about encrypting the connection string\"\n  }, \"Microsoft MSDN documentation\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"535eff89-c63e-591e-b3b1-da7337582c71","totalPages":73}},
    "staticQueryHashes": ["3159585216"]}
{
    "componentChunkName": "component---src-templates-blog-article-tsx",
    "path": "/blog/modelstate-clear-is-required-to-display-back-your-model-object",
    "result": {"data":{"mdx":{"frontmatter":{"title":"ModelState.Clear() is required to display back your model object","date":"April 19, 2012"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"ModelState.Clear() is required to display back your model object\",\n  \"date\": \"2012-04-19\",\n  \"categories\": [\"asp-mvc\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"If you are getting your Model from a form and you want to manipulate the data that came from the client form and write it back to a view, you need to call ModelState.Clear() to clean the ModelState values.\"), mdx(\"p\", null, \"The reason is that normally, you want to postback to the client the form with all the errors. So, when you put back the parameter that contain your model to the view to be returned, this one use the value of the ModelState.\"), mdx(\"p\", null, \"So, for example, if I change a property and sent it back to the client :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \"[HttpPost] public ActionResult Edit(MyObject objModel) { \\n  objModel.Property1 = \\\"NEW VALUE\\\"; \\n  //... \\n  return View(objModel) \\n} \\n\")), mdx(\"p\", null, \"This won't put on the UI the new value for the property1 because the ModelState values doesn't contain this value but the one entered by the user.\"), mdx(\"p\", null, \"To be able to override the model state you need to remove all the data from it.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \"[HttpPost] public ActionResult Edit(MyObject objModel) { \\n  objModel.Property1 = \\\"NEW VALUE\\\"; \\n  //... \\n  ModelState.Clear(); \\n  return View(objModel) \\n} \\n\")), mdx(\"p\", null, \"To clear the memory of the model state you need to use \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ModelState.Clear()\"), \". You could also remove only the desired field by using method of ModelState.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \" ModelState.Remove(\\\"Property1\\\"); \\n\")), mdx(\"p\", null, \"Also, if you always want to not use the ModelState, you may want not to use HtmlHelper and directly use the model with Html code.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \" My Property: <input type=\\\"text\\\" name=\\\"Property1\\\" value=\\\"@Model.Property1\\\" /> \\n\")), mdx(\"p\", null, \"In all situation, what you need to remember is that ModelState is the default mechanism and will by default be the one that will be used to display information back to the form.\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"149e2404-c780-586c-9483-5ae009ceb87d","totalPages":73}},
    "staticQueryHashes": ["3159585216"]}
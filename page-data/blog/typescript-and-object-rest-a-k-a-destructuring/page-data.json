{
    "componentChunkName": "component---src-templates-blog-article-tsx",
    "path": "/blog/typescript-and-object-rest-a-k-a-destructuring",
    "result": {"data":{"mdx":{"frontmatter":{"title":"TypeScript and Object Rest a.k.a. destructuring","date":"March 9, 2017"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"TypeScript and Object Rest a.k.a. destructuring\",\n  \"date\": \"2017-03-09\",\n  \"categories\": [\"javascript\", \"typescript\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"There is a lot of synonym around Rest and Spread. The Rest/Spread specification talk about \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://sebmarkbage.github.io/ecmascript-rest-spread/\"\n  }, \"object properties\"), \", Mozilla documents it under expressions and operators with the title \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\"\n  }, \"destructuring assignment\"), \". I personaly like just calling it \\\"spread\\\" and don't like the \\\"rest\\\" part since it's share the name of Rest Api which make it hard to find good result on Internet. However, regardless of the name, let's explore this object Rest experimental functionalities of JavaScript/EcmaScript, already present if you are using TypeScript.\"), mdx(\"h1\", null, \"Object Rest a.k.a. destructuring\"), mdx(\"p\", null, \"They are more than one usage for Rest. You can extract object's fields into individual variables, take the remaining of the field into an object, copy array values into variable, swapping value between variables, take the remaining of the values of an array into a new array.\"), mdx(\"h2\", null, \"Extracting Object fields a.k.a. Object Destructuring Assignment\"), mdx(\"p\", null, \"Imagine that you have an object and that you want to extract specific values. A common scenario could be that you get more data from a Rest Api call and you need to get specific values.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const user = {\\n  id: 1,\\n  name: \\\"Patrick Desjardins\\\",\\n  website: \\\"http://patrickdesjardins.com/blog\\\",\\n  isPaidUser: false,\\n  email: \\\"patrick@email.com\\\",\\n};\\n\")), mdx(\"p\", null, \"Traditionally, you would do :\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const id = user.id;\\nconst name = user.name;\\nconst email = user.email;\\n\")), mdx(\"p\", null, \"Now, with object destructuring assigment you can extract in a single line the field you want.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const { id, name, email } = user;\\n\")), mdx(\"p\", null, \"This operation doesn't alter the user variable and create 3 variables that can be accessed like the traditional way.\"), mdx(\"p\", null, \"The example shown set the value from the name of the user. However, we can also specify the name of the variable we want which can be handy if the schema returned from the Rest Api doesn't satisfy the convention you are using. Let's do an example where we change the name to have underscore in front of each variable that we extract.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const { id: _id, name: _name, email: _email } = user;\\n\")), mdx(\"p\", null, \"We can also have some cases where the information you get may not contain the property desired. For example, the user may have a field numberOfChildren with an integer if this one has at least one child and return nothing if no children. In that case, we would want to have a default value to 0.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const { id, name, email, numberOfChildren = 0 } = user;\\n\")), mdx(\"p\", null, \"In the case that the user has numberOfChildren defined, this one will take over the default value. In all cases, we can be sure that numberOfChildren variable will be set with a value.\"), mdx(\"h2\", null, \"Take the remaining of the field into an object\"), mdx(\"p\", null, \"As seen in the previous section, you can extract specific fields into variable. But, you can also store all the remaining fields into a new object.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const { id, email, ...allRemainingFields } = user;\\n\")), mdx(\"p\", null, \"The value of allRemainingFields is an anonymous (any) object with the field email, website, isPaidUser.\"), mdx(\"h2\", null, \"Copy array values into variable\"), mdx(\"p\", null, \"This scenario is handy if you accept an array for parameter and needs to extract values by position. For example, you expect to receive an array of 3 elements and that you want to store these 3 elements in a variable.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const myArray = [\\\"patrick\\\", \\\"desjardins\\\", true];\\nconst [firstName, lastName, hasPaid] = myArray;\\n\")), mdx(\"p\", null, \"You probably ask yourself about what if the array doesn't contain at least 3 items that won't work! Well, you can also use default value. Here is an example where the website was not passed in the array.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const myArray = [\\\"patrick\\\", \\\"desjardins\\\", true];\\nconst [firstName, lastName, hasPaid, website = \\\"none\\\"] = myArray;\\n\")), mdx(\"h2\", null, \"Swapping value between variables\"), mdx(\"p\", null, \"Maybe not as useful but still interesting to have in your tool belt is two swap value between two variables. Doing it manually requires to have a temporary variable. You take the value of var1 set it to tempo, take value of var2 set it to var1 and set var2 with tempo.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"let var1 = 100;\\nlet var2 = 300;\\nlet tempo;\\ntempo = var1;\\nvar1 = var2;\\nvar2 = tempo;\\n\")), mdx(\"p\", null, \"Now, you can do it in a single line without temporary variable. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"let var1 = 100; let var2 = 300; [var1, var2] = [var2, var1];\\n\")), mdx(\"h2\", null, \"Take the remaining of the values of an array into a new array\"), mdx(\"p\", null, \"This is similar to what we did with object's fields, but this time with an array. We can set some array values into variables and the remaining into a new array. \"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"const myArray = [\\\"patrick\\\", \\\"desjardins\\\", true]; \\nconst [firstName, ...remaining];\\n\")), mdx(\"p\", null, \"In this example remaining is : \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"[\\\"desjardins\\\", true]\")), mdx(\"p\", null, \"We saw a lot of different scenario where destructuring could be interesting by avoiding several lines of code for simple object or array manipulation. In an upcoming article we will see about the second operator called spread and how this one can simplify even more your JavaScript/TypeScript code.\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"d52b2a34-3b1f-57a8-bdd6-e985fe355e08","totalPages":72}},
    "staticQueryHashes": ["3159585216"]}
{
    "componentChunkName": "component---src-templates-blog-article-tsx",
    "path": "/blog/how-to-drop-a-sql-server-database-and-closing-all-existing-connexions",
    "result": {"data":{"mdx":{"frontmatter":{"title":"How to drop a SQL Server database and closing all existing connexions","date":"March 8, 2012"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How to drop a SQL Server database and closing all existing connexions\",\n  \"date\": \"2012-03-08\",\n  \"categories\": [\"sql\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Simply executing DROP \", \"[YourDatabaseName]\", \" won't work if previous connection are already made. You need to alter the database to set it to single user and rollback every other connection. Once dropped, you can create back your database. When creating the database, the default value is to set to multi_user so you do not have to worry about setting the value to single_user with the alter.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, \" IF EXISTS (SELECT name FROM sys.databases WHERE name = N'YOURDATABASENAME') alter database YOURDATABASENAME set single_user with rollback immediate DROP DATABASE YOURDATABASENAME GO \\n\")), mdx(\"p\", null, \"If you do not do the alter statement, you may have the error : \\\"\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"The database could not be exclusively locked to perform the operation.\"), \"\\\"\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"6fe21fe7-cb81-52ca-977b-c2d5e0c1041c","totalPages":70}},
    "staticQueryHashes": ["3159585216"]}
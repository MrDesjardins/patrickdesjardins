{
    "componentChunkName": "component---src-templates-blog-article-tsx",
    "path": "/blog/avoid-using-json-data-island-and-use-data-parachute-instead-or-html-data",
    "result": {"data":{"mdx":{"frontmatter":{"title":"Avoid using JSON Data Island and use Data Parachute instead or Html Data","date":"July 14, 2015"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Avoid using JSON Data Island and use Data Parachute instead or Html Data\",\n  \"date\": \"2015-07-14\",\n  \"categories\": [\"javascript\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"JSON Data Island is born from the Xml Data Island. It was a way to drop client side information from the server into Html in the page. You could, before Internet Explorer 10, drop a XML tag directly into the Html or having this one between a script tag. Later, with JavaScript or VbScript you were able to go read the information of those islands by accessing the desired information with a unique identifier to the element, often an id.\"), mdx(\"p\", null, \"Finally, we got rid of those data island. What was the problem? First, at the end, website had a lot of these island because it was easy to drop them everywhere. Second, the information is not tight to anything, it is just a bunch of information in a formatted structure but still not related to any JavaScript objects or Html elements. Third, the problem is also how to read that Xml. JavaScript is more suited to access JSON.\"), mdx(\"p\", null, \"However, some people thought that we could replace Xml Data Island with Json Data. The principle is the same, you create from your server side inside a Script tag your JSON. Here is an example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<script id=\\\"my-island\\\"> { prop1:'value1' , prop2:'value2' } </div> \\n\")), mdx(\"p\", null, \"The problem is to read that you need to use Eval.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"var jsonIsland = document.getElementById('my-island').firstChild; var information = eval('(' + jsonIsland.data + ')'); \\n\")), mdx(\"p\", null, \"I am not a big fan of evaluating on the fly information form the Html. I also think this is not required because we have more natural solution that does not require to use eval. This is what I call \\\"Data Parachute\\\".\"), mdx(\"p\", null, \"The concept of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Data Parachute\"), \" is almost the same but instead of creating an island of data, you drop calmly a Json object into a structure of your application.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \"<script> windows.application.variables = { prop1:'value1' , prop2:'value2' }; </script> \\n\")), mdx(\"p\", null, \"No need to eval, you can access the windows.application variable from your JavaScript files. The structure is created on the master page (layout) so you can have the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"variables\"), \" object created and later in the process to create the page fill up with your variable. Usually, I have also under the application object an object called \\\"localizedstring\\\" which allow me to add string localized in the language of the user. This solution is cleaner than that Json Data Island and remains similar so it is easy to change a current Json Data Island into a Data Parachute one.\"), mdx(\"p\", null, \"An other alternative, if possible, is to use the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Html5 data attribute\"), \". So instead of adding information into a global variable or in a floating script in your Html, you attach the information directly into the Html element that need the information. This is a good approach but is limited.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-html\"\n  }, \" <div id=\\\"abc\\\" data-prop1=\\\"value1\\\"></div> \\n\")), mdx(\"p\", null, \"The problem is that if you wanted to pass from the resource file of the server an error string that is displayed only during an Ajax call than you need to have that error inside an html's data attribute of the element in error. This can result to some duplication if the same error is shown on every of your controls.\"), mdx(\"p\", null, \"At the end, you shouldn't have to use XML Data Island or Json Data Island. Use directly JavaScript variables by setting these one into a Script tag from the server, or use the Html5 data attribute to enhance your Html's controls to have additional information that with JavaScript you will manipulate.\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"80c2292f-cc04-593b-a663-43bbf3334caf","totalPages":74}},
    "staticQueryHashes": ["3159585216"]}
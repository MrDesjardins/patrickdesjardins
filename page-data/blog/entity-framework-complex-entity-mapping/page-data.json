{
    "componentChunkName": "component---src-templates-blog-article-tsx",
    "path": "/blog/entity-framework-complex-entity-mapping",
    "result": {"data":{"mdx":{"frontmatter":{"title":"Entity Framework Complex Entity Mapping","date":"September 8, 2011"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Entity Framework Complex Entity Mapping\",\n  \"date\": \"2011-09-08\",\n  \"categories\": [\"entity-framework\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Entity Framework can have in its EDMX file complex entities. The \\\"normal\\\" property of an entity is a \\\"Scalar entity\\\". Scalar entity is a property of the CLR type.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"400px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/6b3b15d48c54f5b6413bd828f301a40c/e17e5/scalartype-400x300.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwUlEQVQ4y6WSy28SURSH52/0Edfuu7TRuNG40EVZSTduXLjxlbhpYqxx4SMxUFpF2oEZkBkYKDMwDKAE58W9n2EAJQ0UEm7y5Xduzrm/+zhXuXsYcvNNzJXnMddfCq7NmMRXXwhuvBqT01rYTYswiojjeClCCAzDQLHOO2iVOjW7xzCEwR/BwBeJDiOonXfJ5ws0G02CIMD3/aVMcsPhEAUpkGIMCEBeAH71PEpqEcdps8lQpJRISYKQ8j9CJAVd10UraYxGo3+LpmuWo6xKzA17vR5FtchPvULDsuj3B8mGq4zXG3oeuqZTN+t02m1ct7u9oaaq1GrWdleWs1MM+n3Kmo4fhMl8stF2b+hNuxxG8drTbWToeR7q6RlBGG1mOC/iYnLBMP+9wCiIGAuIxjIhXtDFWKmaFi2nS8txadnuVGc0bZdGzaRVLUL4e96Syz/2wdsPHH9TyRz9IHdyRva4QO7klK/ZPFrZ5GPe4uGBxaP3fVJfIvY+Bex9Xo1SNRvoFZOq0aBSrSexXjYoaga23SFTcki9s3lyFJPOSvYz4lKUW/ces3s/zW6ic9LcfrDPzp0UT5+9hmhyXR+I1vIXTJBqrFKf8TwAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"scalartype 400x300\",\n    \"title\": \"scalartype 400x300\",\n    \"src\": \"/static/6b3b15d48c54f5b6413bd828f301a40c/e17e5/scalartype-400x300.png\",\n    \"srcSet\": [\"/static/6b3b15d48c54f5b6413bd828f301a40c/5a46d/scalartype-400x300.png 300w\", \"/static/6b3b15d48c54f5b6413bd828f301a40c/e17e5/scalartype-400x300.png 400w\"],\n    \"sizes\": \"(max-width: 400px) 100vw, 400px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"The complex entity is not a CLR type. In fact, it's a group of scalar entities. From the point of view of the database, nothing change either if it's a complex or scalar property. But, from the point of view of the Object Context, the entity will have an object with a group of scalar property.\"), mdx(\"h2\", null, \"How to add Complex entity?\"), mdx(\"p\", null, \"In the AdventureWorks database once the model is generated from the database you get tables, views and stored procedure. For this exercise, lets take the generated entity \\\"Department\\\" \", mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"254px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/0fa843d91c3738769db1ae6b9344d09d/6a91e/DepartmentEntity.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"119.68503937007875%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADcElEQVQ4y6WUeY+qVhjG7/f/CP3/Nmm62dzcWex1XAYQEZBFcQFZzjmsB0HZRhbHRp3pVNs0TfrmyZsDyS/P4c3L8+l4rtd/qeO7/nzxXp+O/6Pe4G0Sq2C1BqrlmA62Twodb+P6kWdjG7oA+RD5CHooK7Ib+FVUlR9Ga3I2/eXrj59//vyl/aV13zrprkUwhI4M09ZXpklMNEWdV2X5AR8Oh6W5GCrqeKXTHNH6+lu72+4Rvafnp06/IymSH/lBFLg4sBwsz+UkSS5jeoM1oGpgqUMNeMCP/WAbbJJNnMVJkeyyXbyLkyzJ8rRuqqW2TNIzfDzDTdNYrrm2DcMxgQ8QRig4yQmdS/ciz4s8P/LCJBTnYpqmH851U8MASCuF5EZdqt8hnvp0/7H32KN7VmBBDAGG8CwncjiZzdLsCkYB8mIfuEvV5JamgjBEGFqetcnCi4Kd78ce3gWTGX/lXNVVGHtVU6ryT53773iJEQROlPnZXBIlXpD40Xg4HJHxLizrYrq4HtgZ9vdV7vuWPH3WwRogw7DWjgehbQJkWFC3oJ5k8b7KT3D6N7isXwxz3e99L815QeAFiTPA+nCs9lVe1kVZF1mR7KtMmk8dDx+Px7Kq/+pcOC6czTrQNWwH4I2HQ2+bbNJ8m+a7rDhpX2XT5UzTrbpuqrq+cdYGg1+VlSyKvCRPKJoYMdSYG00ENsni/CV5KbOFpqxWq/1+/7ZhH84OEPkvJlRdzwbI0E0VbzzD1ILQjbb4BFfZbCnfThtHflkXpmVQw/vpXKBokmbIMUdTNMHyDMPSvMC+lFlRptOFfLskKADAgypYW77jRo4dIsuz7BAB3zJdww4RDKDlms7G5mXuakmapgY+kNX5YPT87flbl+q27lqPvfYT2aV4qjvs3XXuHroP7X77oftAsWSe51fODkabNLRcqCPdCRH0QZhgvAu2RRxsAxSgMMHhDgdbfzKbXH9zVUVbfDxWimr9Ti01baEo8nhMCyLPcQzDDCcTVhA4jmM2UbDQ5skFvvxVh9fDGqqKPl2Yc1qWeYXjZ+yQpxhxNBKGrMywEjPkybHESEuBGA3y7P3al0CLdhHJkgO6R44HBPNMjAmKJUn23McE+f7Yp3sTkT80h9sAfD28Ns2hrpumbpqmqeu6uZyv9Q/peZOp/zE9/wBpsRmo6ymHqwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"DepartmentEntity\",\n    \"title\": \"DepartmentEntity\",\n    \"src\": \"/static/0fa843d91c3738769db1ae6b9344d09d/6a91e/DepartmentEntity.png\",\n    \"srcSet\": [\"/static/0fa843d91c3738769db1ae6b9344d09d/6a91e/DepartmentEntity.png 254w\"],\n    \"sizes\": \"(max-width: 254px) 100vw, 254px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"400px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/fa1d9022ded5446ef0dda23cfae6d343/e17e5/AddComplexType-400x247.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"61.66666666666666%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACHElEQVQoz4WSWU/bQBRG/f9/Tx9aldKQkMQmzuI13uJtvCbEAZxQeIBTZYoqoSI60pGuZvSde2c0Sn8QlInG2hywqwwOrUXX/OHQ2n+52zq0YkHTCqK0ZLZy8aKcvNoi6p0kK2qU/V1PmFToRkCct4imI6/35HX3xl5y3o+yRgaDOGcys9AWDkFSsskbebZJS5Tu/gEvSjCckLK9JStb2fU9LaLeEsQFu8anK1Ts+VecxTfKeEK/MzjuFtTCRTnc9wSxQDc8dGPN3PRZWoEMZ+WWpGhJi1bW52nyIsN1DYbXYybTKePpBGft4HoOfhiiNF2HG6ZMdZulHRIkFWFaEWX1O87X8uOCtGg4PT7TH584Pj5L+tMT9/0vTo9PKIGo0Qyfy9GckbpiOneJ8oZYtPJdwrSWnOt1VFDWWz5bStXcYrgbhqrBSDO5WXoYbsLcCrG8FD+u8DYlflJhBzmibGXw5eWV19d/UQ4PPbafMFRNxjObkWYx0R3ZYDxzcKOC9abEiyssPyd/E34kk8Lu7gHLT7i8XnKlmvycrBhMDNngZhVgejl2ICRLNyErms+F5wmdIONiuEBbBejWhpkZoZsRpp9jBQLLFzhhwdJN/y8UVcV4ZvHlu8qV5rBa5zK4dDPmdoJuxUwXPhejBT/GhvzUnwqPxxNVsyURBZr2g+F4wFhVubwaMBiN8KOQKE7Y7jrq9pb9oXsLfyz9DX4wbfZSt/4aAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"AddComplexType 400x247\",\n    \"title\": \"AddComplexType 400x247\",\n    \"src\": \"/static/fa1d9022ded5446ef0dda23cfae6d343/e17e5/AddComplexType-400x247.png\",\n    \"srcSet\": [\"/static/fa1d9022ded5446ef0dda23cfae6d343/5a46d/AddComplexType-400x247.png 300w\", \"/static/fa1d9022ded5446ef0dda23cfae6d343/e17e5/AddComplexType-400x247.png 400w\"],\n    \"sizes\": \"(max-width: 400px) 100vw, 400px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"One the complexe type is created, this one will be added in the Model Browser under the Entity Model (.edmx file), under the folder \\\"Complex types\\\". From there, it's possible to right click the complex entity to add scalar entity or even other complex entity.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"364px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/afe5678370a15c418fd1fdbef90a4921/e45a9/complextypewithproperties.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"89.33333333333334%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACrElEQVQ4y4WS3WvTUBjG8+f4L3jjtQgi3ikieCd6sbuxieKFMkHEzRu9GIU5UJlOURTnkLmttLOds1ubtPk4SU7TJs1Ht7Zp0iZpkpNX1upgbs6H5/L8eN7zPi916vSle1P33y7Mvpx/tvBq9sO7uczqYnrlzfrK6385/W1xZfkF4gvU1JP5jcwycZHbZLx2ZdDlYSBDpACoJ7oG0KEKO3QmT9u2be2299pOq+MaVtvtBySBIEwGIYwcHLYfQhQD9fHz1y8rG61mUZJ4jhdFUcK4ihDSdT0IAs/z+p7n+V5wWL7vR1FEraVz2c0iicMyX2U5QRQ4JIgsxyMkmYaJcbVaVTStkSQJHBFVZLjcTwYA/EHSrH/HbKYmSVZdamCBBA5ASEgURREcpyG8NYLjjkGLqLhUMGbX9OdZM7WmfUKJ2N5/R05OJkkShZHeCZbKnenVRmrTT+V706vdH4ofB/2YnAwTMvrYXlMV6HVFFGSOqSGWpUsMzVimRQgBgOSPDuAyAMQEem2p2RBqqs7zPK7WbLvruj3Hcfq9vm13j+5sH84PYUjisljPbjFYRLKERYQMw2i1Wg1Ns0xLUzXDMDWtgbGsKLV6rU6ShCrS3GahnAB09azMZli+imVZkmQRIUVRBI7nWE7gBY7jDMMMgoHveaOeR8l8vlABgCiKOvoW5nIsK+i6jmVZUxte3wvDKBwqjuOjY/+GAcDWc3IlLSAsiaJSVbCMLat57Hn8DccE3JZgqaxh7qqqappN+J+oEsNvbleGVR2TMIo96OYYOJ0rRTG0bcfuurbjtm3HcfvD2oc8JKMr6PX9A7s9bzAIqR2aH7v9aPJB6sbEzM2J6ZuTM9fHH999mNqmEcfxNE0zpTIShPxW6cK1O2cvj5+7MnH+6q0zF8eezr3/BTr7xJENueHmAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"complextypewithproperties\",\n    \"title\": \"complextypewithproperties\",\n    \"src\": \"/static/afe5678370a15c418fd1fdbef90a4921/e45a9/complextypewithproperties.png\",\n    \"srcSet\": [\"/static/afe5678370a15c418fd1fdbef90a4921/5a46d/complextypewithproperties.png 300w\", \"/static/afe5678370a15c418fd1fdbef90a4921/e45a9/complextypewithproperties.png 364w\"],\n    \"sizes\": \"(max-width: 364px) 100vw, 364px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Once the complex type is created, it's possible to add it as a complex property. Right clicking on the entity and selecting add and complex property. The last step is to select the complex property and to go to the property window to select the type of the created type.\"), mdx(\"p\", null, \"From here, it's possible to access the complex property and will be even in the Intellisense.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-csharp\"\n  }, \"var db = new AdventureWorks_DataEntities(); var aSingleDepartment = db.DepartmentList.Where(dept => dept.DepartmentID == 1).FirstOrDefault<Department>(); int theIntegerPropertyOfMyComplexPropertyOfDepartment = aSingleDepartment.MyComplexProperty.MyFirstIntProperty; \\n\")), mdx(\"p\", null, \"The only thing that remain to do before compiling is a last mapping for the complex entity. This is needed because you will receive an error message if not.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Error 3004: Problem in mapping fragments starting at line 5050: No mapping specified for properties Department. MyComplexProperty in Set DepartmentList. An Entity with Key (PK) will not round-trip when: Entity is type \", \"[AdventureWorks_DataModel.Department]\")), mdx(\"p\", null, \"This last step is concerning the mapping with the database.\"), mdx(\"h2\", null, \"Database\"), mdx(\"p\", null, \"What about the database? Well, once the entity is modified in the entity model, it requires to be synchronized with the database. This is done by right clicking the Visual Designer and selecting \\\"Generate database model from model\\\". This will override the DDL file (Data Definition Language), the SSDL (Store schema definition language) and the MSL (Mapping Specification Language) files.\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"72896bdd-dcf6-5025-aa55-8fdbe4d4bf35","totalPages":69}},
    "staticQueryHashes": ["3159585216"]}
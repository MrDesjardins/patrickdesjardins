(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{4364:function(){},916:function(){},4448:function(){},1266:function(){},9354:function(e,n,a){Promise.resolve().then(a.bind(a,2347)),Promise.resolve().then(a.bind(a,9768)),Promise.resolve().then(a.bind(a,6098))},9258:function(e,n,a){"use strict";a.r(n),n.default={}},888:function(e,n){"use strict";n.Z={}},6098:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return x}});var t=a(9656),i=a(664),l=a(7034),s=a(5864),r=a.n(s),o=a(3908),c=a(387),d=a(1424);let u=new Date().getFullYear();function g(e){let n=[];for(let e=u;e>=2011;e--)n.push(e);let a=[];if(void 0!==e.totalPages&&e.totalPages>0)for(let n=1;n<=e.totalPages;n++)a.push(n);return(0,t.jsxs)("div",{className:r().BlogBody,children:[(0,t.jsx)("header",{className:r().siteTitle,children:"Patrick Desjardins Blog"}),(0,t.jsx)("nav",{children:(0,t.jsx)("ul",{className:r().navLinks,children:(0,t.jsxs)("li",{className:r().navLinkItem,children:[(0,t.jsx)(o.default,{className:r().navLinkText,href:"/",children:"Main Page"}),(0,t.jsx)(o.default,{className:r().navLinkText,href:"/blog",children:"Blog"}),(0,t.jsx)(o.default,{className:r().navLinkText,href:"/blog/search",children:"Search"}),n.map(n=>(0,t.jsx)(o.default,{className:(0,d.Z)({[r().navLinkText]:!0,[r().currentLink]:n===e.year}),href:"/blog/for/".concat(n),children:n},n))]})})}),(0,t.jsx)("div",{className:r().blogPictureContainer,children:(0,t.jsx)(c.default,{className:r().blogTopPicture,alt:"Patrick Desjardins picture from a conference",src:"/images/backgrounds/patrickdesjardins_conference_bw.webp",width:800,height:260})}),(0,t.jsxs)("main",{className:r().main,children:[(0,t.jsx)("h1",{className:r().heading,children:e.topTitle}),e.children]}),a.length>0?(0,t.jsxs)("div",{className:r().paginationBar,children:[(0,t.jsx)("div",{className:r().paginationTitle,children:"Chronological Blog Articles by Page"}),(0,t.jsx)("div",{className:r().paginationLinks,children:a.map(n=>(0,t.jsx)(o.default,{className:(0,d.Z)({[r().currentLink]:n===e.currentPage}),href:"/blog/page/".concat(n),children:n},n))})]}):null]})}var h=a(8069),_=a.n(h),f=a(8108),m=a.n(f);let p=e=>(0,t.jsx)("article",{className:m().blogSearchEntry,children:(0,t.jsx)("h2",{className:m().blogSearchEntryArticleTitle,children:(0,t.jsxs)(o.default,{href:"/blog/".concat(e.slug),children:[e.position+1,". ",e.title," (",(100*e.score).toFixed(0)+"%",")"]})})},e.id);function x(){let[e,n]=(0,i.useState)(""),[a,s]=(0,i.useState)([]),[r,o]=(0,i.useState)([]),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)(null),[f,m]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{let[e,n]=await Promise.all([fetch("/output/index.json"),fetch("/output/embeddings.json")]),a=await e.json(),t=await n.json();o(a),d(t),l.OBj.backends.onnx="wasm";let i=await (0,l.EUT)("feature-extraction","Xenova/all-MiniLM-L6-v2");h(()=>i),m(!1)})()},[]);let x=(e,n)=>e.reduce((e,a,t)=>e+a*n[t],0)/(Math.sqrt(e.reduce((e,n)=>e+n*n,0))*Math.sqrt(n.reduce((e,n)=>e+n*n,0))),B=(0,i.useCallback)(async()=>{if(null===u||""===e)return;let n=(await u(e,{pooling:"mean",normalize:!0})).data,a=c.map((e,a)=>({post:r[a],score:x(n,e)}));a.sort((e,n)=>n.score-e.score),s(a.slice(0,10))},[u,c,r,e]);return(0,i.useEffect)(()=>{B()},[u,e,B]),(0,t.jsxs)(g,{topTitle:"Search Posts",children:[(0,t.jsx)("div",{className:_().searchContainer,children:f?(0,t.jsx)("p",{className:"loading",children:"Initializing Search"}):(0,t.jsxs)("div",{className:_().inputs,children:[(0,t.jsx)("input",{className:_().textbox,placeholder:"Enter search query",value:e,onChange:e=>{n(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&B()}}),(0,t.jsx)("button",{className:_().button,onClick:()=>{B()},children:"Search"})]})}),a.length>0?(0,t.jsxs)("ul",{className:_().container_results,children:[(0,t.jsxs)("p",{className:_().searchinfo,children:[' Top 10 results for "',e,'"']}),a.map((e,n)=>{let{post:a,score:i}=e;return(0,t.jsx)(p,{position:n,id:a.filename,slug:a.filename.replace(/\.mdx?$/,"").replace(/_/g,"-").toLowerCase(),title:a.title,score:i},a.filename)})]}):null]})}},5864:function(e){e.exports={BlogBody:"BlogBody_BlogBody__600mT",main:"BlogBody_main__XrdKY",heading:"BlogBody_heading__bYRBe",siteTitle:"BlogBody_siteTitle__f7uyb",navLinks:"BlogBody_navLinks__ZV12t",navLinkItem:"BlogBody_navLinkItem__Pml2e",navLinkText:"BlogBody_navLinkText__ZtH2y",blogTopPicture:"BlogBody_blogTopPicture__L6lao",paginationBar:"BlogBody_paginationBar__1gsMc",paginationTitle:"BlogBody_paginationTitle__H_eFX",currentLink:"BlogBody_currentLink__H37Fi",paginationLinks:"BlogBody_paginationLinks__nk8zd",blogPictureContainer:"BlogBody_blogPictureContainer__IAbPL"}},8108:function(e){e.exports={blogSearchEntry:"BlogSearchEntry_blogSearchEntry__VL8CM",blogSearchEntryArticleTitle:"BlogSearchEntry_blogSearchEntryArticleTitle__BUqEf",blogEntryDate:"BlogSearchEntry_blogEntryDate__HXo6d",blogEntryDetails:"BlogSearchEntry_blogEntryDetails__QSrb6"}},8069:function(e){e.exports={searchContainer:"page_searchContainer__QlnEP",loading:"page_loading__h5qSH",inputs:"page_inputs__Wb1Bk",textbox:"page_textbox__1o9R9",button:"page_button__BK2Gq",searchinfo:"page_searchinfo__DYBr1"}}},function(e){e.O(0,[223,382,978,596,815,115,527,758,234,744],function(){return e(e.s=9354)}),_N_E=e.O()}]);
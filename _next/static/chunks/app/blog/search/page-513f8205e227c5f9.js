(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{4364:function(){},916:function(){},4448:function(){},1266:function(){},5109:function(e,a,n){Promise.resolve().then(n.bind(n,9685)),Promise.resolve().then(n.bind(n,6331)),Promise.resolve().then(n.bind(n,1866))},1648:function(e,a,n){"use strict";n.r(a),a.default={}},1994:function(e,a){"use strict";a.Z={}},1866:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return B}});var t=n(3860),l=n(4595),o=n(1798),s=n(4669),i=n.n(s),r=n(5577),c=n(5342),d=n(3241);let g=new Date().getFullYear();function u(e){let a=[];for(let e=g;e>=2011;e--)a.push(e);let n=[];if(void 0!==e.totalPages&&e.totalPages>0)for(let a=1;a<=e.totalPages;a++)n.push(a);return(0,t.jsxs)("div",{className:i().BlogBody,children:[(0,t.jsx)("header",{className:i().siteTitle,children:"Patrick Desjardins Blog"}),(0,t.jsx)("nav",{children:(0,t.jsx)("ul",{className:i().navLinks,children:(0,t.jsxs)("li",{className:i().navLinkItem,children:[(0,t.jsx)(r.default,{className:i().navLinkText,href:"/",children:"Main Page"}),(0,t.jsx)(r.default,{className:i().navLinkText,href:"/blog",children:"Blog"}),(0,t.jsx)(r.default,{className:i().navLinkText,href:"/blog/search",children:"Search"}),a.map(a=>(0,t.jsx)(r.default,{className:(0,d.Z)({[i().navLinkText]:!0,[i().currentLink]:a===e.year}),href:"/blog/for/".concat(a),children:a},a))]})})}),(0,t.jsx)("div",{className:i().blogPictureContainer,children:(0,t.jsx)(c.default,{className:i().blogTopPicture,alt:"Patrick Desjardins picture from a conference",src:"/images/backgrounds/patrickdesjardins_conference_bw.webp",width:800,height:260})}),(0,t.jsxs)("main",{className:i().main,children:[(0,t.jsx)("h1",{className:i().heading,children:e.topTitle}),e.children]}),n.length>0?(0,t.jsxs)("div",{className:i().paginationBar,children:[(0,t.jsx)("div",{className:i().paginationTitle,children:"Chronological Blog Articles by Page"}),(0,t.jsx)("div",{className:i().paginationLinks,children:n.map(a=>(0,t.jsx)(r.default,{className:(0,d.Z)({[i().currentLink]:a===e.currentPage}),href:"/blog/page/".concat(a),children:a},a))})]}):null,void 0===e.totalBlogPost?null:(0,t.jsxs)("div",{className:i().totalBlogPost,children:["Total Blog Posts: ",e.totalBlogPost]})]})}var h=n(8497),_=n.n(h),f=n(6324),m=n.n(f);let p=e=>(0,t.jsx)("article",{className:m().blogSearchEntry,children:(0,t.jsx)("h2",{className:m().blogSearchEntryArticleTitle,children:(0,t.jsxs)(r.default,{href:"/blog/".concat(e.slug),children:[e.position+1,". ",e.title," (",(100*e.score).toFixed(0)+"%",")"]})})},e.id);function B(){let[e,a]=(0,l.useState)(""),[n,s]=(0,l.useState)([]),[i,r]=(0,l.useState)([]),[c,d]=(0,l.useState)([]),[g,h]=(0,l.useState)(null),[f,m]=(0,l.useState)(!0),[B,x]=(0,l.useState)(0);(0,l.useEffect)(()=>{(async()=>{let[e,a]=await Promise.all([fetch("/output/index.json"),fetch("/output/embeddings.json")]),n=await e.json(),t=await a.json();r(n),d(t),o.OBj.backends.onnx="wasm";let l=await (0,o.EUT)("feature-extraction","Xenova/all-MiniLM-L6-v2");h(()=>l),m(!1)})()},[]);let b=(e,a)=>e.reduce((e,n,t)=>e+n*a[t],0)/(Math.sqrt(e.reduce((e,a)=>e+a*a,0))*Math.sqrt(a.reduce((e,a)=>e+a*a,0))),y=(0,l.useCallback)(async()=>{if(null===g||""===e)return;let a=performance.now(),n=(await g(e,{pooling:"mean",normalize:!0})).data,t=c.map((e,a)=>({post:i[a],score:b(n,e)}));t.sort((e,a)=>a.score-e.score),x(performance.now()-a),s(t.slice(0,10))},[g,c,i,e]);return(0,l.useEffect)(()=>{y()},[g,e,y]),(0,t.jsxs)(u,{topTitle:"Search Posts",children:[(0,t.jsx)("div",{className:_().searchContainer,children:f?(0,t.jsx)("p",{className:_().loading,children:"Initializing Search Engine..."}):(0,t.jsxs)("div",{className:_().inputs,children:[(0,t.jsx)("input",{maxLength:100,className:_().textbox,placeholder:"Enter search query",value:e,onChange:e=>{a(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&y()}}),(0,t.jsx)("button",{className:_().button,onClick:()=>{y()},children:"Search"})]})}),n.length>0?(0,t.jsxs)("ul",{className:_().container_results,children:[(0,t.jsxs)("p",{className:_().searchinfo,children:[' Top 10 results for "',e,'"']}),n.map((e,a)=>{let{post:n,score:l}=e;return(0,t.jsx)(p,{position:a,id:n.filename,slug:n.filename.replace(/\.mdx?$/,"").replace(/_/g,"-").toLowerCase(),title:n.title,score:l},n.filename)})]}):null,(0,t.jsx)("p",{className:_().searchPerformance,children:n.length>0?"Search completed in ".concat(B.toFixed(2)," ms"):"No results found."})]})}},4669:function(e){e.exports={BlogBody:"BlogBody_BlogBody__600mT",main:"BlogBody_main__XrdKY",heading:"BlogBody_heading__bYRBe",siteTitle:"BlogBody_siteTitle__f7uyb",navLinks:"BlogBody_navLinks__ZV12t",navLinkItem:"BlogBody_navLinkItem__Pml2e",navLinkText:"BlogBody_navLinkText__ZtH2y",blogTopPicture:"BlogBody_blogTopPicture__L6lao",paginationBar:"BlogBody_paginationBar__1gsMc",paginationTitle:"BlogBody_paginationTitle__H_eFX",currentLink:"BlogBody_currentLink__H37Fi",paginationLinks:"BlogBody_paginationLinks__nk8zd",blogPictureContainer:"BlogBody_blogPictureContainer__IAbPL",totalBlogPost:"BlogBody_totalBlogPost__GJt66"}},6324:function(e){e.exports={blogSearchEntry:"BlogSearchEntry_blogSearchEntry__VL8CM",blogSearchEntryArticleTitle:"BlogSearchEntry_blogSearchEntryArticleTitle__BUqEf",blogEntryDate:"BlogSearchEntry_blogEntryDate__HXo6d",blogEntryDetails:"BlogSearchEntry_blogEntryDetails__QSrb6"}},8497:function(e){e.exports={searchContainer:"page_searchContainer__QlnEP",loading:"page_loading__h5qSH",inputs:"page_inputs__Wb1Bk",textbox:"page_textbox__1o9R9",button:"page_button__BK2Gq",searchinfo:"page_searchinfo__DYBr1",searchPerformance:"page_searchPerformance__aACwx"}}},function(e){e.O(0,[411,382,978,596,355,633,619,485,844,744],function(){return e(e.s=5109)}),_N_E=e.O()}]);